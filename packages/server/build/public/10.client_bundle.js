(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[10],{

/***/ "./client/src/common/ErrorBoundary.js":
/*!********************************************!*\
  !*** ./client/src/common/ErrorBoundary.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _common_Form_Popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/Form/Popup */ \"./client/src/common/Form/Popup.js\");\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/prop-types */\n\n\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(ErrorBoundary, _React$Component);\n\n  var _super = _createSuper(ErrorBoundary);\n\n  function ErrorBoundary(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ErrorBoundary);\n\n    _this = _super.call(this, props);\n\n    _this.closeDailogue = function () {\n      _this.setState({\n        hasError: false\n      });\n    };\n\n    _this.state = {\n      hasError: false\n    };\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      // You can also log the error to an error reporting service\n      console.error('Error by eror bounday', error, errorInfo);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          hasError = _this$state.hasError,\n          error = _this$state.error;\n      var children = this.props.children;\n\n      if (hasError) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_common_Form_Popup__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n          isOpen: hasError,\n          onClose: this.closeDailogue,\n          title: \"Error\",\n          hasBackdrop: false\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"h1\", null, \"\".concat(error)));\n      }\n\n      return children;\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      // Update state so the next render will show the fallback UI.\n      return {\n        hasError: true,\n        error: error\n      };\n    }\n  }]);\n\n  return ErrorBoundary;\n}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorBoundary);\n\n//# sourceURL=webpack:///./client/src/common/ErrorBoundary.js?");

/***/ }),

/***/ "./client/src/common/notification/index.js":
/*!*************************************************!*\
  !*** ./client/src/common/notification/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_web_notification__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-web-notification */ \"../../node_modules/react-web-notification/lib/components/Notification.js\");\n/* harmony import */ var react_web_notification__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_web_notification__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable no-undef */\n\n\n // import { Howl } from 'howler';\n\nvar NotificationComponent = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(NotificationComponent, _React$Component);\n\n  var _super = _createSuper(NotificationComponent);\n\n  function NotificationComponent(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, NotificationComponent);\n\n    _this = _super.call(this, props);\n\n    _this.handlePermissionGranted = function () {\n      _this.setState({\n        ignore: false\n      });\n    };\n\n    _this.handlePermissionDenied = function () {\n      _this.setState({\n        ignore: true\n      });\n    };\n\n    _this.handleNotSupported = function () {\n      _this.setState({\n        ignore: true\n      });\n    };\n\n    _this.handleNotificationOnShow = function () {// this.playSound();\n    };\n\n    _this.onNotificationClick = function () {\n      window.focus();\n    };\n\n    var title = _this.props.title;\n    _this.state = {\n      ignore: true,\n      title: title,\n      options: {\n        tag: 'now',\n        icon: '/assets/graphics/logo.svg',\n        image: '/assets/graphics/logo.svg',\n        lang: 'en',\n        dir: 'ltr',\n        sound: '/assets/media/ringtone.mp3'\n      }\n    };\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(NotificationComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          ignore = _this$state.ignore,\n          title = _this$state.title,\n          options = _this$state.options; // console.log('prosp in notification', this.props);\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_web_notification__WEBPACK_IMPORTED_MODULE_6___default.a, {\n        ignore: ignore // disableActiveWindow\n        ,\n        notSupported: this.handleNotSupported,\n        onPermissionGranted: this.handlePermissionGranted,\n        onShow: this.handleNotificationOnShow,\n        timeout: 60000,\n        title: title,\n        options: options,\n        onClick: this.onNotificationClick,\n        swRegistration: this.props.swRegistration\n      }));\n    }\n  }]);\n\n  return NotificationComponent;\n}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);\n\nreact_web_notification__WEBPACK_IMPORTED_MODULE_6___default.a.propTypes = {\n  title: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,\n  body: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (NotificationComponent);\n\n//# sourceURL=webpack:///./client/src/common/notification/index.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/chat-history-on-live/index.js":
/*!***************************************************************************!*\
  !*** ./client/src/communication/callscreen/chat-history-on-live/index.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"../../node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _chathistory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chathistory */ \"./client/src/communication/chathistory/index.js\");\n/* harmony import */ var react_icons_bi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/bi */ \"../../node_modules/react-icons/bi/index.esm.js\");\n\n\n\n\n\n\nvar ScChatList = function ScChatList(props) {\n  var onClose = props.onClose;\n  var webRtc = props.webRtc,\n      database = props.database;\n  var user = webRtc.chatHistory.user;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-chat-history\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-ch-header\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"icon-con\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_icons_bi__WEBPACK_IMPORTED_MODULE_4__[\"BiChevronsRight\"], {\n    onClick: function onClick() {\n      return onClose(null);\n    },\n    size: 20\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-ch-title\"\n  }, webRtc.chatHistory.type === 'user' ? \"\".concat(user.user.firstName, \" \").concat(user.user.lastName) : database.Board.byId[webRtc.chatHistory.connectionId].name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-ch-content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_chathistory__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {\n    fromLive: true\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-ch-footer\"\n  }));\n};\n\nScChatList.propTypes = {\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any).isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScChatList);\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/chat-history-on-live/index.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/chat-list-on-live/index.js":
/*!************************************************************************!*\
  !*** ./client/src/communication/callscreen/chat-list-on-live/index.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"../../node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _chatlist__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chatlist */ \"./client/src/communication/chatlist/index.js\");\n/* harmony import */ var react_icons_bi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/bi */ \"../../node_modules/react-icons/bi/index.esm.js\");\n\n\n\n\n\n\nvar ScChatList = function ScChatList(props) {\n  var onClose = props.onClose,\n      onClickItem = props.onClickItem;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-chat-list\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-cl-header\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-cl-title\"\n  }, \"Chats\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"icon-con\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_icons_bi__WEBPACK_IMPORTED_MODULE_4__[\"BiChevronsLeft\"], {\n    size: 20,\n    onClick: onClose\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-cl-content\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_chatlist__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {\n    fromLive: true,\n    showChatHistory: onClickItem\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"sc-cl-footer\"\n  }));\n};\n\nScChatList.propTypes = {\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,\n  onClickItem: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScChatList);\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/chat-list-on-live/index.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/error-screen/DeviceNotFoundError.js":
/*!*********************************************************************************!*\
  !*** ./client/src/communication/callscreen/error-screen/DeviceNotFoundError.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_icons_fi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-icons/fi */ \"../../node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* eslint-disable react/jsx-indent */\n\n\n\n\nvar DeviceNotFoundError = function DeviceNotFoundError(props) {\n  var webRtc = props.webRtc;\n  var deviceNotAllowed = webRtc.deviceNotAllowed;\n\n  if (deviceNotAllowed) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        maxWidth: '80%',\n        background: '#fff',\n        padding: '20px',\n        borderRadius: '10px'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Camera and microphone are blocked\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Properclass requires access to your camera and microphone. Click the camera blocked icon\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_1__[\"FiVideoOff\"], {\n      color: \"red\",\n      size: 20,\n      style: {\n        padding: 2,\n        marginBottom: -5\n      }\n    }), \"in your browser`s address bar.\"));\n  }\n\n  if (webRtc.devices) {\n    var audioDevices = webRtc.devices.audio;\n    var videoDevices = webRtc.devices.video;\n\n    if (audioDevices && videoDevices) {\n      if (audioDevices.length === 0 && videoDevices.length === 0) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          style: {\n            maxWidth: '80%',\n            background: '#fff',\n            padding: '20px',\n            borderRadius: '10px'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Camera and microphone are not found or blocked\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Properclass requires access to your camera and microphone. Click the camera blocked icon\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_1__[\"FiVideoOff\"], {\n          color: \"red\",\n          size: 20,\n          style: {\n            padding: 2,\n            marginBottom: -5\n          }\n        }), \"in your browser`s address bar.\"));\n      }\n\n      if (audioDevices.length === 0) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          style: {\n            maxWidth: '80%',\n            background: '#fff',\n            padding: '20px',\n            borderRadius: '10px'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Microphone is not found or blocked\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Properclass requires access to your camera and microphone. Click the camera blocked icon\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_1__[\"FiMicOff\"], {\n          color: \"red\",\n          size: 20,\n          style: {\n            padding: 2,\n            marginBottom: -5\n          }\n        }), \"in your browser`s address bar.\"));\n      }\n\n      if (videoDevices.length === 0) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          style: {\n            maxWidth: '80%',\n            background: '#fff',\n            padding: '20px',\n            borderRadius: '10px'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Camera is not found or blocked\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"Properclass requires access to your camera and microphone. Click the camera blocked icon\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_1__[\"FiVideoOff\"], {\n          color: \"red\",\n          size: 20,\n          style: {\n            padding: 2,\n            marginBottom: -5\n          }\n        }), \"in your browser`s address bar.\"));\n      }\n    }\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DeviceNotFoundError);\nDeviceNotFoundError.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any).isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/error-screen/DeviceNotFoundError.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/error-screen/ScreenshareNotAllowedError.js":
/*!****************************************************************************************!*\
  !*** ./client/src/communication/callscreen/error-screen/ScreenshareNotAllowedError.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/utility-functions/Button/Button */ \"./client/src/common/utility-functions/Button/Button.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable react/prop-types */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var webRtc = props.webRtc,\n      updateWebRtc = props.updateWebRtc,\n      _callHandler = props._callHandler; // console.log('props in screenshare not allowed error component', props);\n\n  var screenShareNotAllowed = webRtc.screenShareNotAllowed;\n\n  var dismissHandler = function dismissHandler() {\n    updateWebRtc('screenShareNotAllowed', false);\n    updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n      mediaType: 'audio',\n      callEnd: false\n    }));\n\n    _callHandler('audio');\n  };\n\n  if (screenShareNotAllowed) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: {\n        width: '80%',\n        zIndex: 5,\n        background: '#fff',\n        padding: '20px',\n        borderRadius: '10px'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"h3\", null, \"You must authorize screen sharing\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", null, \"Properclass is not able to enable screen sharing. It may come from your browser or OS authorizations.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", null, \"Please refer\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n      href: \"https://support.livestorm.co/article/131-troubleshoot-screen-sharing\",\n      target: \"_blank\"\n    }, \"to this article\"), \"to fix this issue.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: {\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'flex-end'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], {\n      onClick: dismissHandler,\n      type: \"button\",\n      buttonStyle: \"btn--danger--solid\",\n      buttonSize: \"btn--medium\",\n      title: \"Dismiss\"\n    })));\n  }\n\n  return null;\n});\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/error-screen/ScreenshareNotAllowedError.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/incomming-screen/index.js":
/*!***********************************************************************!*\
  !*** ./client/src/communication/callscreen/incomming-screen/index.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_icons_ai__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-icons/ai */ \"../../node_modules/react-icons/ai/index.esm.js\");\n/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-icons/fa */ \"../../node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var _components_RoundPicture__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/RoundPicture */ \"./client/src/components/RoundPicture.js\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components */ \"./client/src/communication/components/index.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../config */ \"./client/src/config/index.js\");\n/* harmony import */ var _error_screen_DeviceNotFoundError__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../error-screen/DeviceNotFoundError */ \"./client/src/communication/callscreen/error-screen/DeviceNotFoundError.js\");\n/* harmony import */ var _common_notification__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../common/notification */ \"./client/src/common/notification/index.js\");\n/* harmony import */ var _common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../common/utility-functions/Button/Button */ \"./client/src/common/utility-functions/Button/Button.js\");\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\nvar IncomingCallScreen = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(IncomingCallScreen, _React$Component);\n\n  var _super = _createSuper(IncomingCallScreen);\n\n  function IncomingCallScreen() {\n    var _temp, _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, IncomingCallScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.state = {}, _this.callAccept = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee(mediaType) {\n        var _this$props, answerHandler, apis, updateWebRtc, webRtc, account;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, answerHandler = _this$props.answerHandler, apis = _this$props.apis, updateWebRtc = _this$props.updateWebRtc, webRtc = _this$props.webRtc, account = _this$props.account;\n                _context.next = 3;\n                return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, account.user.id, {\n                  streams: []\n                })));\n\n              case 3:\n                _context.next = 5;\n                return updateWebRtc('isCallUpgraded', false);\n\n              case 5:\n                _context.next = 7;\n                return updateWebRtc('isLive', true);\n\n              case 7:\n                _context.next = 9;\n                return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n                  stream: null,\n                  mediaType: mediaType,\n                  callType: 'Incoming'\n                }));\n\n              case 9:\n                _context.next = 11;\n                return answerHandler(mediaType);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), _this.callReject = /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee2() {\n      var _this$props2, change, updateWebRtc, closeHandler;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props2 = _this.props, change = _this$props2.change, updateWebRtc = _this$props2.updateWebRtc, closeHandler = _this$props2.closeHandler;\n              closeHandler('callReject');\n              updateWebRtc('showIncommingCall', false);\n              change('history');\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })), _temp));\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(IncomingCallScreen, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          style = _this$props3.style,\n          webRtc = _this$props3.webRtc,\n          database = _this$props3.database;\n      var isUser = webRtc.localCallHistory.chatHistory.type === 'user'; // console.log('props in incomming call', this.props);\n\n      var swRegistration = webRtc.swRegistration;\n      var isDeviceNotFound;\n\n      if (webRtc.devices) {\n        var audioDevices = webRtc.devices.audio || [];\n        var videoDevices = webRtc.devices.video || [];\n        isDeviceNotFound = audioDevices.length || videoDevices.length;\n      }\n\n      var displayName;\n      var displayImageUrl;\n\n      if (isUser) {\n        var _database$UserConnect = database.UserConnection.byId[webRtc.showCommunication].user,\n            user = _database$UserConnect.user,\n            userDetail = _database$UserConnect.userDetail;\n        var userDetails = userDetail || {};\n        displayName = \"\".concat(user.firstName, \" \").concat(user.lastName);\n        displayImageUrl = userDetails.image ? \"\".concat(_config__WEBPACK_IMPORTED_MODULE_14__[\"ENDPOINT\"], \"/assets/user/\").concat(10000000 + parseInt(user.id, 10), \"/profile/\").concat(userDetails.image) : '/assets/graphics/user.svg';\n      } else {\n        displayName = database.Board.byId[webRtc.showCommunication].name;\n        displayImageUrl = '/assets/graphics/user.svg';\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: style,\n        className: \"incoming-call-screen\"\n      }, webRtc.showIncommingCall && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_13__[\"SoundComponent\"], {\n        incoming: true,\n        url: \"/assets/media/ringtone.mp3\"\n      }), webRtc.showIncommingCall && swRegistration && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_notification__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n        swRegistration: swRegistration,\n        title: \"Incoming Call From \".concat(displayName)\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"person-icon-container\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100%'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignSelf: 'center',\n          flexDirection: 'column'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: {\n          width: '100%',\n          display: 'flex',\n          alignSelf: 'center',\n          justifyContent: 'center',\n          margin: 5,\n          marginBottom: 25\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n        style: {\n          fontSize: 20,\n          fontWeight: 'bold',\n          color: 'white'\n        }\n      }, displayName)), !webRtc.deviceNotAllowed && isDeviceNotFound ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"img-container\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_RoundPicture__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        imgUrl: displayImageUrl\n      })) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          width: '100%',\n          justifyContent: 'center'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_error_screen_DeviceNotFoundError__WEBPACK_IMPORTED_MODULE_15__[\"default\"], this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: {\n          width: '100%',\n          display: 'flex',\n          justifyContent: 'center',\n          margin: 5\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n        style: {\n          fontSize: 15,\n          fontWeight: 'bold',\n          color: '#757575'\n        }\n      }, webRtc.currentOffer ? \"Incoming \".concat(webRtc.currentOffer.callType, \" call...\") : null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"controllers\"\n      }, !webRtc.deviceNotAllowed && isDeviceNotFound ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_17__[\"Button\"], {\n        onClick: function onClick() {\n          return _this2.callAccept('audio');\n        },\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_11__[\"FaPhoneAlt\"], null),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      }) : null, !webRtc.deviceNotAllowed && isDeviceNotFound ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_17__[\"Button\"], {\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_11__[\"FaVideo\"], null),\n        onClick: function onClick() {\n          return _this2.callAccept('video');\n        },\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      }) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_17__[\"Button\"], {\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_10__[\"AiOutlineClose\"], null),\n        onClick: this.callReject,\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\",\n        className: \"pc-close-call-btn\"\n      })))));\n    }\n  }]);\n\n  return IncomingCallScreen;\n}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);\n\nIncomingCallScreen.propTypes = {\n  style: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired,\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired,\n  answerHandler: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,\n  apis: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired,\n  change: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,\n  updateWebRtc: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired,\n  closeHandler: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (IncomingCallScreen);\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/incomming-screen/index.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/index.js":
/*!******************************************************!*\
  !*** ./client/src/communication/callscreen/index.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _outgoing_screen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./outgoing-screen */ \"./client/src/communication/callscreen/outgoing-screen/index.js\");\n/* harmony import */ var _live_screen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./live-screen */ \"./client/src/communication/callscreen/live-screen/index.js\");\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\nvar Index = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(Index, _React$Component);\n\n  var _super = _createSuper(Index);\n\n  function Index() {\n    var _temp, _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Index);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.state = {}, _temp));\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Index, [{\n    key: \"render\",\n    value: function render() {\n      var webRtc = this.props.webRtc;\n      return webRtc.isLive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_live_screen__WEBPACK_IMPORTED_MODULE_8__[\"default\"], this.props) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_outgoing_screen__WEBPACK_IMPORTED_MODULE_7__[\"default\"], this.props);\n    }\n  }]);\n\n  return Index;\n}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);\n\nIndex.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.any).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/index.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/live-screen/components/CallTimer.js":
/*!*********************************************************************************!*\
  !*** ./client/src/communication/callscreen/live-screen/components/CallTimer.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable no-nested-ternary */\n\n\n\nvar CallTimer = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(CallTimer, _React$Component);\n\n  var _super = _createSuper(CallTimer);\n\n  function CallTimer(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, CallTimer);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      timerCount: 0,\n      isTimerStart: false\n    };\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(CallTimer, [{\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      var _componentWillReceiveProps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee(props) {\n        var _this2 = this;\n\n        var webRtc, database, isTimerStart, startTime, offset, timer;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                webRtc = props.webRtc, database = props.database;\n                isTimerStart = this.state.isTimerStart;\n\n                if (!(webRtc.localCallHistory.startTime && !isTimerStart)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                if (!(webRtc.localCallHistory.chatHistory.type === 'board')) {\n                  _context.next = 8;\n                  break;\n                }\n\n                startTime = database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].startTime;\n                offset = Math.floor((Date.now() - startTime) / 1000);\n                _context.next = 8;\n                return this.setState({\n                  timerCount: offset || 0\n                });\n\n              case 8:\n                timer = setInterval(function () {\n                  return _this2.setState({\n                    timerCount: _this2.state.timerCount + 1\n                  });\n                }, 1000);\n                this.setState({\n                  isTimerStart: true,\n                  timer: timer\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillReceiveProps(_x) {\n        return _componentWillReceiveProps.apply(this, arguments);\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var timer = this.state.timer;\n      clearInterval(timer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log('props in timer', this.props);\n      var timerCount = this.state.timerCount;\n      var secs = timerCount % 60;\n      var mins = Math.floor(timerCount / 60) % 60;\n      var hrs = Math.floor(mins / 60);\n      var showZeroSec = secs < 10;\n      var showZeroMins = mins < 10;\n      var showMinusDoubleZero = mins === 0;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        style: {\n          marginLeft: 10\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", null, \"\".concat(hrs ? \"\".concat(hrs, \"h:\") : '').concat(showMinusDoubleZero ? '00' : showZeroMins ? '0' : '').concat(mins || '', \"m:\").concat(showZeroSec ? '0' : '').concat(secs, \"s\")));\n    }\n  }]);\n\n  return CallTimer;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CallTimer);\nCallTimer.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any).isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/live-screen/components/CallTimer.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/live-screen/components/Controllers.js":
/*!***********************************************************************************!*\
  !*** ./client/src/communication/callscreen/live-screen/components/Controllers.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ \"../../node_modules/react-router-dom/es/index.js\");\n/* harmony import */ var react_icons_ti__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-icons/ti */ \"../../node_modules/react-icons/ti/index.esm.js\");\n/* harmony import */ var react_icons_fi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-icons/fi */ \"../../node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _helper_functions_callUpgrader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helper-functions/callUpgrader */ \"./client/src/communication/callscreen/live-screen/helper-functions/callUpgrader.js\");\n/* harmony import */ var _helper_functions_webrtc_mesh__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../helper-functions/webrtc/mesh */ \"./client/src/communication/helper-functions/webrtc/mesh/index.js\");\n/* harmony import */ var _common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../common/utility-functions/Button/Button */ \"./client/src/common/utility-functions/Button/Button.js\");\n/* harmony import */ var _common_Form_Tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../common/Form/Tooltip */ \"./client/src/common/Form/Tooltip.js\");\n/* harmony import */ var _common_utility_functions_getDeviceType__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../common/utility-functions/getDeviceType */ \"./client/src/common/utility-functions/getDeviceType.js\");\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\nvar Controllers = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Controllers, _React$Component);\n\n  var _super = _createSuper(Controllers);\n\n  function Controllers(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Controllers);\n\n    _this = _super.call(this, props);\n    _this.recordingHandler = /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee() {\n      var startRecording, _this$props, updateWebRtc, webRtc, mediaRecording;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // console.log('media recorder called 1');\n              startRecording = _this.state.startRecording;\n              _this$props = _this.props, updateWebRtc = _this$props.updateWebRtc, webRtc = _this$props.webRtc;\n\n              if (startRecording) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 5;\n              return Object(_helper_functions_webrtc_mesh__WEBPACK_IMPORTED_MODULE_13__[\"mediaRecorder\"])(1, _this.props);\n\n            case 5:\n              mediaRecording = _context.sent;\n              _context.next = 8;\n              return updateWebRtc('mediaRecording', mediaRecording);\n\n            case 8:\n              _this.setState({\n                startRecording: true\n              });\n\n              _context.next = 16;\n              break;\n\n            case 11:\n              _context.next = 13;\n              return webRtc.mediaRecording.stopRecording();\n\n            case 13:\n              _context.next = 15;\n              return updateWebRtc('mediaRecording', null);\n\n            case 15:\n              _this.setState({\n                startRecording: false\n              });\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.callReject = function (autoClose) {\n      var _this$props2 = _this.props,\n          closeHandler = _this$props2.closeHandler,\n          change = _this$props2.change,\n          remoteCallEndMinimizer = _this$props2.remoteCallEndMinimizer;\n      remoteCallEndMinimizer();\n      closeHandler(autoClose);\n      change('history');\n    };\n\n    _this.callUpGradeController = /*#__PURE__*/function () {\n      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee2(currentMediaType) {\n        var webRtc, preMediaType;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                webRtc = _this.props.webRtc;\n                preMediaType = webRtc.localCallHistory.mediaType; // console.log('MideaStatus', preMediaType, currentMediaType);\n\n                if (!(preMediaType === currentMediaType)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                Object(_helper_functions_callUpgrader__WEBPACK_IMPORTED_MODULE_12__[\"default\"])('audio', _this.props);\n                _context2.next = 13;\n                break;\n\n              case 6:\n                if (!(currentMediaType === 'whiteBoard')) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                _context2.next = 9;\n                return _this.setState({\n                  showWhiteBoard: true\n                });\n\n              case 9:\n                Object(_helper_functions_callUpgrader__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(currentMediaType, _this.props);\n                _context2.next = 13;\n                break;\n\n              case 12:\n                Object(_helper_functions_callUpgrader__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(currentMediaType, _this.props);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.muteToggle = function () {// perform mute here\n    };\n\n    _this.state = {\n      showWhiteBoard: false,\n      startRecording: false\n    };\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Controllers, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var webRtc = newProps.webRtc,\n          database = newProps.database;\n\n      if (webRtc.isLive) {\n        var _webRtc$localCallHist = webRtc.localCallHistory.chatHistory,\n            type = _webRtc$localCallHist.type,\n            connectionId = _webRtc$localCallHist.connectionId;\n\n        if (type === 'board') {\n          var _Object$values$find = Object.values(database.Board.byId).find(function (b) {\n            return b.id === parseInt(connectionId, 10);\n          }),\n              activeStatus = _Object$values$find.activeStatus; // console.log('Board active status', activeStatus);\n\n\n          if (!activeStatus) {// this causes prolem in sfu call\n            // this.callReject('autoClose');\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // console.log('props in controller', this.props);\n      var _this$props3 = this.props,\n          webRtc = _this$props3.webRtc,\n          account = _this$props3.account;\n      var _this$state = this.state,\n          showWhiteBoard = _this$state.showWhiteBoard,\n          startRecording = _this$state.startRecording;\n      var isDesktop = Object(_common_utility_functions_getDeviceType__WEBPACK_IMPORTED_MODULE_16__[\"default\"])() === 'Desktop';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"controllers\"\n      }, showWhiteBoard && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"Redirect\"], {\n        to: \"/\".concat(account.user.slug, \"/drawing-board\")\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_Form_Tooltip__WEBPACK_IMPORTED_MODULE_15__[\"Tooltip\"], {\n        content: \"Call End\",\n        position: \"top\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_14__[\"Button\"], {\n        className: \"pc-control-btn\",\n        onClick: this.callReject,\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_11__[\"FiPhone\"], {\n          size: 20\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_Form_Tooltip__WEBPACK_IMPORTED_MODULE_15__[\"Tooltip\"], {\n        content: \"Video\",\n        position: \"top\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_14__[\"Button\"], {\n        className: webRtc.localCallHistory.mediaType === 'video' ? 'pc-control-btn active' : 'pc-control-btn',\n        onClick: function onClick() {\n          return _this2.callUpGradeController('video');\n        },\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_11__[\"FiVideo\"], {\n          size: 20\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      })), isDesktop && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_Form_Tooltip__WEBPACK_IMPORTED_MODULE_15__[\"Tooltip\"], {\n        content: \"Screenshare\",\n        position: \"top\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_14__[\"Button\"], {\n        className: webRtc.localCallHistory.mediaType === 'screenshare' ? 'pc-control-btn active' : 'pc-control-btn',\n        onClick: function onClick() {\n          return _this2.callUpGradeController('screenshare');\n        },\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_11__[\"FiCopy\"], {\n          size: 20\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_Form_Tooltip__WEBPACK_IMPORTED_MODULE_15__[\"Tooltip\"], {\n        content: \"Recording\",\n        position: \"top\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_14__[\"Button\"], {\n        className: startRecording ? 'pc-control-btn active record' : 'pc-control-btn',\n        onClick: function onClick() {\n          return _this2.recordingHandler();\n        },\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_ti__WEBPACK_IMPORTED_MODULE_10__[\"TiMediaRecord\"], {\n          size: 20\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_Form_Tooltip__WEBPACK_IMPORTED_MODULE_15__[\"Tooltip\"], {\n        content: webRtc.localCallHistory.mute ? \"Unmute\" : \"Mute\",\n        position: \"top\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_14__[\"Button\"], {\n        className: webRtc.localCallHistory.mute ? 'pc-control-btn active' : 'pc-control-btn',\n        onClick: function onClick() {\n          return _this2.callUpGradeController(webRtc.localCallHistory.mute ? 'unmute' : 'mute');\n        },\n        icon: webRtc.localCallHistory.mute ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_11__[\"FiMicOff\"], {\n          size: 20\n        }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_11__[\"FiMic\"], {\n          size: 20\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      })));\n    }\n  }]);\n\n  return Controllers;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Controllers);\nControllers.propTypes = {\n  closeHandler: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,\n  change: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,\n  updateWebRtc: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,\n  remoteCallEndMinimizer: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any).isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any).isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/live-screen/components/Controllers.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/live-screen/components/ImageOnMainScreen.js":
/*!*****************************************************************************************!*\
  !*** ./client/src/communication/callscreen/live-screen/components/ImageOnMainScreen.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../components */ \"./client/src/components/index.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../config */ \"./client/src/config/index.js\");\n/* harmony import */ var _error_screen_ScreenshareNotAllowedError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../error-screen/ScreenshareNotAllowedError */ \"./client/src/communication/callscreen/error-screen/ScreenshareNotAllowedError.js\");\n/* eslint-disable prefer-destructuring */\n\n\n\n\n // const userIcon = require('../../../../../assets/graphics/user.svg');\n\nvar ImageOnMainScreen = function ImageOnMainScreen(props) {\n  var webRtc = props.webRtc,\n      database = props.database,\n      minimize = props.minimize; // console.log('webRtc value in ImageOnMainScreen', webRtc);\n\n  var showImage = false;\n  var imgUrl = '';\n  var conId;\n  var type;\n  var user;\n  var userDetail;\n\n  if (webRtc.localCallHistory.chatHistory) {\n    type = webRtc.localCallHistory.chatHistory.type;\n\n    if (type === 'user') {\n      conId = webRtc.localCallHistory.chatHistory.user.user.id;\n    }\n\n    if (type === 'board') {\n      conId = database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].activeStatus;\n    }\n  }\n\n  if (type === 'user' && conId) {\n    var userConnection = Object.values(database.UserConnection.byId).find(function (c) {\n      return c.user.user.id === conId;\n    });\n\n    if (userConnection) {\n      user = userConnection.user.user;\n      userDetail = userConnection.user.userDetail || {};\n    }\n  }\n\n  if (type === 'user' && user && userDetail) {\n    // const userDetail = Object.values(database.User.byId).find(o => o.userId === webRtc.localCallHistory.chatHistory.user.user.id);\n    imgUrl = userDetail && userDetail.image ? \"\".concat(_config__WEBPACK_IMPORTED_MODULE_3__[\"ENDPOINT\"], \"/assets/user/\").concat(10000000 + parseInt(user.id, 10), \"/profile/\").concat(userDetail.image) : '/assets/graphics/user.svg';\n\n    if (webRtc.connectedUsers[conId] && webRtc.connectedUsers[conId].type === 'audio') {\n      showImage = true;\n    }\n  } else if (webRtc.connectedUsers[conId] && database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].mediaType === 'audio') {\n    showImage = true;\n  } // console.log('showImage', showImage, webRtc.connectedUsers);\n\n\n  if (webRtc.screenShareNotAllowed) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"img-main-screen\",\n      style: {\n        display: minimize ? 'none' : 'flex'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_error_screen_ScreenshareNotAllowedError__WEBPACK_IMPORTED_MODULE_4__[\"default\"], props));\n  }\n\n  if (!showImage) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"img-main-screen\",\n    style: {\n      display: minimize ? 'none' : 'flex'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: type\n  }, type === 'user' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_2__[\"RoundPicture\"], {\n    imgUrl: imgUrl\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n    src: \"/assets/graphics/classroom.svg\",\n    style: {\n      height: '130px',\n      width: '130px'\n    }\n  })));\n};\n\nImageOnMainScreen.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any).isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any).isRequired,\n  minimize: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ImageOnMainScreen);\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/live-screen/components/ImageOnMainScreen.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/live-screen/components/MainScreen.js":
/*!**********************************************************************************!*\
  !*** ./client/src/communication/callscreen/live-screen/components/MainScreen.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable no-undef */\n\n/* eslint-disable prefer-destructuring */\n\n/* eslint-disable react/jsx-indent */\n\n/* eslint-disable jsx-a11y/media-has-caption */\n\n\n\nvar MainScreen = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(MainScreen, _React$Component);\n\n  var _super = _createSuper(MainScreen);\n\n  function MainScreen(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, MainScreen);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MainScreen, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props = this.props,\n          database = _this$props.database,\n          webRtc = _this$props.webRtc;\n      var currentmentorId = webRtc.localCallHistory.chatHistory.type === 'user' ? webRtc.localCallHistory.chatHistory.user.user.id : database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].activeStatus;\n      var mentorId = webRtc.localCallHistory.chatHistory.type === 'user' ? webRtc.localCallHistory.chatHistory.user.user.id : nextProps.database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].activeStatus;\n      var currentStream = JSON.stringify(webRtc.connectedUsers[mentorId]);\n      var newStream = JSON.stringify(nextProps.webRtc.connectedUsers[mentorId]);\n\n      if (currentStream !== newStream || currentmentorId !== mentorId) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props2 = this.props,\n          webRtc = _this$props2.webRtc,\n          database = _this$props2.database,\n          account = _this$props2.account;\n      var videoElment = document.getElementById('video-mentor');\n      var mentorId = webRtc.localCallHistory.chatHistory.type === 'user' ? webRtc.localCallHistory.chatHistory.user.user.id : database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].activeStatus;\n      var mentorStream = webRtc.connectedUsers[mentorId]; // console.log('Mentor Streams', mentorStream, videoElment);\n\n      if (videoElment && mentorStream) {\n        mentorStream.streams.forEach(function (stream) {\n          if (stream) {\n            if (stream.streams) {\n              videoElment.srcObject = stream.streams[0];\n            }\n\n            if (parseInt(mentorId, 10) === account.user.id) {\n              videoElment.srcObject = stream;\n            }\n\n            videoElment.srcObject = stream;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log('Mentor Screen', this.props.webRtc.connectedUsers);\n      var _this$props3 = this.props,\n          database = _this$props3.database,\n          webRtc = _this$props3.webRtc,\n          account = _this$props3.account;\n      var muted = webRtc.localCallHistory.chatHistory.type === 'board' ? database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].activeStatus === account.user.id : false;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n        className: \"pc-main-screen\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"video\", {\n        // controls\n        id: \"video-mentor\",\n        playsInline: true,\n        controlsList: \"noremoteplayback\",\n        autoPlay: true,\n        muted: muted,\n        className: \"pc-main-video\" // poster={user && `${ENDPOINT}/user/${10000000 + parseInt(userId, 10)}/profile/${Object.values(database.UserDetail.byId).find(u => u.userId === userId).image}`}\n\n      }));\n    }\n  }]);\n\n  return MainScreen;\n}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MainScreen);\nMainScreen.propTypes = {\n  database: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.any).isRequired,\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.any).isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.any).isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/live-screen/components/MainScreen.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/live-screen/components/UsersScreens.js":
/*!************************************************************************************!*\
  !*** ./client/src/communication/callscreen/live-screen/components/UsersScreens.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../config */ \"./client/src/config/index.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable prefer-destructuring */\n\n/* eslint-disable jsx-a11y/media-has-caption */\n\n\n\n\n\nvar UserView = function UserView(_ref) {\n  var pc = _ref.pc,\n      database = _ref.database,\n      mute = _ref.mute,\n      userId = _ref.userId,\n      status = _ref.status,\n      account = _ref.account;\n  var user;\n  var userDetail;\n\n  if (userId === account.user.id) {\n    user = account.user;\n    userDetail = account.user.userDetails;\n  } else {\n    var boardMember = Object.values(database.BoardMember.byId).find(function (bm) {\n      return bm.user.user.id === userId;\n    });\n    user = boardMember.user.user;\n    userDetail = boardMember.user.userDetail;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n    className: \"pc-each-screen\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"video\", {\n    muted: mute,\n    id: \"video-\".concat(user.id),\n    playsInline: true,\n    poster: userDetail ? \"\".concat(_config__WEBPACK_IMPORTED_MODULE_8__[\"ENDPOINT\"], \"/assets/user/\").concat(10000000 + parseInt(userId, 10), \"/profile/\").concat(userDetail.image) : null // controls\n    ,\n    autoPlay: true\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n    className: \"pc-info\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n    className: \"pc-short-name\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"span\", null, user.id === account.user.id ? 'You' : \"\".concat(user.firstName[0]).concat(user.lastName[0]))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n    className: \"pc-ice\"\n  }, pc ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"span\", {\n    className: \"pc-ice-status\"\n  }, status) : null)));\n};\n\nUserView.propTypes = {\n  pc: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  mute: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,\n  userId: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number.isRequired,\n  status: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired\n};\n\nvar UsersView = function UsersView(props) {\n  var account = props.account,\n      database = props.database;\n\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc;\n\n  var _webRtc$localCallHist = webRtc.localCallHistory.chatHistory,\n      type = _webRtc$localCallHist.type,\n      connectionId = _webRtc$localCallHist.connectionId;\n  var muteId = type === 'user' ? webRtc.mainStreamId : database.Board.byId[connectionId].activeStatus;\n  var allActiveUserIds = Object.keys(webRtc.connectedUsers).filter(function (uid) {\n    return parseInt(uid, 10) !== account.user.id;\n  }).filter(function (uid) {\n    return webRtc.connectedUsers[uid].iceCandidateStatus !== 'disconnected';\n  });\n  var allActiveUserUis = allActiveUserIds.filter(function (uid) {\n    return parseInt(uid, 10) !== parseInt(muteId, 10);\n  }).filter(function (uid) {\n    return webRtc.connectedUsers[uid].streams.length > 0;\n  }).map(function (uid) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(UserView, {\n      account: account,\n      status: webRtc.connectedUsers[uid].iceCandidateStatus,\n      userId: parseInt(uid, 10),\n      pc: webRtc.peerConnections[parseInt(uid, 10)],\n      database: database,\n      mute: muteId === parseInt(uid, 10)\n    });\n  });\n  var finalUserList = webRtc.localCallHistory.chatHistory.type === 'user' ? [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(UserView, {\n    account: account,\n    userId: account.user.id,\n    pc: account,\n    mute: true,\n    key: account.user.id,\n    database: database\n  })] : [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5___default()(allActiveUserUis), [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(UserView, {\n    userId: account.user.id,\n    mute: true,\n    account: account,\n    pc: account,\n    key: account.user.id,\n    database: database\n  })]);\n  return finalUserList;\n};\n\nvar UsersScreen = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(UsersScreen, _React$Component);\n\n  var _super = _createSuper(UsersScreen);\n\n  function UsersScreen(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, UsersScreen);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(UsersScreen, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var webRtc = this.props.webRtc;\n\n      if (JSON.stringify(nextProps.webRtc.connectedUsers) !== JSON.stringify(webRtc.connectedUsers)) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props = this.props,\n          webRtc = _this$props.webRtc,\n          account = _this$props.account;\n      var userIds = Object.keys(webRtc.connectedUsers);\n      var allVideoElements = userIds.map(function (uid) {\n        return document.getElementById(\"video-\".concat(uid));\n      }); // console.log('userIds', userIds, webRtc.connectedUsers, allVideoElements);\n\n      if (allVideoElements) {\n        allVideoElements.forEach(function (ve, idx) {\n          if (ve) {\n            webRtc.connectedUsers[userIds[idx]].streams.forEach(function (stream) {\n              if (stream) {\n                // if (stream.streams) {\n                //   ve.srcObject = stream;\n                // }\n                // if (parseInt(userIds[idx], 10) === account.user.id) {\n                ve.srcObject = stream; // }\n              }\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"pc-user-screens\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(UsersView, this.props));\n    }\n  }]);\n\n  return UsersScreen;\n}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (UsersScreen);\nUsersScreen.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/live-screen/components/UsersScreens.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/live-screen/helper-functions/callUpgrader.js":
/*!******************************************************************************************!*\
  !*** ./client/src/communication/callscreen/live-screen/helper-functions/callUpgrader.js ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(mediaType, props) {\n    var _callHandler, updateWebRtc, webRtc, account, updateDatabaseSchema;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _callHandler = props._callHandler, updateWebRtc = props.updateWebRtc, webRtc = props.webRtc, account = props.account, updateDatabaseSchema = props.updateDatabaseSchema; // update webRtc\n\n            _context.next = 3;\n            return updateWebRtc('isCallUpgraded', true);\n\n          case 3:\n            if (!webRtc.localCallHistory.stream) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 6;\n            return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, account.user.id, _objectSpread(_objectSpread({}, webRtc.connectedUsers[account.user.id]), {}, {\n              type: mediaType\n            }))));\n\n          case 6:\n            if (!(webRtc.localCallHistory.chatHistory.type === 'board' && mediaType !== 'mute' && mediaType !== 'unmute')) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 9;\n            return updateDatabaseSchema('Board', {\n              id: webRtc.localCallHistory.chatHistory.connectionId,\n              activeStatus: account.user.id\n            });\n\n          case 9:\n            if (!(mediaType === 'mute' || mediaType === 'unmute')) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 12;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              callEnd: false,\n              mute: mediaType === 'mute'\n            }));\n\n          case 12:\n            _context.next = 16;\n            break;\n\n          case 14:\n            _context.next = 16;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              mediaType: mediaType,\n              callEnd: false\n            }));\n\n          case 16:\n            _callHandler(mediaType);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/live-screen/helper-functions/callUpgrader.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/live-screen/index.js":
/*!******************************************************************!*\
  !*** ./client/src/communication/callscreen/live-screen/index.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"../../node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-icons/md */ \"../../node_modules/react-icons/md/index.esm.js\");\n/* harmony import */ var react_icons_ti__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-icons/ti */ \"../../node_modules/react-icons/ti/index.esm.js\");\n/* harmony import */ var _chat_list_on_live__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../chat-list-on-live */ \"./client/src/communication/callscreen/chat-list-on-live/index.js\");\n/* harmony import */ var _chat_history_on_live__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../chat-history-on-live */ \"./client/src/communication/callscreen/chat-history-on-live/index.js\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components */ \"./client/src/components/index.js\");\n/* harmony import */ var _components_Controllers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/Controllers */ \"./client/src/communication/callscreen/live-screen/components/Controllers.js\");\n/* harmony import */ var _components_MainScreen__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/MainScreen */ \"./client/src/communication/callscreen/live-screen/components/MainScreen.js\");\n/* harmony import */ var _components_UsersScreens__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/UsersScreens */ \"./client/src/communication/callscreen/live-screen/components/UsersScreens.js\");\n/* harmony import */ var _chatlist_helper_function__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../chatlist/helper-function */ \"./client/src/communication/chatlist/helper-function/index.js\");\n/* harmony import */ var _components_ImageOnMainScreen__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/ImageOnMainScreen */ \"./client/src/communication/callscreen/live-screen/components/ImageOnMainScreen.js\");\n/* harmony import */ var _components_CallTimer__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/CallTimer */ \"./client/src/communication/callscreen/live-screen/components/CallTimer.js\");\n/* harmony import */ var react_icons_ai__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-icons/ai */ \"../../node_modules/react-icons/ai/index.esm.js\");\n/* harmony import */ var _common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../common/utility-functions/Button/Button */ \"./client/src/common/utility-functions/Button/Button.js\");\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable no-undef */\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar LiveCallScreen = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(LiveCallScreen, _React$Component);\n\n  var _super = _createSuper(LiveCallScreen);\n\n  function LiveCallScreen(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, LiveCallScreen);\n\n    _this = _super.call(this, props);\n\n    _this.handleClickChatBox = function (val, showCurrent) {\n      var _this$props = _this.props,\n          updateWebRtc = _this$props.updateWebRtc,\n          webRtc = _this$props.webRtc;\n\n      if (showCurrent) {\n        updateWebRtc('connectionId', webRtc.localCallHistory.chatHistory.connectionId);\n        updateWebRtc('chatHistory', webRtc.localCallHistory.chatHistory);\n      }\n\n      _this.setState({\n        showChatBox: val,\n        showChatList: false\n      });\n    };\n\n    _this.handleClickChatList = function () {\n      var showChatList = _this.state.showChatList;\n\n      _this.setState({\n        showChatList: !showChatList\n      });\n    };\n\n    _this.callReject = function () {\n      var _this$props2 = _this.props,\n          closeHandler = _this$props2.closeHandler,\n          change = _this$props2.change;\n      closeHandler(); // change('history');\n    };\n\n    _this.state = {\n      showChatList: false,\n      showChatBox: null,\n      unMessageCount: null\n    };\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(LiveCallScreen, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var webRtc = this.props.webRtc;\n      var unMessageCount = Object(_chatlist_helper_function__WEBPACK_IMPORTED_MODULE_16__[\"getChatList\"])(this.props).find(function (obj) {\n        return obj.connectionId === webRtc.localCallHistory.chatHistory.connectionId;\n      });\n      this.setState({\n        unMessageCount: unMessageCount\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props3 = this.props,\n          webRtc = _this$props3.webRtc,\n          database = _this$props3.database,\n          account = _this$props3.account;\n\n      if (webRtc.localCallHistory.chatHistory.type === 'board' && webRtc.localCallHistory.chatHistory) {\n        if (database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].activeStatus === account.user.id) {\n          var lastVideoElement = document.getElementById('video-mentor');\n\n          if (lastVideoElement) {// lastVideoElement.srcObject = webRtc.connectedUsers.stream[0];\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var webRtc = this.props.webRtc;\n      var unMessageCount = Object(_chatlist_helper_function__WEBPACK_IMPORTED_MODULE_16__[\"getChatList\"])(nextProps).find(function (obj) {\n        return obj.connectionId === webRtc.localCallHistory.chatHistory.connectionId;\n      });\n      this.setState({\n        unMessageCount: unMessageCount\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          webRtc = _this$props4.webRtc,\n          isMaximum = _this$props4.isMaximum,\n          database = _this$props4.database,\n          toggleMaximize = _this$props4.toggleMaximize,\n          minimize = _this$props4.minimize;\n      var _webRtc$localCallHist = webRtc.localCallHistory.chatHistory,\n          user = _webRtc$localCallHist.user,\n          type = _webRtc$localCallHist.type;\n      var _this$state = this.state,\n          showChatBox = _this$state.showChatBox,\n          showChatList = _this$state.showChatList,\n          unMessageCount = _this$state.unMessageCount; // console.log('Mentor Main', this.props);\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"call-screen\"\n      }, showChatList && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_chat_list_on_live__WEBPACK_IMPORTED_MODULE_10__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n        onClose: this.handleClickChatList,\n        onClickItem: this.handleClickChatBox\n      }, this.props)), showChatBox && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_chat_history_on_live__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n        onClose: this.handleClickChatBox\n      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"top\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"pc-menu-live\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_19__[\"AiOutlineMenu\"], {\n        size: 20,\n        onClick: this.handleClickChatList\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"op-name\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        style: {\n          display: 'flex'\n        }\n      }, type === 'user' ? \"\".concat(user.user.firstName, \" \").concat(user.user.lastName) : database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId].name, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_CallTimer__WEBPACK_IMPORTED_MODULE_18__[\"default\"], this.props))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"pc-live-chat-history\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_8__[\"MdMessage\"], {\n        size: 20,\n        onClick: function onClick() {\n          return _this2.handleClickChatBox(webRtc.showCommunication, true);\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        }\n      }, unMessageCount ? unMessageCount.unSeenNo !== 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_12__[\"Badge\"], {\n        number: unMessageCount.unSeenNo,\n        size: 10,\n        top: -16\n      }) : null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"video-container\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"pc-maxmin-btn\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_20__[\"Button\"], {\n        className: \"pc-control-btn\",\n        onClick: toggleMaximize,\n        icon: isMaximum ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_ti__WEBPACK_IMPORTED_MODULE_9__[\"TiArrowMinimise\"], {\n          size: 25\n        }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_icons_ti__WEBPACK_IMPORTED_MODULE_9__[\"TiArrowMaximise\"], {\n          size: 25\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_ImageOnMainScreen__WEBPACK_IMPORTED_MODULE_17__[\"default\"], this.props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_UsersScreens__WEBPACK_IMPORTED_MODULE_15__[\"default\"], this.props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_MainScreen__WEBPACK_IMPORTED_MODULE_14__[\"default\"], this.props)), !minimize && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Controllers__WEBPACK_IMPORTED_MODULE_13__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n        toggleMaximize: toggleMaximize\n      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n        className: \"pc-record-container\"\n      }, webRtc.recordedBlobs.map(function (a) {\n        return Object.values(a)[0];\n      })));\n    }\n  }]);\n\n  return LiveCallScreen;\n}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LiveCallScreen);\nLiveCallScreen.propTypes = {\n  minimize: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  change: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,\n  closeHandler: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  updateWebRtc: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,\n  _callHandler: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,\n  toggleMaximize: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,\n  apis: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  isMaximum: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/live-screen/index.js?");

/***/ }),

/***/ "./client/src/communication/callscreen/outgoing-screen/index.js":
/*!**********************************************************************!*\
  !*** ./client/src/communication/callscreen/outgoing-screen/index.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-icons/fa */ \"../../node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-icons/md */ \"../../node_modules/react-icons/md/index.esm.js\");\n/* harmony import */ var _components_RoundPicture__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/RoundPicture */ \"./client/src/components/RoundPicture.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../config */ \"./client/src/config/index.js\");\n/* harmony import */ var _components_SoundComponent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../components/SoundComponent */ \"./client/src/communication/components/SoundComponent.js\");\n/* harmony import */ var _error_screen_DeviceNotFoundError__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../error-screen/DeviceNotFoundError */ \"./client/src/communication/callscreen/error-screen/DeviceNotFoundError.js\");\n/* harmony import */ var _common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../common/utility-functions/Button/Button */ \"./client/src/common/utility-functions/Button/Button.js\");\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable prefer-destructuring */\n\n\n\n\n\n\n\n\n\n\n\nvar IconOrImage = function IconOrImage(_ref) {\n  var isUser = _ref.isUser,\n      database = _ref.database,\n      webRtc = _ref.webRtc;\n  var user;\n  var userDetail;\n  var userId;\n\n  if (isUser) {\n    if (webRtc.localCallHistory.chatHistory) {\n      if (webRtc.localCallHistory.chatHistory.user) {\n        userId = webRtc.localCallHistory.chatHistory.user.user.id;\n\n        if (userId) {\n          var connection = Object.values(database.UserConnection.byId).find(function (c) {\n            return c.user.user.id === userId;\n          });\n\n          if (connection) {\n            user = connection.user.user;\n            userDetail = connection.user.userDetail || {};\n          }\n        }\n      }\n    }\n  }\n\n  if (isUser && userDetail && userDetail.image) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n      className: \"img-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_RoundPicture__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      imgUrl: \"\".concat(_config__WEBPACK_IMPORTED_MODULE_13__[\"ENDPOINT\"], \"/assets/user/\").concat(10000000 + parseInt(userDetail.userId, 10), \"/profile/\").concat(userDetail.image)\n    }));\n  }\n\n  if (!isUser) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n      className: \"icon-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"img\", {\n      src: \"/assets/graphics/classroom.svg\",\n      style: {\n        height: '130px',\n        width: '130px'\n      }\n    }));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"img-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_RoundPicture__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    imgUrl: \"/assets/graphics/user.svg\"\n  }));\n};\n\nIconOrImage.propTypes = {\n  isUser: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool.isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any).isRequired,\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any).isRequired\n};\n\nvar Index = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Index, _React$Component);\n\n  var _super = _createSuper(Index);\n\n  function Index() {\n    var _temp, _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Index);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.state = {\n      autoClose: null,\n      callStatus: 'connecting'\n    }, _this.callReject = /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee() {\n      var _this$props, closeHandler, change;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('Call Reject called in outgoing call');\n              _this$props = _this.props, closeHandler = _this$props.closeHandler, change = _this$props.change;\n              _context.next = 4;\n              return closeHandler('callReject');\n\n            case 4:\n              change('history');\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })), _temp));\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Index, [{\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      var _componentWillReceiveProps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function _callee2(nextProps) {\n        var _this2 = this;\n\n        var webRtc, autoClose, localCallHistory, chatHistory, user, connectionStatus, autoTimeOut, connectedUsers;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // console.log('Out going call', nextProps);\n                webRtc = this.props.webRtc;\n                autoClose = this.state.autoClose;\n                localCallHistory = nextProps.webRtc.localCallHistory;\n\n                if (localCallHistory) {\n                  chatHistory = localCallHistory.chatHistory;\n\n                  if (chatHistory && !lodash__WEBPACK_IMPORTED_MODULE_9___default.a.isEqual(webRtc, nextProps.webRtc)) {\n                    // console.log('user in status change', user);\n                    if (chatHistory.type === 'user') {\n                      user = chatHistory.user.user;\n                      connectionStatus = nextProps.webRtc.connectedUsers[user.id] || {}; // console.log('connectionStatus', connectionStatus);\n\n                      if (connectionStatus.status === 'ringing' || connectionStatus.status === 'busy') {\n                        this.setState({\n                          callStatus: connectionStatus.status\n                        });\n\n                        if (connectionStatus.status === 'busy') {\n                          if (!autoClose) {\n                            autoTimeOut = setTimeout(this.callReject, 2000);\n                            this.setState({\n                              autoClose: autoTimeOut\n                            });\n                          }\n                        }\n                      }\n                    }\n\n                    if (chatHistory.type === 'board') {\n                      connectedUsers = nextProps.webRtc.connectedUsers || {};\n                      Object.values(connectedUsers).forEach(function (obj) {\n                        if (obj.status === 'ringing') {\n                          _this2.setState({\n                            callStatus: 'ringing'\n                          });\n                        }\n                      });\n                    }\n                  }\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentWillReceiveProps(_x) {\n        return _componentWillReceiveProps.apply(this, arguments);\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log('out going call', this.props.webRtc);\n      var callStatus = this.state.callStatus;\n      var _this$props2 = this.props,\n          webRtc = _this$props2.webRtc,\n          database = _this$props2.database;\n      var isUser = webRtc.localCallHistory.chatHistory.type === 'user';\n      var displayName;\n\n      if (isUser) {\n        displayName = \"\".concat(database.UserConnection.byId[webRtc.localCallHistory.chatHistory.connectionId].user.user.firstName, \" \").concat(database.UserConnection.byId[webRtc.localCallHistory.chatHistory.connectionId].user.user.lastName);\n      } else {\n        displayName = database.Board.byId[webRtc.showCommunication].name;\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"outgoing-call-screen\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_SoundComponent__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n        url: \"/assets/media/outgoing.mp3\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"person-icon-container\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"person-name-status\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n        className: \"name\"\n      }, displayName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n        className: \"status\",\n        style: {\n          textTransform: 'capitalize',\n          color: callStatus === 'Declined' ? 'red' : 'white'\n        }\n      }, callStatus, ' ', \"...\")), !webRtc.deviceNotAllowed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(IconOrImage, {\n        isUser: isUser,\n        webRtc: webRtc,\n        database: database\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_error_screen_DeviceNotFoundError__WEBPACK_IMPORTED_MODULE_15__[\"default\"], this.props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n        className: \"controllers\"\n      }, callStatus === 'declined' || callStatus === 'disconnected' || callStatus === 'busy' ?\n      /*#__PURE__*/\n      // <Button large intent=\"danger\">\n      //   <MdHourglassEmpty size={20} />\n      // </Button>\n      react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_16__[\"Button\"], {\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_11__[\"MdHourglassEmpty\"], {\n          size: 20\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      }) :\n      /*#__PURE__*/\n      // <Button onClick={this.callReject} large intent=\"danger\">\n      //   <FaPhoneSlash size={20} />\n      // </Button>\n      react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_16__[\"Button\"], {\n        onClick: this.callReject,\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_10__[\"FaPhoneSlash\"], {\n          size: 20\n        }),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      }))));\n    }\n  }]);\n\n  return Index;\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);\n\nIndex.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any).isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any).isRequired,\n  closeHandler: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,\n  change: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack:///./client/src/communication/callscreen/outgoing-screen/index.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/Message.js":
/*!*********************************************************!*\
  !*** ./client/src/communication/chathistory/Message.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-moment */ \"../../node_modules/react-moment/dist/index.js\");\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_moment__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_icons_bs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-icons/bs */ \"../../node_modules/react-icons/bs/index.esm.js\");\n/* harmony import */ var react_spinners_ClipLoader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-spinners/ClipLoader */ \"../../node_modules/react-spinners/ClipLoader.js\");\n/* harmony import */ var react_spinners_ClipLoader__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_spinners_ClipLoader__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../config */ \"./client/src/config/index.js\");\n/* harmony import */ var _helper_functions_message_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helper-functions/message/index */ \"./client/src/communication/helper-functions/message/index.js\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components */ \"./client/src/components/index.js\");\n/* harmony import */ var _common_utility_functions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/utility-functions */ \"./client/src/common/utility-functions/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable prefer-destructuring */\n\n/* eslint-disable no-nested-ternary */\n\n\n\n\n\n\n\n\n\n\n\nvar findSeenUser = function findSeenUser(props, seenStatus, own) {\n  var database = props.database,\n      account = props.account,\n      webRtc = props.webRtc;\n  var userList = seenStatus.filter(function (obj) {\n    return obj.userId !== account.user.id;\n  });\n  var userNameList = [];\n  userList.forEach(function (us) {\n    var userDetails;\n    var user;\n\n    if (webRtc.chatHistory.type === 'user') {\n      user = webRtc.chatHistory.user.user;\n      userDetails = webRtc.chatHistory.user.userDetails;\n    } else {\n      var boardUser = Object.values(database.BoardMember.byId).find(function (bm) {\n        return bm.tuserId === us.userId;\n      });\n      user = boardUser.user.user;\n      userDetails = boardUser.user.userDetail;\n    }\n\n    userNameList.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"seen-user\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_9__[\"RoundPicture\"], {\n      imgUrl: userDetails && userDetails.image ? \"\".concat(_config__WEBPACK_IMPORTED_MODULE_7__[\"ENDPOINT\"], \"/assets/user/\").concat(10000000 + parseInt(user.id, 10), \"/profile/\").concat(userDetails.image) : '/assets//graphics/user.svg'\n    })));\n  });\n  return userNameList;\n};\n\nvar Message = function Message(_ref) {\n  var own = _ref.own,\n      obj = _ref.obj,\n      props = _ref.props,\n      type = _ref.type;\n\n  var getMessageText = function getMessageText() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", {\n      className: \"pc-message\",\n      dangerouslySetInnerHTML: {\n        __html: Object(_common_utility_functions__WEBPACK_IMPORTED_MODULE_10__[\"matchUrl\"])(obj.message)\n      },\n      style: {\n        maxWidth: '100%',\n        wordBreak: 'break-word'\n      }\n    });\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: own.isOwn ? 'i-chat right' : 'i-chat left',\n    key: obj.id,\n    style: {\n      marginTop: obj.showImage && 15\n    }\n  }, obj.showImage && !own.isOwn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"img-wrap\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_9__[\"RoundPicture\"], {\n    imgUrl: own.user.userDetails && own.user.userDetails.image ? \"\".concat(_config__WEBPACK_IMPORTED_MODULE_7__[\"ENDPOINT\"], \"/assets/user/\").concat(10000000 + parseInt(own.user.id, 10), \"/profile/\").concat(own.user.userDetails.image) : '/assets//graphics/user.svg'\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"text-contain\".concat(!obj.showImage && !own.isOwn ? ' spaced' : '')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"text\",\n    style: {\n      background: own.isOwn ? obj.status === 'error' ? '#ff7470' : '#DCE7FF' : '#fff',\n      border: \"\".concat(own.isOwn ? obj.status === 'error' ? '1px solid red' : '1px solid #DCE7FF' : '1px solid #fff'),\n      padding: '10px 15px',\n      // paddingBottom: 0,\n      margin: 0,\n      marginRight: 5,\n      marginLeft: !obj.showImage && !own.isOwn ? type ? 3 : 45 : 3,\n      marginBottom: !obj.showImage && 0\n    }\n  }, getMessageText(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"pc-date-time\",\n    style: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_moment__WEBPACK_IMPORTED_MODULE_3___default.a, {\n    style: {\n      color: '#757575'\n    },\n    format: \"h:mm:a\"\n  }, obj.timeStamp))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      margin: 0\n    }\n  }, obj.status === 'loading' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_spinners_ClipLoader__WEBPACK_IMPORTED_MODULE_6___default.a, {\n    size: \"15\"\n  }), obj.status === 'error' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_icons_bs__WEBPACK_IMPORTED_MODULE_5__[\"BsArrowRepeat\"], {\n    size: \"15\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: function onClick() {\n      return Object(_helper_functions_message_index__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_objectSpread(_objectSpread({}, props), {}, {\n        message: obj.message,\n        resend: obj.id\n      }));\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    style: {\n      marginTop: 2,\n      display: 'flex',\n      width: '100%',\n      justifyContent: 'flex-end'\n    }\n  }, findSeenUser(props, obj.seenStatus, own)))));\n};\n\nMessage.propTypes = {\n  own: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any).isRequired,\n  obj: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any).isRequired,\n  props: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any).isRequired,\n  type: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Message);\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/Message.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/boardChatHistory.js":
/*!**********************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/boardChatHistory.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! date-fns/isSameDay */ \"../../node_modules/date-fns/isSameDay/index.js\");\n/* harmony import */ var date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./findMessageSeenStatus */ \"./client/src/communication/chathistory/helper-function/findMessageSeenStatus.js\");\n/* harmony import */ var _findLastMessageAndUnSeenNo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./findLastMessageAndUnSeenNo */ \"./client/src/communication/chathistory/helper-function/findLastMessageAndUnSeenNo.js\");\n/* harmony import */ var _findSeenStatusToShow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./findSeenStatusToShow */ \"./client/src/communication/chathistory/helper-function/findSeenStatusToShow.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var database = props.database,\n      webRtc = props.webRtc;\n  var messages = [];\n  var arrWithSeenStatus = [];\n  var arrWithSeenStatusToShow = [];\n  var lastMessageSeenIdAndUnseenNo = null;\n  var userShowTestFlag = null;\n  var isSameDayFlagDate = null;\n  var isSameDayFlagImage = null;\n  messages = Object.values(database.BoardMessage.byId).filter(function (msg) {\n    return msg.boardId === webRtc.chatHistory.connectionId;\n  });\n\n  if (messages.length > 0) {\n    messages.forEach(function (umd, idx, arr) {\n      if (!date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1___default()(isSameDayFlagDate, new Date(umd.timeStamp)) || idx === 0) {\n        arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n          showImage: false,\n          type: 'date',\n          seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'board', props)\n        }));\n        isSameDayFlagDate = umd.timeStamp; // console.log('inside test is sameday', umd.id, arrWithSeenStatus);\n      }\n\n      if (umd.userId === userShowTestFlag) {\n        if (idx !== 0) {\n          if (arr[idx - 1].type) {\n            arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n              showImage: true,\n              seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'board', props)\n            }));\n          } else if (!date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1___default()(isSameDayFlagImage, new Date(umd.timeStamp))) {\n            arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n              showImage: true,\n              seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'board', props)\n            }));\n            isSameDayFlagImage = umd.timeStamp;\n          } else {\n            arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n              showImage: false,\n              seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'board', props)\n            }));\n          }\n        } else {\n          arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n            showImage: false,\n            seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'board', props)\n          }));\n        }\n      } else if (umd.userId !== userShowTestFlag) {\n        userShowTestFlag = umd.userId;\n        arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n          showImage: true,\n          seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'board', props)\n        }));\n      } else {\n        arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n          showImage: false,\n          seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'board', props)\n        }));\n      }\n    });\n    arrWithSeenStatusToShow = Object(_findSeenStatusToShow__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(arrWithSeenStatus, Object.values(database.BoardMember.byId).filter(function (obj) {\n      return obj.boardId === webRtc.chatHistory.connectionId;\n    }));\n    lastMessageSeenIdAndUnseenNo = Object(_findLastMessageAndUnSeenNo__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(arrWithSeenStatus, 'board', props);\n  }\n\n  return _objectSpread({\n    messages: arrWithSeenStatusToShow\n  }, lastMessageSeenIdAndUnseenNo);\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/boardChatHistory.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/callEndLogHandler.js":
/*!***********************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/callEndLogHandler.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-moment */ \"../../node_modules/react-moment/dist/index.js\");\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _timeDurationFormater__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timeDurationFormater */ \"./client/src/communication/chathistory/helper-function/timeDurationFormater.js\");\n\n\n\n\nvar callLogHelper = function callLogHelper(type, icon, backgroundColor, msg, isList, idx) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    key: idx,\n    style: {\n      width: '95%',\n      display: 'flex',\n      justifyContent: isList ? 'flex-start' : 'center',\n      alignItems: 'center',\n      margin: isList ? 0 : 10\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: {\n      padding: 5,\n      border: isList ? null : \"1px solid \".concat(backgroundColor),\n      borderRadius: 10,\n      fontSize: isList ? 14 : 10,\n      background: isList ? null : backgroundColor,\n      color: isList ? '#757575' : 'white'\n    }\n  }, icon, \"\".concat(type, \" \").concat(msg.duration ? Object(_timeDurationFormater__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(msg.duration) : '(00:00)'), isList ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_moment__WEBPACK_IMPORTED_MODULE_1___default.a, {\n    format: \"h:mm:a\",\n    style: {\n      marginLeft: 10\n    }\n  }, msg.timeStamp)));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (msg, account, type, isList, idx) {\n  // console.log('incoming msg log', type);\n  return callLogHelper('Call Ended', '', '#A6A9A9', msg, isList, idx);\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/callEndLogHandler.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/fetchChatHistory.js":
/*!**********************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/fetchChatHistory.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable no-lonely-if */\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(props) {\n    var webRtc, updateWebRtc, apis, fetchedApisRes, _webRtc$chatHistory, connectionId, type, isFetchMessage, getChatHistoryRes, _getChatHistoryRes;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // console.log('fetch chat history called', props);\n            webRtc = props.webRtc, updateWebRtc = props.updateWebRtc;\n            apis = webRtc.apis;\n            fetchedApisRes = webRtc.fetchedApisRes;\n            _webRtc$chatHistory = webRtc.chatHistory, connectionId = _webRtc$chatHistory.connectionId, type = _webRtc$chatHistory.type;\n            isFetchMessage = fetchedApisRes.find(function (fr) {\n              return fr.connectionId === connectionId && fr.type === type;\n            });\n\n            if (isFetchMessage) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 8;\n            return apis.getChatHistory({\n              type: type,\n              connectionId: connectionId,\n              noOfMessage: 0\n            });\n\n          case 8:\n            getChatHistoryRes = _context.sent;\n\n            if (getChatHistoryRes.status === 200) {\n              updateWebRtc('fetchedApisRes', [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(fetchedApisRes), [getChatHistoryRes]));\n            }\n\n            _context.next = 17;\n            break;\n\n          case 12:\n            if (!(isFetchMessage.totalMessage > isFetchMessage.noOfMessage)) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 15;\n            return apis.getChatHistory({\n              type: type,\n              connectionId: connectionId,\n              noOfMessage: isFetchMessage.noOfMessage\n            });\n\n          case 15:\n            _getChatHistoryRes = _context.sent;\n\n            if (_getChatHistoryRes.status === 200) {\n              updateWebRtc('fetchedApisRes', fetchedApisRes.map(function (fr) {\n                return fr.connectionId === _getChatHistoryRes.connectionId ? _objectSpread(_objectSpread({}, fr), {}, {\n                  noOfMessage: _getChatHistoryRes.noOfMessage\n                }) : fr;\n              }));\n            }\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/fetchChatHistory.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/findChatHistory.js":
/*!*********************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/findChatHistory.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _userChatHistory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./userChatHistory */ \"./client/src/communication/chathistory/helper-function/userChatHistory.js\");\n/* harmony import */ var _boardChatHistory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./boardChatHistory */ \"./client/src/communication/chathistory/helper-function/boardChatHistory.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var webRtc = props.webRtc;\n\n  if (webRtc.chatHistory) {\n    if (webRtc.chatHistory.type === 'user') {\n      return Object(_userChatHistory__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(props);\n    }\n\n    return Object(_boardChatHistory__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(props);\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/findChatHistory.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/findLastMessageAndUnSeenNo.js":
/*!********************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/findLastMessageAndUnSeenNo.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (arr, type, props) {\n  var account = props.account;\n  var arrWithSeenStatusReverse = arr.slice().reverse();\n  var unseenMsg = arrWithSeenStatusReverse.findIndex(function (obj) {\n    return obj.seenStatus.find(function (o) {\n      return o.userId === account.user.id;\n    });\n  });\n  var unSeenNo; // console.log('unSeenMsg', unseenMsg);\n\n  if (unseenMsg === -1) {\n    unSeenNo = arrWithSeenStatusReverse.filter(function (obj) {\n      return obj.fuserId !== account.user.id;\n    }).length;\n  } else {\n    // console.log('In else');\n    var count = 0;\n\n    for (var i = 0; i < unseenMsg; i += 1) {\n      if (arrWithSeenStatusReverse[i][type === 'user' ? 'fuserId' : 'userId'] !== account.user.id) {\n        count += 1;\n      }\n    }\n\n    unSeenNo = count;\n  } // console.log('unseenMsgMessage', unseenMsg);\n\n\n  var lastMessage = arrWithSeenStatusReverse.find(function (obj) {\n    return obj[type === 'user' ? 'fuserId' : 'userId'] !== account.user.id;\n  });\n  var lastMessageId = lastMessage ? lastMessage.id : arrWithSeenStatusReverse[0].id; // console.log('Last unSeenNo', unSeenNo);\n\n  return {\n    lastMessageId: lastMessageId,\n    unSeenNo: unSeenNo\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/findLastMessageAndUnSeenNo.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/findMessageSeenStatus.js":
/*!***************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/findMessageSeenStatus.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (msgId, type, props) {\n  var database = props.database;\n  var users = [];\n\n  if (type === 'board') {\n    Object.values(database.BoardMessageSeenStatus.byId).forEach(function (obj) {\n      if (obj.bmId === msgId) {\n        users.push(obj);\n      }\n    });\n  }\n\n  if (type === 'user') {\n    Object.values(database.UserMessageSeenStatus.byId).forEach(function (obj) {\n      if (obj.umId === msgId) {\n        users.push(obj);\n      }\n    });\n  }\n\n  return users;\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/findMessageSeenStatus.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/findSeenStatusToShow.js":
/*!**************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/findSeenStatusToShow.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _flat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flat */ \"./client/src/communication/chathistory/helper-function/flat.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (arrWithSeenStatus, boardMember, type) {\n  // console.log('data in findSeenStatusToShow', arrWithSeenStatus, boardMember);\n  var boardMembers = [];\n\n  if (type === 'user') {\n    boardMembers = boardMember;\n  } else {\n    boardMembers = lodash__WEBPACK_IMPORTED_MODULE_1___default.a.uniq(Object(_flat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(boardMember.map(function (bm) {\n      return [bm.tuserId, bm.fuserId];\n    })));\n  }\n\n  var result = arrWithSeenStatus.slice().reverse().map(function (msg) {\n    var seenUsers = [];\n\n    if (boardMembers.length > 0) {\n      msg.seenStatus.forEach(function (u) {\n        var uId = boardMembers.find(function (bm) {\n          return bm === u.userId;\n        });\n\n        if (uId) {\n          boardMembers = boardMembers.filter(function (userId) {\n            return userId !== u.userId;\n          });\n          seenUsers.push(u);\n        }\n      });\n    }\n\n    return _objectSpread(_objectSpread({}, msg), {}, {\n      seenStatus: seenUsers\n    });\n  }); // console.log('board seen status', result);\n\n  return result;\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/findSeenStatusToShow.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/flat.js":
/*!**********************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/flat.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (arr) {\n  var flatArray = arr.reduce(function (t, a) {\n    if (Array.isArray(a)) {\n      a.forEach(function (am) {\n        return t.push(am);\n      });\n    } else {\n      t.push(a);\n    }\n\n    return t;\n  }, []);\n  return flatArray;\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/flat.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/incomingCallLogHandler.js":
/*!****************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/incomingCallLogHandler.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-moment */ \"../../node_modules/react-moment/dist/index.js\");\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_icons_fi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-icons/fi */ \"../../node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _timeDurationFormater__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./timeDurationFormater */ \"./client/src/communication/chathistory/helper-function/timeDurationFormater.js\");\n\n\n\n\n\nvar callLogHelper = function callLogHelper(type, icon, backgroundColor, msg, isList, idx) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    key: idx,\n    style: {\n      width: '95%',\n      display: 'flex',\n      justifyContent: isList ? 'flex-start' : 'center',\n      alignItems: 'center',\n      margin: isList ? 0 : 10\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: {\n      padding: 5,\n      border: isList ? null : \"1px solid \".concat(backgroundColor),\n      borderRadius: 10,\n      fontSize: isList ? 14 : 10,\n      background: isList ? null : backgroundColor,\n      color: isList ? '#757575' : 'white'\n    }\n  }, icon, \"\".concat(type, \" \").concat(msg.duration ? Object(_timeDurationFormater__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(msg.duration) : ''), isList ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_moment__WEBPACK_IMPORTED_MODULE_1___default.a, {\n    format: \"h:mm:a\",\n    style: {\n      marginLeft: 10\n    }\n  }, msg.timeStamp)));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (msg, account, type, isList, idx) {\n  // console.log('incoming msg log', type);\n  if (type === 'board') {\n    if (msg.userId === account.user.id && !msg.duration || msg.type && isList && !msg.duration) {\n      // return callLogHelper('Missed Call', 'arrow-bottom-left', '#f17d77', msg, isList, idx);\n      return callLogHelper('Missed Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__[\"FiArrowDownLeft\"], {\n        size: isList ? 13 : 10,\n        style: {\n          marginRight: 5\n        }\n      }), '#f17d77', msg, isList, idx);\n    }\n\n    if (msg.userId === account.user.id && msg.duration || msg.type && isList && !msg.duration) {\n      return callLogHelper('Incoming Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__[\"FiArrowDownLeft\"], {\n        size: isList ? 13 : 10,\n        style: {\n          marginRight: 5\n        }\n      }), '#A6A9A9', msg, isList, idx);\n    }\n  }\n\n  if (msg.fuserId === account.user.id && !msg.duration) {\n    return callLogHelper('Missed Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__[\"FiArrowDownLeft\"], {\n      size: isList ? 13 : 10,\n      style: {\n        marginRight: 5\n      }\n    }), '#f17d77', msg, isList, idx);\n  }\n\n  if (msg.tuserId === account.user.id && !msg.duration) {\n    return callLogHelper('Outgoing Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__[\"FiArrowUpRight\"], {\n      size: isList ? 13 : 10,\n      style: {\n        marginRight: 5\n      }\n    }), '#A6A9A9', msg, isList, idx);\n  }\n\n  if (msg.fuserId === account.user.id) {\n    return callLogHelper('Incoming Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__[\"FiArrowDownLeft\"], {\n      size: isList ? 13 : 10,\n      style: {\n        marginRight: 5\n      }\n    }), '#A6A9A9', msg, isList, idx);\n  }\n\n  if (msg.tuserId === account.user.id) {\n    return callLogHelper('Outgoing Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__[\"FiArrowUpRight\"], {\n      size: isList ? 13 : 10,\n      style: {\n        marginRight: 5\n      }\n    }), '#A6A9A9', msg, isList, idx);\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/incomingCallLogHandler.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/index.js":
/*!***********************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/index.js ***!
  \***********************************************************************/
/*! exports provided: findChatHistory, isOwnFinder, markLastMessageRead, incomingCallLogHandler, outgoingCallLogHandler, callEndLogHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _findChatHistory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./findChatHistory */ \"./client/src/communication/chathistory/helper-function/findChatHistory.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"findChatHistory\", function() { return _findChatHistory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _isOwnFinder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isOwnFinder */ \"./client/src/communication/chathistory/helper-function/isOwnFinder.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isOwnFinder\", function() { return _isOwnFinder__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _markLastMessageRead__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./markLastMessageRead */ \"./client/src/communication/chathistory/helper-function/markLastMessageRead.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"markLastMessageRead\", function() { return _markLastMessageRead__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _incomingCallLogHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./incomingCallLogHandler */ \"./client/src/communication/chathistory/helper-function/incomingCallLogHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"incomingCallLogHandler\", function() { return _incomingCallLogHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _outgoingCallLogHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./outgoingCallLogHandler */ \"./client/src/communication/chathistory/helper-function/outgoingCallLogHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"outgoingCallLogHandler\", function() { return _outgoingCallLogHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _callEndLogHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./callEndLogHandler */ \"./client/src/communication/chathistory/helper-function/callEndLogHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"callEndLogHandler\", function() { return _callEndLogHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/index.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/isJanusActive.js":
/*!*******************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/isJanusActive.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  // const { webRtc, database } = store.getState(); // before\n  var webRtc = props.webRtc,\n      database = props.database;\n  var janus = webRtc.janus;\n  var showAudio = false;\n  var showVideo = false;\n  var showJoin = false;\n\n  if (janus) {\n    if (webRtc.chatHistory.type === 'board') {\n      showAudio = !database.Board.byId[webRtc.chatHistory.connectionId].activeStatus;\n      showVideo = !database.Board.byId[webRtc.chatHistory.connectionId].activeStatus;\n      showJoin = database.Board.byId[webRtc.chatHistory.connectionId].activeStatus;\n    } else {\n      var connection = database.UserConnection.byId[webRtc.chatHistory.connectionId];\n      var isDeleted = connection.status !== 'deleted';\n      showAudio = janus.oneToOneCall && isDeleted;\n      showVideo = janus.oneToOneCall && isDeleted;\n    }\n  }\n\n  return {\n    showVideo: showVideo,\n    showAudio: showAudio,\n    showJoin: showJoin\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/isJanusActive.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/isOwnFinder.js":
/*!*****************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/isOwnFinder.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (msg, props) {\n  var database = props.database,\n      webRtc = props.webRtc,\n      account = props.account;\n\n  if (webRtc.chatHistory.type === 'user') {\n    var _webRtc$chatHistory$u = webRtc.chatHistory.user,\n        user = _webRtc$chatHistory$u.user,\n        userDetails = _webRtc$chatHistory$u.userDetails;\n\n    if (msg.fuserId === account.user.id) {\n      return {\n        isOwn: true,\n        user: account.user\n      };\n    }\n\n    return {\n      isOwn: false,\n      user: _objectSpread(_objectSpread({}, user), {}, {\n        userDetails: userDetails\n      })\n    };\n  }\n\n  if (msg.userId === account.user.id) {\n    return {\n      isOwn: true,\n      user: account.user\n    };\n  }\n\n  var boardUser = Object.values(database.BoardMember.byId).find(function (bm) {\n    return bm.tuserId === msg.userId;\n  });\n\n  if (boardUser) {\n    var _boardUser$user = boardUser.user,\n        _user = _boardUser$user.user,\n        userDetail = _boardUser$user.userDetail;\n    return {\n      isOwn: false,\n      user: _objectSpread(_objectSpread({}, _user), {}, {\n        userDetails: userDetail\n      })\n    };\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/isOwnFinder.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/markLastMessageRead.js":
/*!*************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/markLastMessageRead.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state) {\n  var webRtc = props.webRtc,\n      account = props.account,\n      addDatabaseSchema = props.addDatabaseSchema;\n  var apis = webRtc.apis;\n  var unSeenNo = state.unSeenNo,\n      lastMessageId = state.lastMessageId; // console.log('Mark last message read', unSeenNo, lastMessageId);\n\n  if (unSeenNo > 0) {\n    if (webRtc.chatHistory.type === 'user') {\n      apis.addUserMessageSeenStatus({\n        userId: account.user.id,\n        umId: lastMessageId,\n        timeStamp: Date.now(),\n        status: true,\n        broadCastId: \"UserConnection-\".concat(account.user.id),\n        broadCastUserList: [{\n          userId: webRtc.chatHistory.user.user.id\n        }]\n      });\n      addDatabaseSchema('UserMessageSeenStatus', {\n        id: Date.now(),\n        userId: account.user.id,\n        umId: lastMessageId,\n        timeStamp: Date.now(),\n        status: true\n      });\n    }\n\n    if (webRtc.chatHistory.type === 'board') {\n      apis.addBoardMessageSeenStatus({\n        userId: account.user.id,\n        bmId: lastMessageId,\n        timeStamp: Date.now(),\n        status: true,\n        broadCastId: \"Board-\".concat(webRtc.chatHistory.connectionId)\n      });\n      addDatabaseSchema('BoardMessageSeenStatus', {\n        id: Date.now(),\n        userId: account.user.id,\n        bmId: lastMessageId,\n        timeStamp: Date.now(),\n        status: true\n      });\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/markLastMessageRead.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/messageTypeProvider.js":
/*!*************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/messageTypeProvider.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-moment */ \"../../node_modules/react-moment/dist/index.js\");\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Message */ \"./client/src/communication/chathistory/Message.js\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index */ \"./client/src/communication/chathistory/helper-function/index.js\");\n\n\n\n\n\nvar messageTypeProvider = function messageTypeProvider(props, msg, account, type, idx) {\n  var webRtc = props.webRtc;\n\n  switch (msg.type) {\n    case 'date':\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"pc-date-indicator\",\n        key: idx,\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          margin: 10\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_moment__WEBPACK_IMPORTED_MODULE_1___default.a, {\n        style: {\n          color: '#757575',\n          padding: 7,\n          border: '1px solid #757575',\n          borderRadius: 10,\n          fontSize: 10\n        },\n        format: \"YYYY MMM DD\"\n      }, msg.timeStamp));\n\n    case 'Incoming':\n      return Object(_index__WEBPACK_IMPORTED_MODULE_3__[\"incomingCallLogHandler\"])(msg, account, webRtc.chatHistory.type, idx);\n\n    case 'Outgoing':\n      return Object(_index__WEBPACK_IMPORTED_MODULE_3__[\"outgoingCallLogHandler\"])(msg, account, webRtc.chatHistory.type, idx);\n\n    case 'CallEnd':\n      return Object(_index__WEBPACK_IMPORTED_MODULE_3__[\"callEndLogHandler\"])(msg, account, webRtc.chatHistory.type, idx);\n\n    default:\n      return msg.message ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Message__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        key: msg.id,\n        own: Object(_index__WEBPACK_IMPORTED_MODULE_3__[\"isOwnFinder\"])(msg, props),\n        obj: msg,\n        props: props,\n        type: type\n      }) : null;\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (messageTypeProvider);\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/messageTypeProvider.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/outgoingCallLogHandler.js":
/*!****************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/outgoingCallLogHandler.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-moment */ \"../../node_modules/react-moment/dist/index.js\");\n/* harmony import */ var react_moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _timeDurationFormater__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timeDurationFormater */ \"./client/src/communication/chathistory/helper-function/timeDurationFormater.js\");\n/* harmony import */ var react_icons_fi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/fi */ \"../../node_modules/react-icons/fi/index.esm.js\");\n\n\n\n\n\nvar callLogHelper = function callLogHelper(type, icon, backgroundColor, msg, isList, idx) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    key: idx,\n    style: {\n      width: '95%',\n      display: 'flex',\n      justifyContent: isList ? 'flex-start' : 'center',\n      alignItems: 'center',\n      margin: isList ? 0 : 10\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: {\n      padding: 5,\n      border: isList ? null : \"1px solid \".concat(backgroundColor),\n      borderRadius: 10,\n      fontSize: isList ? 14 : 10,\n      background: isList ? null : backgroundColor,\n      color: isList ? '#757575' : 'white'\n    }\n  }, icon, \"\".concat(type, \" \").concat(msg.duration ? Object(_timeDurationFormater__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(msg.duration) : ''), isList ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_moment__WEBPACK_IMPORTED_MODULE_1___default.a, {\n    format: \"h:mm:a\",\n    style: {\n      marginLeft: 10\n    }\n  }, msg.timeStamp)));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (msg, account, type, isList, idx) {\n  if (type === 'board') {\n    if (msg.userId === account.user.id) {\n      return callLogHelper('Outgoing Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_3__[\"FiArrowUpRight\"], {\n        size: isList ? 13 : 10,\n        style: {\n          marginRight: 5\n        }\n      }), '#A6A9A9', msg, isList, idx);\n    }\n  }\n\n  if (msg.tuserId === account.user.id && !msg.duration) {\n    return callLogHelper('Missed Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_3__[\"FiArrowDownLeft\"], {\n      size: isList ? 13 : 10,\n      style: {\n        marginRight: 5\n      }\n    }), '#f17d77', msg, isList, idx);\n  }\n\n  if (msg.tuserId === account.user.id) {\n    return callLogHelper('Incoming Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_3__[\"FiArrowDownLeft\"], {\n      size: isList ? 13 : 10,\n      style: {\n        marginRight: 5\n      }\n    }), '#A6A9A9', msg, isList, idx);\n  }\n\n  if (msg.fuserId === account.user.id) {\n    return callLogHelper('Outgoing Call', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_3__[\"FiArrowUpRight\"], {\n      size: isList ? 13 : 10,\n      style: {\n        marginRight: 5\n      }\n    }), '#A6A9A9', msg, isList, idx);\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/outgoingCallLogHandler.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/timeDurationFormater.js":
/*!**************************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/timeDurationFormater.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (duration) {\n  var mins = Math.floor(parseInt(duration, 10) / (60 * 1000));\n  var secs = Math.floor((parseInt(duration, 10) - mins * 60 * 1000) / 1000);\n  return \"(\".concat(mins, \" : \").concat(secs, \")  \");\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/timeDurationFormater.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/helper-function/userChatHistory.js":
/*!*********************************************************************************!*\
  !*** ./client/src/communication/chathistory/helper-function/userChatHistory.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! date-fns/isSameDay */ \"../../node_modules/date-fns/isSameDay/index.js\");\n/* harmony import */ var date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./findMessageSeenStatus */ \"./client/src/communication/chathistory/helper-function/findMessageSeenStatus.js\");\n/* harmony import */ var _findLastMessageAndUnSeenNo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./findLastMessageAndUnSeenNo */ \"./client/src/communication/chathistory/helper-function/findLastMessageAndUnSeenNo.js\");\n/* harmony import */ var _findSeenStatusToShow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./findSeenStatusToShow */ \"./client/src/communication/chathistory/helper-function/findSeenStatusToShow.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var database = props.database,\n      webRtc = props.webRtc;\n  var messages = [];\n  var arrWithSeenStatus = [];\n  var arrWithSeenStatusToShow = [];\n  var lastMessageSeenIdAndUnseenNo = null;\n  var userShowTestFlag = null;\n  var isSameDayFlag = null;\n  var isSameDayFlagImage = null;\n  messages = Object.values(database.UserMessage.byId).filter(function (msg) {\n    return msg.connectionId === webRtc.chatHistory.connectionId;\n  });\n\n  if (messages.length > 0) {\n    isSameDayFlag = new Date(messages[0].timeStamp);\n    messages.forEach(function (umd, idx, arr) {\n      if (!date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1___default()(isSameDayFlag, new Date(umd.timeStamp)) || idx === 0) {\n        arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n          showImage: false,\n          type: 'date',\n          seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'user', props)\n        }));\n        isSameDayFlag = umd.timeStamp; // console.log('inside test is sameday', umd.id, arrWithSeenStatus);\n      }\n\n      if (umd.tuserId === userShowTestFlag) {\n        // console.log('inside test', umd.id, arrWithSeenStatus);\n        if (idx !== 0) {\n          if (arr[idx - 1].type) {\n            arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n              showImage: true,\n              seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'user', props)\n            }));\n          } else if (!date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_1___default()(isSameDayFlagImage, new Date(umd.timeStamp))) {\n            arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n              showImage: true,\n              seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'user', props)\n            }));\n            isSameDayFlagImage = umd.timeStamp;\n          } else {\n            arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n              showImage: false,\n              seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'user', props)\n            }));\n          }\n        } else {\n          arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n            showImage: false,\n            seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'user', props)\n          }));\n        }\n      } else {\n        // console.log('inside test', umd.id, arrWithSeenStatus);\n        userShowTestFlag = umd.tuserId;\n        arrWithSeenStatus.push(_objectSpread(_objectSpread({}, umd), {}, {\n          showImage: true,\n          seenStatus: Object(_findMessageSeenStatus__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(umd.id, 'user', props)\n        }));\n      }\n    });\n    arrWithSeenStatusToShow = Object(_findSeenStatusToShow__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(arrWithSeenStatus, [webRtc.chatHistory.user.user.id], 'user');\n    lastMessageSeenIdAndUnseenNo = Object(_findLastMessageAndUnSeenNo__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(arrWithSeenStatus, 'user', props);\n  }\n\n  return _objectSpread({\n    messages: arrWithSeenStatusToShow\n  }, lastMessageSeenIdAndUnseenNo);\n});\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/helper-function/userChatHistory.js?");

/***/ }),

/***/ "./client/src/communication/chathistory/index.js":
/*!*******************************************************!*\
  !*** ./client/src/communication/chathistory/index.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ \"../../node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components */ \"./client/src/communication/components/index.js\");\n/* harmony import */ var _common_utility_functions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../common/utility-functions */ \"./client/src/common/utility-functions/index.js\");\n/* harmony import */ var _helper_function__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./helper-function */ \"./client/src/communication/chathistory/helper-function/index.js\");\n/* harmony import */ var _helper_functions_webrtc_sfu_autoCloseHandler__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../helper-functions/webrtc/sfu/autoCloseHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/autoCloseHandler.js\");\n/* harmony import */ var _helper_function_fetchChatHistory__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./helper-function/fetchChatHistory */ \"./client/src/communication/chathistory/helper-function/fetchChatHistory.js\");\n/* harmony import */ var _helper_function_isJanusActive__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./helper-function/isJanusActive */ \"./client/src/communication/chathistory/helper-function/isJanusActive.js\");\n/* harmony import */ var _helper_function_messageTypeProvider__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./helper-function/messageTypeProvider */ \"./client/src/communication/chathistory/helper-function/messageTypeProvider.js\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../common */ \"./client/src/common/index.js\");\n/* harmony import */ var react_icons_bi__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react-icons/bi */ \"../../node_modules/react-icons/bi/index.esm.js\");\n/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react-icons/fa */ \"../../node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var _common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../common/utility-functions/Button/Button */ \"./client/src/common/utility-functions/Button/Button.js\");\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/prop-types */\n\n/* eslint-disable react/no-find-dom-node */\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ChatHistory = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ChatHistory, _React$Component);\n\n  var _super = _createSuper(ChatHistory);\n\n  function ChatHistory(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ChatHistory);\n\n    _this = _super.call(this, props);\n\n    _this.trackScrolling = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee(e) {\n        var _this$state, finishFetching, scrolling, res;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$state = _this.state, finishFetching = _this$state.finishFetching, scrolling = _this$state.scrolling;\n\n                if (e.target.scrollTop + 10 + e.target.offsetHeight < e.target.scrollHeight && !scrolling) {\n                  _this.setState({\n                    scrolling: true\n                  });\n                }\n\n                if (e.target.scrollTop + 10 + e.target.offsetHeight > e.target.scrollHeight && scrolling) {\n                  _this.setState({\n                    scrolling: false\n                  });\n                }\n\n                if (!finishFetching) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!(e.target.scrollTop === 0)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _this.setState({\n                  showLoader: true,\n                  lastOffsetHeight: e.target.scrollHeight\n                });\n\n                _context.next = 9;\n                return Object(_helper_function_fetchChatHistory__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_this.props);\n\n              case 9:\n                res = _context.sent;\n\n                _this.setState({\n                  showLoader: false,\n                  finishFetching: res.allFetched\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.goBack = function () {\n      var change = _this.props.change;\n      change('list');\n    };\n\n    _this.toCallScreen = /*#__PURE__*/function () {\n      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee2(mediaType) {\n        var _this$props, _callHandler, change, updateWebRtc, webRtc, account, apis;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _this$props = _this.props, _callHandler = _this$props._callHandler, change = _this$props.change, updateWebRtc = _this$props.updateWebRtc, webRtc = _this$props.webRtc, account = _this$props.account;\n                apis = webRtc.apis;\n                _context2.next = 5;\n                return updateWebRtc('isCallUpgraded', false);\n\n              case 5:\n                _context2.next = 7;\n                return updateWebRtc('isConnecting', true);\n\n              case 7:\n                _context2.next = 9;\n                return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, account.user.id, {\n                  streams: [],\n                  type: mediaType\n                })));\n\n              case 9:\n                _context2.next = 11;\n                return updateWebRtc('localCallHistory', {\n                  chatHistory: webRtc.chatHistory,\n                  stream: null,\n                  mediaType: mediaType,\n                  callType: 'Outgoing',\n                  callEnd: false\n                });\n\n              case 11:\n                _context2.next = 13;\n                return updateWebRtc('showOutgoingCall', true);\n\n              case 13:\n                Object(_helper_functions_webrtc_sfu_autoCloseHandler__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(_this.props, {\n                  apis: apis\n                }, 62000);\n\n                _callHandler(mediaType);\n\n                change('connecting');\n                _context2.next = 21;\n                break;\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.error('Error in calling', _context2.t0);\n\n              case 21:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 18]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      messages: [],\n      lastMessageId: null,\n      unSeenNo: null,\n      showLoader: false,\n      scrolling: false,\n      currentScrollableHeight: 0,\n      finishFetching: false,\n      lastOffsetHeight: 0\n    };\n    _this.scrollToEnd = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createRef();\n    _this.messageContainer = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createRef();\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ChatHistory, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee3() {\n        var state;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return Object(_helper_function_fetchChatHistory__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(this.props);\n\n              case 2:\n                state = Object(_helper_function__WEBPACK_IMPORTED_MODULE_14__[\"findChatHistory\"])(this.props);\n                this.setState(_objectSpread({}, state));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      var _componentWillReceiveProps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee4(newProps) {\n        var database, preDatabase, state;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                database = newProps.database;\n                preDatabase = this.props.database;\n\n                if (!lodash__WEBPACK_IMPORTED_MODULE_11___default.a.isEqual(preDatabase.UserMessage.byId, database.UserMessage.byId) || !lodash__WEBPACK_IMPORTED_MODULE_11___default.a.isEqual(preDatabase.UserMessageSeenStatus.byId, database.UserMessageSeenStatus.byId) || !lodash__WEBPACK_IMPORTED_MODULE_11___default.a.isEqual(preDatabase.BoardMessage.byId, database.BoardMessage.byId) || !lodash__WEBPACK_IMPORTED_MODULE_11___default.a.isEqual(preDatabase.BoardMessageSeenStatus.byId, database.BoardMessageSeenStatus.byId)) {\n                  state = Object(_helper_function__WEBPACK_IMPORTED_MODULE_14__[\"findChatHistory\"])(newProps);\n                  this.setState(_objectSpread({}, state));\n                }\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function componentWillReceiveProps(_x3) {\n        return _componentWillReceiveProps.apply(this, arguments);\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$state2 = this.state,\n          scrolling = _this$state2.scrolling,\n          lastOffsetHeight = _this$state2.lastOffsetHeight;\n\n      if (!scrolling) {\n        this.scrollToEnd.current.scrollIntoView({\n          behavior: 'auto'\n        });\n        return;\n      }\n\n      if (lastOffsetHeight && this.messageContainer.current.scrollHeight > lastOffsetHeight) {\n        this.messageContainer.current.scrollTop = this.messageContainer.current.scrollHeight - lastOffsetHeight;\n        this.setState({\n          lastOffsetHeight: this.messageContainer.current.scrollHeight\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      react_dom__WEBPACK_IMPORTED_MODULE_9___default.a.findDOMNode(this.messageContainer.current).removeEventListener('scroll', this.trackScrolling);\n    } // tracking scroll for pagination\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          style = _this$props2.style,\n          webRtc = _this$props2.webRtc,\n          database = _this$props2.database,\n          account = _this$props2.account,\n          fromLive = _this$props2.fromLive;\n      var _webRtc$chatHistory = webRtc.chatHistory,\n          user = _webRtc$chatHistory.user,\n          connectionId = _webRtc$chatHistory.connectionId,\n          type = _webRtc$chatHistory.type;\n      var _this$state3 = this.state,\n          messages = _this$state3.messages,\n          showLoader = _this$state3.showLoader;\n      var userActiveStatus = false; // console.log('props in chatHistory', this.props);\n\n      if (type === 'user') {\n        var connectionDetails = database.UserConnection.byId[connectionId] || {};\n        userActiveStatus = connectionDetails.activeStatus;\n      }\n\n      var _isJanusActive = Object(_helper_function_isJanusActive__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(this.props),\n          showAudio = _isJanusActive.showAudio,\n          showVideo = _isJanusActive.showVideo,\n          showJoin = _isJanusActive.showJoin;\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: _objectSpread(_objectSpread({}, style), {}, {\n          background: '#F9FAFC'\n        }),\n        className: \"chat-history\",\n        onClick: function onClick() {\n          return Object(_helper_function__WEBPACK_IMPORTED_MODULE_14__[\"markLastMessageRead\"])(_this2.props, _this2.state);\n        }\n      }, !fromLive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"top\",\n        style: {\n          background: '#f6f7fd'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"pc-back-btn\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_bi__WEBPACK_IMPORTED_MODULE_20__[\"BiChevronsLeft\"], {\n        size: 20,\n        onClick: this.goBack\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"op-name\"\n      }, webRtc.chatHistory.type === 'user' ? Object(_common_utility_functions__WEBPACK_IMPORTED_MODULE_13__[\"getName\"])(user.user) : database.Board.byId[webRtc.chatHistory.connectionId].name, webRtc.chatHistory.type === 'user' && userActiveStatus && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"green-dot\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"call-control\"\n      }, showAudio && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_22__[\"Button\"], {\n        onClick: function onClick() {\n          return _this2.toCallScreen('audio');\n        },\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_21__[\"FaPhoneAlt\"], null),\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      }), showVideo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_22__[\"Button\"], {\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_21__[\"FaVideo\"], null),\n        onClick: function onClick() {\n          return _this2.toCallScreen('video');\n        },\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      }), showJoin && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_22__[\"Button\"], {\n        onClick: function onClick() {\n          return _this2.toCallScreen('audio');\n        },\n        type: \"button\",\n        buttonStyle: \"btn--success--solid\",\n        buttonSize: \"btn--small\",\n        title: \"Join\"\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        ref: this.messageContainer,\n        className: \"chats\",\n        id: \"pcChats\",\n        onScroll: this.trackScrolling\n      }, showLoader && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: {\n          position: 'relative',\n          height: 45\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_19__[\"Spinner\"], {\n        style: {\n          top: 0,\n          left: 'calc(50% - 22.5px)',\n          height: '100%',\n          zIndex: 3\n        }\n      })), messages.sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_13__[\"normalTimeStampSorting\"]).map(function (msg, idx, arr) {\n        return Object(_helper_function_messageTypeProvider__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(_this2.props, msg, account, idx === 0 ? false : arr[idx - 1].type);\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"i-chat left\",\n        ref: this.scrollToEnd\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_12__[\"MessageSender\"], this.props));\n    }\n  }]);\n\n  return ChatHistory;\n}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);\n\nChatHistory.propTypes = {\n  _callHandler: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,\n  change: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,\n  apis: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any).isRequired,\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any).isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any).isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any).isRequired,\n  addDatabaseSchema: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,\n  updateWebRtc: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChatHistory);\n\n//# sourceURL=webpack:///./client/src/communication/chathistory/index.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/ChatListItem.js":
/*!***********************************************************!*\
  !*** ./client/src/communication/chatlist/ChatListItem.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ \"./client/src/config/index.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _chathistory_helper_function__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chathistory/helper-function */ \"./client/src/communication/chathistory/helper-function/index.js\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components */ \"./client/src/components/index.js\");\n/* eslint-disable react/prop-types */\n\n/* eslint-disable no-nested-ternary */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable jsx-a11y/mouse-events-have-key-events */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (_ref) {\n  var clo = _ref.clo,\n      idx = _ref.idx;\n  var isUser = clo.type === 'user';\n  var userActive = {};\n  var isBoardLive;\n\n  if (isUser) {\n    userActive = clo.props.database.UserConnection.byId[clo.connectionId] || {};\n  }\n\n  if (!isUser) {\n    isBoardLive = clo.props.database.Board.byId[clo.boardDetails.id].activeStatus;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pc-chat-indi-wrap\",\n    key: idx,\n    style: {\n      cursor: 'pointer',\n      padding: '5px 10px 5px 5px',\n      background: clo.mouseHoverId === idx ? '#d6f4fe' : 'white'\n    },\n    onClick: function onClick() {\n      return clo.onClick(clo);\n    },\n    onMouseOver: function onMouseOver() {\n      return clo.onMouseHover(idx);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pc-chat-indi\",\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pc-chat-user\",\n    style: {\n      display: 'flex',\n      position: 'relative'\n    }\n  }, isUser ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"profile-icon\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_5__[\"RoundPicture\"], {\n    imgUrl: clo.user.userDetails && clo.user.userDetails.image ? \"\".concat(_config__WEBPACK_IMPORTED_MODULE_2__[\"ENDPOINT\"], \"/assets/user/\").concat(10000000 + parseInt(clo.user.user.id, 10), \"/profile/\").concat(clo.user.userDetails.image) : '/assets//graphics/user.svg'\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"class-icon\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n    src: \"/assets/graphics/classroom.svg\",\n    alt: \"classroom logo\"\n  })), isUser && userActive.activeStatus && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"green-dot\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pc-chat-user-detail\",\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      marginLeft: 10\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pc-chat-username\",\n    style: {\n      fontWeight: 'bold'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, isUser ? clo.user.user.firstName : clo.boardDetails.name), !isUser && isBoardLive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: {\n      background: 'green',\n      padding: 3,\n      fontSize: 10,\n      marginLeft: 5,\n      fontWeight: 'lighter',\n      borderRadius: 5,\n      color: 'white'\n    }\n  }, \"Live\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"last-text\"\n  }, clo.lastMessage && (clo.lastMessage.type ? clo.lastMessage.type === 'Incoming' ? Object(_chathistory_helper_function__WEBPACK_IMPORTED_MODULE_4__[\"incomingCallLogHandler\"])(clo.lastMessage, _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().account, clo.type, true) : Object(_chathistory_helper_function__WEBPACK_IMPORTED_MODULE_4__[\"outgoingCallLogHandler\"])(clo.lastMessage, _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().account, clo.type, true) : clo.lastMessage.message)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pc-chat-time\",\n    style: {\n      position: 'relative',\n      display: 'flex',\n      justifyContent: 'flex-end',\n      flexDirection: 'column',\n      alignItems: 'flex-end'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: {\n      fontSize: 12,\n      color: '#757575'\n    }\n  }, moment__WEBPACK_IMPORTED_MODULE_1___default()(clo.timeStamp).fromNow()), clo.unSeenNo > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pc-chat-unread-num\",\n    style: {\n      marginTop: 5,\n      position: 'relative',\n      backgroundColor: 'green',\n      height: 20,\n      width: 20,\n      borderRadius: '50%',\n      justifyContent: 'center',\n      display: 'flex',\n      color: 'white',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: {\n      fontSize: 10,\n      fontWeight: 'bold'\n    }\n  }, clo.unSeenNo)))));\n});\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/ChatListItem.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/helper-function/chatItemClickHandler.js":
/*!***********************************************************************************!*\
  !*** ./client/src/communication/chatlist/helper-function/chatItemClickHandler.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(chatHistory) {\n    var _chatHistory$props, change, updateWebRtc, database, account, addDatabaseSchema, fromLive, showChatHistory, webRtc, apis, type, user, lastMessageId, boardDetails, unSeenNo, id, connection;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _chatHistory$props = chatHistory.props, change = _chatHistory$props.change, updateWebRtc = _chatHistory$props.updateWebRtc, database = _chatHistory$props.database, account = _chatHistory$props.account, addDatabaseSchema = _chatHistory$props.addDatabaseSchema, fromLive = _chatHistory$props.fromLive, showChatHistory = _chatHistory$props.showChatHistory, webRtc = _chatHistory$props.webRtc; // console.log('props in onClick chalt list', chatHistory);\n\n            apis = webRtc.apis;\n            type = chatHistory.type, user = chatHistory.user, lastMessageId = chatHistory.lastMessageId, boardDetails = chatHistory.boardDetails, unSeenNo = chatHistory.unSeenNo;\n            id = user ? user.user.id : chatHistory.boardDetails.id;\n            _context.next = 7;\n            return updateWebRtc('chatHistory', chatHistory);\n\n          case 7:\n            if (!fromLive) {\n              change('history');\n            }\n\n            if (fromLive) {\n              showChatHistory(true);\n            }\n\n            if (chatHistory.type === 'user') {\n              connection = Object.values(database.UserConnection.byId).find(function (con) {\n                return con.userId === id || con.mId === id;\n              }) || {};\n              updateWebRtc('connectionId', connection.id);\n            }\n\n            updateWebRtc('peerType', type);\n            updateWebRtc('showCommunication', id); // console.log('ChatItemClick listner called', unSeenNo, type);\n\n            if (unSeenNo > 0) {\n              if (type === 'user') {\n                apis.addUserMessageSeenStatus({\n                  userId: account.user.id,\n                  umId: lastMessageId,\n                  timeStamp: Date.now(),\n                  status: true,\n                  broadCastId: \"UserConnection-\".concat(account.user.id),\n                  broadCastUserList: [{\n                    userId: user.user.id\n                  }]\n                });\n                addDatabaseSchema('UserMessageSeenStatus', {\n                  id: Date.now(),\n                  userId: account.user.id,\n                  umId: lastMessageId,\n                  timeStamp: Date.now(),\n                  status: true\n                });\n              }\n\n              if (type === 'board') {\n                apis.addBoardMessageSeenStatus({\n                  userId: account.user.id,\n                  bmId: lastMessageId,\n                  timeStamp: Date.now(),\n                  status: true,\n                  broadCastId: \"Board-\".concat(boardDetails.id)\n                });\n                addDatabaseSchema('BoardMessageSeenStatus', {\n                  id: Date.now(),\n                  userId: account.user.id,\n                  bmId: lastMessageId,\n                  timeStamp: Date.now(),\n                  status: true\n                });\n              }\n            }\n\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('error in chat list click item', _context.t0);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 15]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/helper-function/chatItemClickHandler.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/helper-function/getChatList.js":
/*!**************************************************************************!*\
  !*** ./client/src/communication/chatlist/helper-function/getChatList.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common_utility_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/utility-functions */ \"./client/src/common/utility-functions/index.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable prefer-destructuring */\n\n\nvar findMessageSeenStatus = function findMessageSeenStatus(msgId, type, props) {\n  var database = props.database;\n  var users = [];\n\n  if (type === 'board') {\n    Object.values(database.BoardMessageSeenStatus.byId).forEach(function (obj) {\n      if (obj.bmId === msgId) {\n        users.push(obj);\n      }\n    });\n  }\n\n  if (type === 'user') {\n    Object.values(database.UserMessageSeenStatus.byId).forEach(function (obj) {\n      if (obj.umId === msgId) {\n        users.push(obj);\n      }\n    });\n  }\n\n  return users;\n};\n\nvar findUserChatListDetails = function findUserChatListDetails(arr, props) {\n  var database = props.database,\n      account = props.account;\n  var arrWithSeenStatus = arr.map(function (umd) {\n    return _objectSpread(_objectSpread({}, umd), {}, {\n      seenStatus: findMessageSeenStatus(umd.id, 'user', props)\n    });\n  });\n  var arrWithSeenStatusReverse = arrWithSeenStatus.reverse();\n  var unseenMsg = arrWithSeenStatusReverse.findIndex(function (obj) {\n    return obj.seenStatus.find(function (o) {\n      return o.userId === account.user.id;\n    });\n  });\n  var unSeenNo;\n\n  if (unseenMsg === -1) {\n    unSeenNo = arrWithSeenStatusReverse.filter(function (obj) {\n      return obj.fuserId !== account.user.id;\n    }).length;\n  } else {\n    var count = 0;\n\n    for (var i = 0; i < unseenMsg; i += 1) {\n      if (arrWithSeenStatusReverse[i].fuserId !== account.user.id) {\n        count += 1;\n      }\n    }\n\n    unSeenNo = count;\n  }\n\n  var msgObj = arrWithSeenStatus[0];\n  var lastMessage = arrWithSeenStatus.find(function (obj) {\n    return obj.fuserId !== account.user.id;\n  });\n  var lastMessageId = lastMessage ? lastMessage.id : arrWithSeenStatus[0].id;\n  var connection = Object.values(database.UserConnection.byId).find(function (uc) {\n    return uc.id === msgObj.connectionId;\n  });\n  var user = connection.user.user;\n  var activeStatus = connection.activeStatus;\n  var userDetails = connection.user.userDetail;\n  return {\n    activeStatus: activeStatus,\n    connectionId: connection ? connection.id : null,\n    type: 'user',\n    user: {\n      user: user,\n      userDetails: userDetails\n    },\n    unSeenNo: unSeenNo,\n    timeStamp: arrWithSeenStatus[0].timeStamp,\n    lastMessage: arrWithSeenStatus[0],\n    lastMessageId: lastMessageId\n  };\n};\n\nvar findBoardMessageDetails = function findBoardMessageDetails(arr, props) {\n  var database = props.database,\n      account = props.account;\n  var boardId = arr[0].boardId;\n  var boardDetails = database.Board.byId[boardId];\n  var arrWithSeenStatus = arr.map(function (bmd) {\n    return _objectSpread(_objectSpread({}, bmd), {}, {\n      seenStatus: findMessageSeenStatus(bmd.id, 'board', props)\n    });\n  });\n  var arrWithSeenStatusReverse = arrWithSeenStatus.reverse();\n  var unseenMsg = arrWithSeenStatusReverse.findIndex(function (obj) {\n    return obj.seenStatus.find(function (o) {\n      return o.userId === account.user.id;\n    });\n  });\n  var unSeenNo;\n\n  if (unseenMsg === -1) {\n    unSeenNo = arrWithSeenStatusReverse.filter(function (obj) {\n      return obj.userId !== account.user.id;\n    }).length;\n  } else {\n    var count = 0;\n\n    for (var i = 0; i < unseenMsg; i += 1) {\n      if (arrWithSeenStatusReverse[i].userId !== account.user.id && !arrWithSeenStatusReverse[i].type) {\n        count += 1;\n      }\n    }\n\n    unSeenNo = count;\n  }\n\n  var lastMessage = arrWithSeenStatus.find(function (obj) {\n    return obj.userId !== account.user.id;\n  });\n  var lastMessageId = lastMessage ? lastMessage.id : arrWithSeenStatus[0].id;\n  var lastMessageForSeenStatus = arrWithSeenStatus.find(function (obj) {\n    if (!obj.type) {\n      return true;\n    }\n\n    if (obj.type && obj.userId === account.user.id) {\n      return true;\n    }\n  }); // i have changed here connectionId\n\n  return {\n    connectionId: boardId,\n    type: 'board',\n    boardDetails: boardDetails,\n    unSeenNo: unSeenNo,\n    timeStamp: arrWithSeenStatus[0].timeStamp,\n    lastMessage: lastMessageForSeenStatus,\n    lastMessageId: lastMessageId\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var database = props.database;\n  var messageByConnectionId = {};\n  var boardMessageByBoardId = {};\n  Object.values(database.UserMessage.byId).forEach(function (msg) {\n    if (messageByConnectionId[msg.connectionId]) {\n      messageByConnectionId = _objectSpread(_objectSpread({}, messageByConnectionId), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, msg.connectionId, [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(messageByConnectionId[msg.connectionId]), [msg])));\n    } else {\n      messageByConnectionId = _objectSpread(_objectSpread({}, messageByConnectionId), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, msg.connectionId, [msg]));\n    }\n  });\n  Object.values(database.BoardMessage.byId).forEach(function (bmg) {\n    if (boardMessageByBoardId[bmg.boardId]) {\n      boardMessageByBoardId = _objectSpread(_objectSpread({}, boardMessageByBoardId), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, bmg.boardId, [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(boardMessageByBoardId[bmg.boardId]), [bmg])));\n    } else {\n      boardMessageByBoardId = _objectSpread(_objectSpread({}, boardMessageByBoardId), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, bmg.boardId, [bmg]));\n    }\n  });\n  var moreUserDetails = Object.values(messageByConnectionId).map(function (arr) {\n    return _objectSpread(_objectSpread({}, findUserChatListDetails(arr, props)), {}, {\n      message: arr.sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_2__[\"normalTimeStampSorting\"])\n    });\n  });\n  var moreBoardDetails = Object.values(boardMessageByBoardId).map(function (arr) {\n    return _objectSpread(_objectSpread({}, findBoardMessageDetails(arr, props)), {}, {\n      message: arr.sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_2__[\"normalTimeStampSorting\"])\n    });\n  });\n  var moreDetails = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(moreUserDetails), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(moreBoardDetails)).sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_2__[\"timeStampSorting\"]);\n  var chatList = moreDetails.sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_2__[\"timeStampSorting\"]);\n  return chatList;\n});\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/helper-function/getChatList.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/helper-function/index.js":
/*!********************************************************************!*\
  !*** ./client/src/communication/chatlist/helper-function/index.js ***!
  \********************************************************************/
/*! exports provided: chatItemClickHandler, getChatList, updateChatList, updateUserActiveStatus, updateBoardActiveStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _chatItemClickHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chatItemClickHandler */ \"./client/src/communication/chatlist/helper-function/chatItemClickHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"chatItemClickHandler\", function() { return _chatItemClickHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _getChatList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getChatList */ \"./client/src/communication/chatlist/helper-function/getChatList.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getChatList\", function() { return _getChatList__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _updateChatList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateChatList */ \"./client/src/communication/chatlist/helper-function/updateChatList.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"updateChatList\", function() { return _updateChatList__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _updateUserActiveStatus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updateUserActiveStatus */ \"./client/src/communication/chatlist/helper-function/updateUserActiveStatus.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"updateUserActiveStatus\", function() { return _updateUserActiveStatus__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _updateBoardActiveStatus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./updateBoardActiveStatus */ \"./client/src/communication/chatlist/helper-function/updateBoardActiveStatus.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"updateBoardActiveStatus\", function() { return _updateBoardActiveStatus__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/helper-function/index.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/helper-function/updateBoardActiveStatus.js":
/*!**************************************************************************************!*\
  !*** ./client/src/communication/chatlist/helper-function/updateBoardActiveStatus.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common_utility_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/utility-functions */ \"./client/src/common/utility-functions/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (newProps, oldProps) {\n  var database = newProps.database,\n      webRtc = newProps.webRtc,\n      updateWebRtc = newProps.updateWebRtc;\n  var oldDataBase = oldProps.database;\n  var currentChatList = webRtc.chatList || []; // console.log('updateBoardActiveStatus called -1', oldDataBase, database);\n\n  if (!lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEqual(database.Board.byId, oldDataBase.Board.byId)) {\n    var newChatList = []; // console.log('check 1', newProps);\n\n    currentChatList.forEach(function (ucl) {\n      if (ucl.type === 'board') {\n        var uc = database.Board.byId[ucl.connectionId] || {};\n\n        if (uc.activeStatus !== ucl.activeStatus) {\n          newChatList.push(_objectSpread(_objectSpread({}, ucl), {}, {\n            activeStatus: uc.activeStatus\n          }));\n        } else {\n          newChatList.push(ucl);\n        }\n      } else {\n        newChatList.push(ucl);\n      }\n    });\n    var chatListTobeUpdate = newChatList.sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_2__[\"timeStampSorting\"]);\n\n    if (chatListTobeUpdate.length > 0) {\n      updateWebRtc('chatList', chatListTobeUpdate);\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/helper-function/updateBoardActiveStatus.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/helper-function/updateChatList.js":
/*!*****************************************************************************!*\
  !*** ./client/src/communication/chatlist/helper-function/updateChatList.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _getChatList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getChatList */ \"./client/src/communication/chatlist/helper-function/getChatList.js\");\n/* harmony import */ var _common_utility_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/utility-functions */ \"./client/src/common/utility-functions/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (newProps, oldProps) {\n  var webRtc = newProps.webRtc,\n      updateWebRtc = newProps.updateWebRtc,\n      database = newProps.database;\n  var preDatabase = oldProps.database;\n\n  if (!lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEqual(preDatabase.UserMessage.byId, database.UserMessage.byId) || !lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEqual(preDatabase.UserMessageSeenStatus.byId, database.UserMessageSeenStatus.byId) || !lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEqual(preDatabase.BoardMessage.byId, database.BoardMessage.byId) || !lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEqual(preDatabase.BoardMessageSeenStatus.byId, database.BoardMessageSeenStatus.byId)) {\n    var oldchatList = webRtc.chatList || [];\n    var newChatList = Object(_getChatList__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(newProps);\n    newChatList.forEach(function (obj, oIdx) {\n      var connectionIndex = oldchatList.findIndex(function (c) {\n        return c.connectionId === obj.connectionId && c.type === obj.type;\n      });\n\n      if (connectionIndex !== -1 && oIdx === 0 || obj.unSeenNo === 0) {\n        oldchatList = oldchatList.map(function (c, idx) {\n          if (idx === connectionIndex) {\n            return _objectSpread(_objectSpread({}, c), {}, {\n              lastMessage: obj.lastMessage,\n              lastMessageId: obj.lastMessageId,\n              timeStamp: obj.timeStamp,\n              unSeenNo: obj.unSeenNo === 0 ? 0 : c.unSeenNo + 1,\n              activeStatus: obj.activeStatus\n            });\n          }\n\n          return c;\n        });\n      }\n\n      if (connectionIndex === -1) {\n        oldchatList.push(obj);\n      }\n    });\n    var chatListTobeUpdate = oldchatList.sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_3__[\"timeStampSorting\"]);\n\n    if (chatListTobeUpdate.length > 0) {\n      updateWebRtc('chatList', chatListTobeUpdate);\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/helper-function/updateChatList.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/helper-function/updateUserActiveStatus.js":
/*!*************************************************************************************!*\
  !*** ./client/src/communication/chatlist/helper-function/updateUserActiveStatus.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common_utility_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/utility-functions */ \"./client/src/common/utility-functions/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (newProps, oldProps) {\n  var database = newProps.database,\n      webRtc = newProps.webRtc,\n      updateWebRtc = newProps.updateWebRtc;\n  var oldDataBase = oldProps.database;\n  var currentChatList = webRtc.chatList || []; // console.log('updateUserActiveStatus called -1', oldDataBase, database);\n\n  if (!lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEqual(database.UserConnection.byId, oldDataBase.UserConnection.byId)) {\n    var newChatList = []; // console.log('check 1', newProps);\n\n    currentChatList.forEach(function (ucl) {\n      if (ucl.type === 'user') {\n        var uc = database.UserConnection.byId[ucl.connectionId] || {};\n\n        if (uc.activeStatus !== ucl.activeStatus) {\n          newChatList.push(_objectSpread(_objectSpread({}, ucl), {}, {\n            activeStatus: uc.activeStatus\n          }));\n        } else {\n          newChatList.push(ucl);\n        }\n      } else {\n        newChatList.push(ucl);\n      }\n    });\n    var chatListTobeUpdate = newChatList.sort(_common_utility_functions__WEBPACK_IMPORTED_MODULE_2__[\"timeStampSorting\"]);\n\n    if (chatListTobeUpdate.length > 0) {\n      updateWebRtc('chatList', chatListTobeUpdate);\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/helper-function/updateUserActiveStatus.js?");

/***/ }),

/***/ "./client/src/communication/chatlist/index.js":
/*!****************************************************!*\
  !*** ./client/src/communication/chatlist/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _ChatListItem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ChatListItem */ \"./client/src/communication/chatlist/ChatListItem.js\");\n/* harmony import */ var _helper_function__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./helper-function */ \"./client/src/communication/chatlist/helper-function/index.js\");\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/require-default-props */\n\n\n\n\n\nvar ChatList = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(ChatList, _React$Component);\n\n  var _super = _createSuper(ChatList);\n\n  function ChatList() {\n    var _temp, _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ChatList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.state = {\n      mouseHoverId: null,\n      chatList: []\n    }, _this.onMouseHover = function (id) {\n      _this.setState({\n        mouseHoverId: id\n      });\n    }, _temp));\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ChatList, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee() {\n        var webRtc, chatList;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                webRtc = this.props.webRtc;\n                chatList = webRtc.chatList;\n\n                if (chatList) {\n                  this.setState({\n                    chatList: chatList\n                  });\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      var _componentWillReceiveProps = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee2(newProps) {\n        var webRtc, chatList;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                webRtc = newProps.webRtc;\n                chatList = webRtc.chatList;\n\n                if (chatList) {\n                  this.setState({\n                    chatList: chatList\n                  });\n                }\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentWillReceiveProps(_x) {\n        return _componentWillReceiveProps.apply(this, arguments);\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var style = this.props.style;\n      var _this$state = this.state,\n          mouseHoverId = _this$state.mouseHoverId,\n          chatList = _this$state.chatList; // console.log('chatlist', chatList);\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        style: style,\n        className: \"chat-list\"\n      }, chatList.length === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"no-msg\"\n      }, \"You do not have any conversations\"), chatList.map(function (uc, idx) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_ChatListItem__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n          key: idx,\n          clo: _objectSpread(_objectSpread({}, uc), {}, {\n            onClick: _helper_function__WEBPACK_IMPORTED_MODULE_11__[\"chatItemClickHandler\"],\n            onMouseHover: _this2.onMouseHover,\n            mouseHoverId: mouseHoverId,\n            props: _this2.props\n          }),\n          idx: idx\n        });\n      }));\n    }\n  }]);\n\n  return ChatList;\n}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);\n\nChatList.propTypes = {\n  style: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any),\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChatList);\n\n//# sourceURL=webpack:///./client/src/communication/chatlist/index.js?");

/***/ }),

/***/ "./client/src/communication/components/MessageSender.js":
/*!**************************************************************!*\
  !*** ./client/src/communication/components/MessageSender.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _helper_functions_webrtc_mesh__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../helper-functions/webrtc/mesh */ \"./client/src/communication/helper-functions/webrtc/mesh/index.js\");\n/* harmony import */ var react_icons_fi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-icons/fi */ \"../../node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _common_Form_FormTextArea__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/Form/FormTextArea */ \"./client/src/common/Form/FormTextArea.js\");\n/* harmony import */ var _common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../common/utility-functions/Button/Button */ \"./client/src/common/utility-functions/Button/Button.js\");\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\nvar MessageSender = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(MessageSender, _React$Component);\n\n  var _super = _createSuper(MessageSender);\n\n  function MessageSender() {\n    var _temp, _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, MessageSender);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.state = {\n      message: ''\n    }, _this.onMessageType = function (e) {\n      _this.setState({\n        message: e.target.value\n      });\n    }, _this.handleKeyPress = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee(e) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n\n                  _this.sendMessage();\n                }\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), _this.sendMessage = /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee2() {\n      var message;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              message = _this.state.message;\n\n              if (!(message.replace(/\\s/g, '').length === 0)) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 3:\n              _this.setState({\n                message: ''\n              });\n\n              _context2.prev = 4;\n              _context2.next = 7;\n              return Object(_helper_functions_webrtc_mesh__WEBPACK_IMPORTED_MODULE_10__[\"sendMessage\"])(_objectSpread(_objectSpread({}, _this.props), {}, {\n                message: message\n              }));\n\n            case 7:\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](4);\n              console.log('Error');\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[4, 9]]);\n    })), _temp));\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(MessageSender, [{\n    key: \"render\",\n    value: function render() {\n      var message = this.state.message;\n      var _this$props = this.props,\n          webRtc = _this$props.webRtc,\n          database = _this$props.database;\n      var connetion = database.UserConnection.byId[webRtc.chatHistory.connectionId] || {};\n      var isDeleted = connetion.status === 'deleted' || connetion.status === 'pending';\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"chat-box\",\n        style: {\n          marginTop: 10,\n          marginBottom: 0\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_Form_FormTextArea__WEBPACK_IMPORTED_MODULE_12__[\"FormTextArea\"], {\n        rows: 2,\n        disabled: isDeleted,\n        placeholder: \"Enter your message here...\",\n        onChange: this.onMessageType,\n        value: message,\n        onKeyPress: this.handleKeyPress\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"div\", {\n        className: \"pc-send-btn\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_common_utility_functions_Button_Button__WEBPACK_IMPORTED_MODULE_13__[\"Button\"], {\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_11__[\"FiSend\"], null),\n        disabled: isDeleted,\n        onClick: this.sendMessage,\n        type: \"button\",\n        buttonStyle: \"btn--circle-icons\",\n        buttonSize: \"btn--small\"\n      })));\n    }\n  }]);\n\n  return MessageSender;\n}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);\n\nMessageSender.defaultProps = {\n  peerId: 0\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (MessageSender);\nMessageSender.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any).isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/components/MessageSender.js?");

/***/ }),

/***/ "./client/src/communication/components/index.js":
/*!******************************************************!*\
  !*** ./client/src/communication/components/index.js ***!
  \******************************************************/
/*! exports provided: MessageSender, SoundComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _MessageSender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MessageSender */ \"./client/src/communication/components/MessageSender.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MessageSender\", function() { return _MessageSender__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _SoundComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SoundComponent */ \"./client/src/communication/components/SoundComponent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SoundComponent\", function() { return _SoundComponent__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/components/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/message/index.js":
/*!********************************************************************!*\
  !*** ./client/src/communication/helper-functions/message/index.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return sendMessage; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sendUserMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sendUserMessage */ \"./client/src/communication/helper-functions/message/sendUserMessage.js\");\n/* harmony import */ var _sendBoardMessage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sendBoardMessage */ \"./client/src/communication/helper-functions/message/sendBoardMessage.js\");\n\n\n\n/* eslint-disable no-lonely-if */\n\n\n\nvar updateStore = function updateStore(props, id, todo, tempId, status) {\n  var webRtc = props.webRtc,\n      addDatabaseSchema = props.addDatabaseSchema,\n      message = props.message,\n      account = props.account,\n      deleteDatabaseSchema = props.deleteDatabaseSchema;\n\n  if (webRtc.chatHistory.type === 'board') {\n    if (todo === 'add') {\n      addDatabaseSchema('BoardMessage', {\n        id: id,\n        boardId: webRtc.chatHistory.connectionId,\n        message: message,\n        userId: account.user.id,\n        timeStamp: Date.now(),\n        url: null,\n        remarks: null,\n        readStatus: 0,\n        status: 'loading'\n      });\n    } else {\n      deleteDatabaseSchema('BoardMessage', {\n        id: tempId\n      });\n      addDatabaseSchema('BoardMessage', {\n        id: id,\n        boardId: webRtc.chatHistory.connectionId,\n        message: message,\n        userId: account.user.id,\n        timeStamp: Date.now(),\n        url: null,\n        remarks: null,\n        readStatus: 0,\n        status: status\n      });\n    }\n  } else {\n    if (todo === 'add') {\n      addDatabaseSchema('UserMessage', {\n        id: id,\n        tuserId: webRtc.chatHistory.user.user.id,\n        fuserId: account.user.id,\n        timeStamp: Date.now(),\n        connectionId: webRtc.chatHistory.connectionId,\n        message: message,\n        url: null,\n        readStatus: 0,\n        status: 'loading'\n      });\n    } else {\n      deleteDatabaseSchema('UserMessage', {\n        id: tempId\n      });\n      addDatabaseSchema('UserMessage', {\n        id: id,\n        tuserId: webRtc.chatHistory.user.user.id,\n        fuserId: account.user.id,\n        timeStamp: Date.now(),\n        connectionId: webRtc.chatHistory.connectionId,\n        message: message,\n        url: null,\n        readStatus: 0,\n        status: status\n      });\n    }\n  }\n};\n\nfunction sendMessage(_x) {\n  return _sendMessage.apply(this, arguments);\n}\n\nfunction _sendMessage() {\n  _sendMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props) {\n    var resend, deleteDatabaseSchema, tempId, webRtc, boardMessageRes, userMessageRes;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // console.log('props in sendMessage', props);\n            resend = props.resend, deleteDatabaseSchema = props.deleteDatabaseSchema;\n\n            if (resend) {\n              deleteDatabaseSchema('UserMessage', {\n                id: resend\n              });\n            }\n\n            tempId = Date.now();\n            webRtc = props.webRtc;\n\n            if (!(webRtc.chatHistory.type === 'board')) {\n              _context.next = 12;\n              break;\n            }\n\n            updateStore(props, tempId, 'add');\n            _context.next = 8;\n            return Object(_sendBoardMessage__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props);\n\n          case 8:\n            boardMessageRes = _context.sent;\n\n            if (boardMessageRes) {\n              updateStore(props, boardMessageRes, 'deleteAdd', tempId);\n            } else {\n              updateStore(props, boardMessageRes, 'deleteAdd', tempId, 'error');\n            }\n\n            _context.next = 17;\n            break;\n\n          case 12:\n            updateStore(props, tempId, 'add');\n            _context.next = 15;\n            return Object(_sendUserMessage__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props);\n\n          case 15:\n            userMessageRes = _context.sent;\n\n            if (userMessageRes) {\n              updateStore(props, userMessageRes, 'deleteAdd', tempId);\n            } else {\n              updateStore(props, userMessageRes, 'deleteAdd', tempId, 'error');\n            }\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _sendMessage.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/message/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/message/sendBoardMessage.js":
/*!*******************************************************************************!*\
  !*** ./client/src/communication/helper-functions/message/sendBoardMessage.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return sendBoardMessage; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction sendBoardMessage(_x) {\n  return _sendBoardMessage.apply(this, arguments);\n}\n\nfunction _sendBoardMessage() {\n  _sendBoardMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props) {\n    var account, webRtc, message, apis, sendingRes;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            account = props.account, webRtc = props.webRtc, message = props.message;\n            apis = webRtc.apis;\n            _context.prev = 2;\n            _context.next = 5;\n            return apis.addBoardMessage({\n              boardId: webRtc.chatHistory.connectionId,\n              message: message,\n              userId: account.user.id,\n              timeStamp: Date.now(),\n              url: null,\n              remarks: null,\n              broadCastId: \"Board-\".concat(webRtc.chatHistory.connectionId),\n              readStatus: 0\n            });\n\n          case 5:\n            sendingRes = _context.sent;\n            return _context.abrupt(\"return\", sendingRes);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n            console.error('Error in sending board message', _context.t0);\n            return _context.abrupt(\"return\", false);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 9]]);\n  }));\n  return _sendBoardMessage.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/message/sendBoardMessage.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/message/sendUserMessage.js":
/*!******************************************************************************!*\
  !*** ./client/src/communication/helper-functions/message/sendUserMessage.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return sendUserMessage; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction sendUserMessage(_x) {\n  return _sendUserMessage.apply(this, arguments);\n}\n\nfunction _sendUserMessage() {\n  _sendUserMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props) {\n    var account, webRtc, message, apis, sendingUserMessageRes;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            account = props.account, webRtc = props.webRtc, message = props.message;\n            apis = webRtc.apis; //  console.log('webRtc value in send User Message', webRtc);\n\n            _context.prev = 2;\n            _context.next = 5;\n            return apis.addUserMessage({\n              tuserId: webRtc.chatHistory.user.user.id,\n              fuserId: account.user.id,\n              timeStamp: Date.now(),\n              message: message,\n              url: null,\n              readStatus: 0,\n              connectionId: webRtc.chatHistory.connectionId,\n              broadCastId: \"UserConnection-\".concat(account.user.id),\n              broadCastUserList: [{\n                userId: webRtc.chatHistory.user.user.id\n              }]\n            });\n\n          case 5:\n            sendingUserMessageRes = _context.sent;\n            return _context.abrupt(\"return\", sendingUserMessageRes);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n            console.error('Error in sending message', _context.t0);\n            return _context.abrupt(\"return\", false);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 9]]);\n  }));\n  return _sendUserMessage.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/message/sendUserMessage.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/answerHandler.js":
/*!********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/answerHandler.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _createPcForEachUser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createPcForEachUser */ \"./client/src/communication/helper-functions/webrtc/mesh/createPcForEachUser.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n/* eslint-disable prefer-destructuring */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(apis, stream) {\n      var _store$getState, webRtc, account, updateWebRtc, _webRtc$currentOffer, broadCastId, broadCastType, connectionId, previousOffers, pcs, pendingOfferUserPcs, answerPromises, anserList, remainingUser, pcsPromises;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              account = props.account, updateWebRtc = props.updateWebRtc;\n              _webRtc$currentOffer = webRtc.currentOffer, broadCastId = _webRtc$currentOffer.broadCastId, broadCastType = _webRtc$currentOffer.broadCastType, connectionId = _webRtc$currentOffer.connectionId;\n              updateWebRtc('liveIncomingCall', false); // Creating pc for users\n\n              _context.next = 7;\n              return Object(_createPcForEachUser__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(broadCastId, props, state);\n\n            case 7:\n              // geting all currently created webRtc Value need to test\n              webRtc = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState().webRtc; // This is confusing store change need to remove\n\n              updateWebRtc('streams', _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, account.user.id, {\n                stream: [stream]\n              })); // Set out going stream in store\n\n              updateWebRtc('outGoingCallType', stream); // Set IncommingCall Screen do not show again in another offer\n\n              updateWebRtc('showIncommingCall', false); // Set broadCast is id of board that identify current id of board or user\n\n              updateWebRtc('showCommunication', broadCastId); // Setting connectiion id for identifing user connection id that is used in another incomming call rejection or other stuff\n\n              updateWebRtc('connectionId', connectionId); // Switch the Screen in connecting mode\n\n              updateWebRtc('communicationContainer', 'connecting'); // Set switch the screen into outgoing screen\n\n              updateWebRtc('showOutgoingCall', true); // Collecting all the offer arrived at this moment\n\n              previousOffers = Object.values(webRtc.pendingOffers); // console.log('pending Offers in anser handler', previousOffers);\n              // Collecting all the pcs for offer and answer\n\n              pcs = Object.values(webRtc.peerConnections); // Finding the pc of current offers\n\n              pendingOfferUserPcs = pcs.filter(function (p) {\n                return previousOffers.find(function (ofr) {\n                  return ofr.uid === p.user.id;\n                });\n              }); // Creating the anser of all pending offers\n\n              answerPromises = pendingOfferUserPcs.map(function (p) {\n                return p.pc.createAnswer(previousOffers.find(function (ofr) {\n                  return ofr.uid === p.user.id;\n                }).offer, stream);\n              });\n              _context.next = 21;\n              return Promise.all(answerPromises);\n\n            case 21:\n              anserList = _context.sent;\n              // Sending the answer to the related offer user\n              anserList.forEach(function (answer, idx) {\n                return apis.createAnswer({\n                  answerDetail: {\n                    answer: answer,\n                    uid: account.user.id,\n                    broadCastId: broadCastId,\n                    broadCastType: broadCastType,\n                    callType: webRtc.localCallHistory.mediaType\n                  },\n                  userList: [{\n                    userId: pendingOfferUserPcs[idx].user.id\n                  }]\n                });\n              }); // Finding all remaining pc that need to be offer\n\n              remainingUser = pcs.filter(function (p) {\n                return !previousOffers.find(function (ofr) {\n                  return ofr.uid === p.user.id;\n                });\n              }); // Creating offer to all Reaming users or pcs\n\n              pcsPromises = remainingUser.map(function (p) {\n                return p.pc.createOffer(stream);\n              });\n              _context.next = 27;\n              return Promise.all(pcsPromises);\n\n            case 27:\n              // Set the communication in live mode\n              updateWebRtc('isLive', true); //  Need to delete on cleaning time\n              // allOffers.forEach((offr, idx) => apis.createOffer({ offerDetail: { offer: offr, uid: account.user.id, boardId: 1 }, userList: [{ userId: remainingUser[idx].user.id }] }));\n\n              _context.next = 33;\n              break;\n\n            case 30:\n              _context.prev = 30;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('error in create answer', _context.t0);\n\n            case 33:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 30]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/answerHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/autoCloseHandler.js":
/*!***********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/autoCloseHandler.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./closeHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/closeHandler.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, time) {\n  var updateWebRtc = props.updateWebRtc;\n  console.log('auto close handler called mesh');\n  setTimeout( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n    var _store$getState, webRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n\n            if (!webRtc.isLive && !webRtc.localCallHistory.callEnd) {\n              Object(_closeHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, state, state.apis)();\n              updateWebRtc('showIncommingCall', false);\n              updateWebRtc('communicationContainer', 'history'); // change('history');\n            }\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), time || 60000);\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/autoCloseHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/callHandler.js":
/*!******************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/callHandler.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _createPcForEachUser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createPcForEachUser */ \"./client/src/communication/helper-functions/webrtc/mesh/createPcForEachUser.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(apis, stream) {\n      var _store$getState, webRtc, updateWebRtc, account, pcs, users, pcsPromises;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              updateWebRtc = props.updateWebRtc, account = props.account;\n\n              if (webRtc.isLive) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return Object(_createPcForEachUser__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(webRtc.showCommunication, props, state);\n\n            case 6:\n              // eslint-disable-next-line\n              webRtc = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().webRtc;\n              _context.next = 9;\n              return updateWebRtc('communicationContainer', 'connecting');\n\n            case 9:\n              _context.next = 11;\n              return updateWebRtc('showOutgoingCall', true);\n\n            case 11:\n              pcs = Object.values(webRtc.peerConnections);\n              users = Object.keys(webRtc.peerConnections);\n              pcsPromises = pcs.map(function (pc) {\n                return pc.pc.createOffer(stream);\n              });\n              _context.next = 16;\n              return Promise.all(pcsPromises);\n\n            case 16:\n              _context.next = 21;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('error in CallHandler', _context.t0);\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 18]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/callHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/createPcForEachUser.js":
/*!**************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/createPcForEachUser.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _webrtc_mesh_main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../webrtc/mesh/main */ \"./client/src/webrtc/mesh/main/index.js\");\n/* harmony import */ var _onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./onIceCandidateHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/onIceCandidateHandler.js\");\n/* harmony import */ var _gotRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./gotRemoteStreamHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/gotRemoteStreamHandler.js\");\n/* harmony import */ var _iceCandidateStatusHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./iceCandidateStatusHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/iceCandidateStatusHandler.js\");\n/* harmony import */ var _offerHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./offerHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/offerHandler.js\");\n/* harmony import */ var _onLocalStream__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./onLocalStream */ \"./client/src/communication/helper-functions/webrtc/mesh/onLocalStream.js\");\n/* harmony import */ var _onIceGatherCompleteHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./onIceGatherCompleteHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/onIceGatherCompleteHandler.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(boardId, props, state) {\n    var database, updateWebRtc, account, _store$getState, webRtc, userList, boardmembers, userListAll, peerConnectionPromises, peerConnList, storeValue;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            database = props.database, updateWebRtc = props.updateWebRtc, account = props.account;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            userList = null;\n\n            if (webRtc.localCallHistory.chatHistory.type === 'user') {\n              userList = [webRtc.localCallHistory.chatHistory.user.user];\n            } else {\n              boardmembers = Object.values(database.BoardMember.byId).filter(function (bm) {\n                return bm.boardId === boardId;\n              });\n              userListAll = boardmembers.map(function (bm) {\n                return database.User.byId[bm.tuserId];\n              });\n              userList = userListAll.filter(function (user) {\n                return user.id !== account.user.id;\n              }).filter(function (u) {\n                return u.activeStatus;\n              });\n            } // console.log('userList', userList);\n\n\n            peerConnectionPromises = userList.map(function (user) {\n              return Object(_webrtc_mesh_main__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Object(_onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props, state), user.id, Object(_gotRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props), Object(_iceCandidateStatusHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props, state), Object(_offerHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props, state), Object(_onLocalStream__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props), Object(_onIceGatherCompleteHandler__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props, state));\n            });\n            _context.next = 8;\n            return Promise.all(peerConnectionPromises);\n\n          case 8:\n            peerConnList = _context.sent;\n            storeValue = userList.reduce(function (obj, user, idx) {\n              obj[user.id] = {\n                pc: peerConnList[idx],\n                user: user,\n                iceCandidateStatus: 'Connecting...'\n              };\n              return obj;\n            }, {});\n            updateWebRtc('peerConnections', storeValue);\n            return _context.abrupt(\"return\", userList);\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error in creating pc', _context.t0);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 14]]);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/createPcForEachUser.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/gotRemoteStreamHandler.js":
/*!*****************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/gotRemoteStreamHandler.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _mediaRecoder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mediaRecoder */ \"./client/src/communication/helper-functions/webrtc/mesh/mediaRecoder.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\nvar stopAndRecordStream = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(props, userId, stream) {\n    var _store$getState, webRtc, updateWebRtc, mediaRecording;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // console.log('stopAndRecordStream', stream.id, userId);\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            updateWebRtc = props.updateWebRtc;\n\n            if (!(webRtc.mediaRecording && stream.id !== webRtc.mediaRecording.stream.id)) {\n              _context.next = 9;\n              break;\n            }\n\n            // console.log('stopAndRecordStream inisde', webRtc.mediaRecording.stream.id, stream.id);\n            webRtc.mediaRecording.stopRecording();\n            _context.next = 6;\n            return Object(_mediaRecoder__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(1, props);\n\n          case 6:\n            mediaRecording = _context.sent;\n            _context.next = 9;\n            return updateWebRtc('mediaRecording', mediaRecording);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function stopAndRecordStream(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(stream, userId) {\n      var updateWebRtc, _store$getState2, webRtc;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              updateWebRtc = props.updateWebRtc;\n              _store$getState2 = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState2.webRtc; // console.log(`${userId})GOT REMOTE STREAM`, stream);\n\n              _context2.next = 4;\n              return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.connectedUsers[userId]), {}, {\n                streams: webRtc.connectedUsers[userId] ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(webRtc.connectedUsers[userId].streams), [stream]) : [stream]\n              }))));\n\n            case 4:\n              _context2.next = 6;\n              return updateWebRtc('streams', _objectSpread(_objectSpread({}, webRtc.streams), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.streams[userId]), {}, {\n                startTimeStamp: webRtc.streams[userId].startTimeStamp || Date.now(),\n                endTimeStamp: null,\n                stream: webRtc.streams[userId] ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(webRtc.streams[userId].stream), [stream]) : [stream]\n              }))));\n\n            case 6:\n              _context2.next = 8;\n              return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n                startTime: webRtc.localCallHistory.startTime || Date.now()\n              }));\n\n            case 8:\n              _context2.next = 10;\n              return updateWebRtc('lastStreamId', userId);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/gotRemoteStreamHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/iceCandidateStatusHandler.js":
/*!********************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/iceCandidateStatusHandler.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./closeHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/closeHandler.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _reconnectHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reconnectHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/reconnectHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n\nvar isReconnect = function isReconnect(webRtc) {\n  if (webRtc.isLive) {\n    if (webRtc.localCallHistory.chatHistory.type === 'board') {\n      var isAnyoneConnected = Object.values(webRtc.connectedUsers).find(function (c) {\n        return c.iceCandidateStatus === 'connected';\n      });\n      return isAnyoneConnected;\n    }\n  }\n\n  return false;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, mainStateApis) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(e, state, userId) {\n      var updateWebRtc, apis, _store$getState, webRtc, account, database, boardId, uid, pcId, status;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // console.log(`${userId}) ICECANDIDATE STATUS`, state.iceConnectionState, mainStateApis);\n              updateWebRtc = props.updateWebRtc;\n              apis = mainStateApis.apis;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account, database = _store$getState.database;\n\n              try {\n                boardId = webRtc.localCallHistory.chatHistory.connectionId;\n                uid = account.user.id;\n                pcId = userId;\n                status = state.iceConnectionState; // console.log('Connection state', boardId, uid, pcId, status);\n\n                apis.onPcStatusChange({\n                  boardId: boardId,\n                  userId: uid,\n                  pcId: pcId,\n                  status: status\n                });\n              } catch (e) {\n                console.error('Faild to update onPcStatusChange', e);\n              }\n\n              _context.next = 6;\n              return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.connectedUsers[userId]), {}, {\n                iceCandidateStatus: state.iceConnectionState\n              }))));\n\n            case 6:\n              _context.next = 8;\n              return updateWebRtc('peerConnections', _objectSpread(_objectSpread({}, webRtc.peerConnections), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.peerConnections[userId]), {}, {\n                iceCandidateStatus: state.iceConnectionState\n              }))));\n\n            case 8:\n              if (state.iceConnectionState === 'failed') {\n                if (isReconnect(_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState().webRtc)) {\n                  // console.log(`${userId}) RECONNECT HANDLER CALLED`);\n                  Object(_reconnectHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(userId, {\n                    webRtc: webRtc,\n                    account: account,\n                    updateWebRtc: updateWebRtc,\n                    database: database\n                  }, {\n                    apis: apis\n                  });\n                } else {\n                  console.log('CLOSE CALL'); // callCloseHandler(props, null, apis)();\n                }\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/iceCandidateStatusHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/index.js":
/*!************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/index.js ***!
  \************************************************************************/
/*! exports provided: socketListner, callHandler, closeHandler, answerHandler, mediaRecorder, sendMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _socket_listner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket-listner */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"socketListner\", function() { return _socket_listner__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _callHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./callHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/callHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"callHandler\", function() { return _callHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./closeHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/closeHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"closeHandler\", function() { return _closeHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _answerHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./answerHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/answerHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"answerHandler\", function() { return _answerHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _mediaRecoder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mediaRecoder */ \"./client/src/communication/helper-functions/webrtc/mesh/mediaRecoder.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mediaRecorder\", function() { return _mediaRecoder__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../message */ \"./client/src/communication/helper-functions/message/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sendMessage\", function() { return _message__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/mediaRecoder.js":
/*!*******************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/mediaRecoder.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n\n/* eslint-disable no-undef */\n\n/* eslint-disable react/jsx-closing-tag-location */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (_x, _x2) {\n  return _ref.apply(this, arguments);\n});\n\nfunction _ref() {\n  _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee4(uid, props) {\n    var videoElem, stream, mediaRecorder, recordedBlob, handleDataAvailable, options, downLoadButtonClickHandler, downloadRecordedMedia, stopRecording;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            videoElem = document.getElementById('video-mentor');\n            stream = videoElem.captureStream ? videoElem.captureStream() : videoElem.mozCaptureStream();\n            recordedBlob = [];\n\n            handleDataAvailable = function handleDataAvailable(event) {\n              // console.log('handleDataAvailabel called', event.data, event.data.size);\n              if (event.data && event.data.size > 0) {\n                recordedBlob.push(event.data);\n              }\n            };\n\n            options = {\n              mimeType: 'video/webm;codecs=\"vp8,opus\"'\n            };\n\n            if (!MediaRecorder.isTypeSupported(options.mimeType)) {\n              // console.error(`${options.mimeType} is not Supported`);\n              options = {\n                mimeType: 'video/webm;codecs=\"vp8, opus\"'\n              };\n\n              if (!MediaRecorder.isTypeSupported(options.mimeType)) {\n                // console.error(`${options.mimeType} is not supported`);\n                options = {\n                  mimeType: 'video/webm'\n                };\n\n                if (!MediaRecorder.isTypeSupported(options.mimeType)) {\n                  // console.error(`${options.mimeType} is not supported`);\n                  options = {\n                    mimeType: ''\n                  };\n                }\n              }\n            }\n\n            try {\n              mediaRecorder = new MediaRecorder(stream, options);\n              mediaRecorder.ondataavailable = handleDataAvailable;\n              mediaRecorder.start(10);\n            } catch (e) {// console.error('Media recorder error', e);\n            }\n\n            mediaRecorder.onstop = function (event) {// console.log('Recorder stopped', event);\n            };\n\n            mediaRecorder.onpause = function (event) {// console.log('Recoder Paused', event);\n            };\n\n            mediaRecorder.onresume = function (event) {// console.log('Recoder resumed', event);\n            };\n\n            downLoadButtonClickHandler = /*#__PURE__*/function () {\n              var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(sid) {\n                var updateWebRtc;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        updateWebRtc = props.updateWebRtc;\n                        _context.next = 3;\n                        return updateWebRtc('recordedBlobs', _store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState().webRtc.recordedBlobs.filter(function (a) {\n                          return parseInt(Object.keys(a)[0], 10) !== sid;\n                        }));\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function downLoadButtonClickHandler(_x3) {\n                return _ref2.apply(this, arguments);\n              };\n            }();\n\n            downloadRecordedMedia = /*#__PURE__*/function () {\n              var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2() {\n                var updateWebRtc, sid, _store$getState, webRtc, blob, url, formatedDate;\n\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        updateWebRtc = props.updateWebRtc;\n                        sid = Date.now();\n                        _store$getState = _store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n                        blob = new Blob(recordedBlob, {\n                          type: 'video/webm'\n                        });\n                        url = window.URL.createObjectURL(blob);\n                        formatedDate = \"\".concat(new Date().getDate(), \"-\").concat(new Date().getMonth() + 1, \"-\").concat(new Date().getFullYear());\n                        _context2.next = 8;\n                        return updateWebRtc('recordedBlobs', [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(_store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState().webRtc.recordedBlobs), [_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, sid, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n                          id: sid,\n                          href: url,\n                          className: \"recorded-item\",\n                          download: \"\".concat(webRtc.localCallHistory.chatHistory.type === 'user' ? \"\".concat(webRtc.localCallHistory.chatHistory.user.user.firstName) : \"\".concat(webRtc.localCallHistory.chatHistory.boardDetails.name), \"-\").concat(formatedDate, \".webm\")\n                        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n                          onClick: function onClick() {\n                            return downLoadButtonClickHandler(sid);\n                          }\n                        }, \"\".concat(webRtc.localCallHistory.chatHistory.type === 'user' ? \"\".concat(webRtc.localCallHistory.chatHistory.user.user.firstName) : \"\".concat(webRtc.localCallHistory.chatHistory.boardDetails.name), \"-\").concat(formatedDate))))]));\n\n                      case 8:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n\n              return function downloadRecordedMedia() {\n                return _ref3.apply(this, arguments);\n              };\n            }();\n\n            stopRecording = /*#__PURE__*/function () {\n              var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3() {\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        _context3.prev = 0;\n                        _context3.next = 3;\n                        return downloadRecordedMedia();\n\n                      case 3:\n                        mediaRecorder.stop();\n                        _context3.next = 9;\n                        break;\n\n                      case 6:\n                        _context3.prev = 6;\n                        _context3.t0 = _context3[\"catch\"](0);\n                        console.log('MediaRecorder stop error', _context3.t0.name);\n\n                      case 9:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3, null, [[0, 6]]);\n              }));\n\n              return function stopRecording() {\n                return _ref5.apply(this, arguments);\n              };\n            }();\n\n            return _context4.abrupt(\"return\", {\n              stopRecording: stopRecording,\n              mediaRecorder: mediaRecorder,\n              stream: stream\n            });\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _ref.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/mediaRecoder.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/offerHandler.js":
/*!*******************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/offerHandler.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(offer, userId) {\n      var _store$getState, account, webRtc, updateWebRtc, broadCastType, broadCastId, apis;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              try {\n                _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), account = _store$getState.account, webRtc = _store$getState.webRtc;\n                updateWebRtc = props.updateWebRtc; // console.log('offer handler called', offer, userId, webRtc);\n                // updateWebRtc('connectedUsers', { ...webRtc.connectedUsers, [userId]: { streams: [] } });\n\n                updateWebRtc('streams', _objectSpread(_objectSpread({}, webRtc.streams), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.streams[userId]), {}, {\n                  callEnd: false,\n                  stream: []\n                })))); // updateWebRtc('peerConnections', {...webRtc.peerConnections, [userId]: { ...webRtc.peerConnections[userId], offer, type: 'offer' } });\n\n                broadCastType = webRtc.localCallHistory.chatHistory.type === 'user' ? 'UserConnection' : 'Board';\n                broadCastId = webRtc.localCallHistory.chatHistory.type === 'user' ? account.user.id : webRtc.localCallHistory.chatHistory.connectionId;\n                apis = state.apis;\n                apis.createOffer({\n                  offerDetail: {\n                    isLive: webRtc.isCallUpgraded,\n                    offer: offer,\n                    uid: account.user.id,\n                    broadCastId: broadCastId,\n                    broadCastType: broadCastType,\n                    connectionId: webRtc.localCallHistory.chatHistory.connectionId,\n                    callType: webRtc.localCallHistory.mediaType\n                  },\n                  userList: [{\n                    userId: userId\n                  }]\n                });\n              } catch (e) {\n                console.error('Error in offerHandler', userId);\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/offerHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/onIceCandidateHandler.js":
/*!****************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/onIceCandidateHandler.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(e, userId) {\n      var updateWebRtc, _store$getState, webRtc, preFetchStatus;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // console.log(`${userId}) LOCAL ICECANDIDATE`, e);\n              updateWebRtc = props.updateWebRtc;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n\n              try {\n                if (e.candidate) {\n                  preFetchStatus = webRtc.iceCandidates[userId];\n\n                  if (preFetchStatus) {\n                    updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.iceCandidates[userId]), {}, {\n                      candidates: webRtc.iceCandidates[userId].candidates ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(webRtc.iceCandidates[userId].candidates), [e]) : [e]\n                    }))));\n                  } else {\n                    updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.iceCandidates[userId]), {}, {\n                      candidates: [e]\n                    }))));\n                  }\n                }\n              } catch (err) {\n                console.error('Error in add local iCe candidate', err);\n              }\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/onIceCandidateHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/onIceGatherCompleteHandler.js":
/*!*********************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/onIceGatherCompleteHandler.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(userId, iceState) {\n      var _store$getState, account, webRtc, updateWebRtc, iceCandidates, finalCandidates, broadCastType, broadCastId, apis;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), account = _store$getState.account, webRtc = _store$getState.webRtc;\n              updateWebRtc = props.updateWebRtc;\n\n              if (iceState === 'gathering') {// updateWebRtc('iceCandidates', { ...webRtc.iceCandidates, [userId]: { candidates: [] } });\n              }\n\n              if (!(iceState === 'complete')) {\n                _context.next = 20;\n                break;\n              }\n\n              iceCandidates = webRtc.iceCandidates[userId]; // console.log(`${userId}) ICE GATHER COMPLETE`, iceCandidates);\n\n              _context.next = 8;\n              return updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.iceCandidates[userId]), {}, {\n                isGatherComplete: true\n              }))));\n\n            case 8:\n              if (!(iceCandidates && !iceCandidates.sendStatus && iceCandidates.doSend)) {\n                _context.next = 18;\n                break;\n              }\n\n              finalCandidates = iceCandidates.candidates.map(function (c) {\n                return JSON.stringify(c.candidate);\n              });\n              broadCastType = webRtc.localCallHistory.chatHistory.type === 'user' ? 'UserConnection' : 'Board';\n              broadCastId = webRtc.localCallHistory.chatHistory.type === 'user' ? account.user.id : webRtc.showCommunication;\n              apis = state.apis;\n              apis.addIceCandidate({\n                iceCandidateDetail: {\n                  iceCandidate: finalCandidates,\n                  uid: account.user.id,\n                  broadCastId: broadCastId,\n                  broadCastType: broadCastType\n                },\n                userList: [{\n                  userId: userId\n                }]\n              });\n              _context.next = 16;\n              return updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.iceCandidates[userId]), {}, {\n                sendStatus: true\n              }))));\n\n            case 16:\n              _context.next = 20;\n              break;\n\n            case 18:\n              _context.next = 20;\n              return updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.iceCandidates[userId]), {}, {\n                isGatherComplete: true,\n                sendStatus: false\n              }))));\n\n            case 20:\n              _context.next = 25;\n              break;\n\n            case 22:\n              _context.prev = 22;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error in offerHandler', userId);\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 22]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/onIceGatherCompleteHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/onLocalStream.js":
/*!********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/onLocalStream.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (stream, userId) {\n    // console.log('local stream handler', stream, userId);\n    var updateWebRtc = props.updateWebRtc;\n\n    if (_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState().webRtc.streams) {\n      updateWebRtc('streams', _objectSpread(_objectSpread({}, _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState().webRtc.streams), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, {\n        stream: []\n      })));\n    } else {\n      updateWebRtc('streams', _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, {\n        stream: []\n      }));\n    }\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/onLocalStream.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/reconnectHandler.js":
/*!***********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/reconnectHandler.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _webrtc_mesh_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webrtc/mesh/main */ \"./client/src/webrtc/mesh/main/index.js\");\n/* harmony import */ var _onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./onIceCandidateHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/onIceCandidateHandler.js\");\n/* harmony import */ var _gotRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./gotRemoteStreamHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/gotRemoteStreamHandler.js\");\n/* harmony import */ var _iceCandidateStatusHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./iceCandidateStatusHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/iceCandidateStatusHandler.js\");\n/* harmony import */ var _offerHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./offerHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/offerHandler.js\");\n/* harmony import */ var _onLocalStream__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./onLocalStream */ \"./client/src/communication/helper-functions/webrtc/mesh/onLocalStream.js\");\n/* harmony import */ var _onIceGatherCompleteHandler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./onIceGatherCompleteHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/onIceGatherCompleteHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(uid, props, state) {\n    var webRtc, updateWebRtc, account, database, pc, newPc;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            webRtc = props.webRtc, updateWebRtc = props.updateWebRtc, account = props.account, database = props.database;\n            pc = webRtc.peerConnections[uid].pc; // console.log(`${uid}) PC IN RECONNECT`, pc);\n\n            _context.next = 4;\n            return pc.pc.close();\n\n          case 4:\n            delete webRtc.peerConnections[uid];\n            _context.next = 7;\n            return Object(_webrtc_mesh_main__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Object(_onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, state), uid, Object(_gotRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props), Object(_iceCandidateStatusHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props, state), Object(_offerHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props, state), Object(_onLocalStream__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props), Object(_onIceGatherCompleteHandler__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props, state));\n\n          case 7:\n            newPc = _context.sent;\n            _context.next = 10;\n            return newPc.createOffer(webRtc.connectedUsers[account.user.id].streams[0]);\n\n          case 10:\n            _context.next = 12;\n            return updateWebRtc('peerConnections', _objectSpread(_objectSpread({}, webRtc.peerConnections), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, {\n              pc: newPc,\n              user: database.User.byId[uid]\n            })));\n\n          case 12:\n            delete webRtc.iceCandidates[uid];\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/reconnectHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/commPingPong.js":
/*!**********************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/commPingPong.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, data) {\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc,\n      account = _store$getState.account; // console.log('Comm ping pong called',data);\n\n\n  var apis = state.apis;\n\n  if (webRtc.isLive) {\n    if (webRtc.localCallHistory.chatHistory.type === 'board' && data.boardId === webRtc.localCallHistory.chatHistory.connectionId) {\n      apis.commPingPong({\n        userId: account.user.id,\n        boardId: data.boardId\n      });\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/commPingPong.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/index.js":
/*!***************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/index.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../socket */ \"./client/src/socket/index.js\");\n/* harmony import */ var _on_offer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./on-offer */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/index.js\");\n/* harmony import */ var _onAnswerHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./onAnswerHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onAnswerHandler.js\");\n/* harmony import */ var _onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./onIceCandidateHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onIceCandidateHandler.js\");\n/* harmony import */ var _onCallEndHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./onCallEndHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallEndHandler.js\");\n/* harmony import */ var _onCallStatusHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./onCallStatusHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallStatusHandler.js\");\n/* harmony import */ var _commPingPong__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./commPingPong */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/commPingPong.js\");\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, maximize) {\n  // Handle offer request\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('offer', /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(data) {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!data) {\n                _context.next = 3;\n                break;\n              }\n\n              _context.next = 3;\n              return Object(_on_offer__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props, state, data);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }()); // Handling incoming answer\n\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('answer', /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(data) {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!data) {\n                _context2.next = 3;\n                break;\n              }\n\n              _context2.next = 3;\n              return Object(_onAnswerHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, state, data);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }()); // Handling incoming iceCandidate\n\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('icecandidate', /*#__PURE__*/function () {\n    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(data) {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (data) {\n                Object(_onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props, state, data);\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }()); // change call Status handler\n\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('callStatus', /*#__PURE__*/function () {\n    var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(data) {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              // console.log('call Status', data);\n              if (data) {\n                Object(_onCallStatusHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props, state, data);\n              }\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // Handling Call End event\n\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('callEnd', /*#__PURE__*/function () {\n    var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(data) {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              // console.log('callend event called', data);\n              if (data) {\n                Object(_onCallEndHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props, state, data, maximize);\n              }\n\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('ping', function (data) {\n    if (data) {\n      Object(_commPingPong__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props, state, data);\n    }\n  });\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/index.js":
/*!************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/index.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _offerInitializationHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./offerInitializationHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerInitializationHandler.js\");\n/* harmony import */ var _offerOnCommunicationOpen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./offerOnCommunicationOpen */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationOpen.js\");\n/* harmony import */ var _offerOnCommunicationNotOpen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./offerOnCommunicationNotOpen */ \"./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationNotOpen.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _autoCloseHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../autoCloseHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/autoCloseHandler.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\nvar initCall = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, state, data, webRtc) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Object(_offerInitializationHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props, state, data);\n\n          case 2:\n            if (!webRtc.showCommunication) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 5;\n            return Object(_offerOnCommunicationOpen__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, state, data);\n\n          case 5:\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.next = 9;\n            return Object(_offerOnCommunicationNotOpen__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props, state, data);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function initCall(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar declineCall = /*#__PURE__*/function () {\n  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(status, props, state, data, webRtc) {\n    var account, uid, broadCastId, broadCastType, connectionId, apis;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // console.log('call decline', status, state, props, state, data, webRtc);\n            account = props.account;\n            uid = data.uid, broadCastId = data.broadCastId, broadCastType = data.broadCastType, connectionId = data.connectionId;\n            apis = state.apis;\n\n            try {\n              apis.callStatusChange({\n                callStatusDetails: {\n                  broadCastType: broadCastType,\n                  broadCastId: broadCastId,\n                  uid: account.user.id,\n                  connectionId: connectionId,\n                  type: 'busy'\n                },\n                userList: [{\n                  userId: uid\n                }]\n              });\n            } catch (e) {\n              console.error('Call Stautus change error when live', e);\n            }\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function declineCall(_x5, _x6, _x7, _x8, _x9) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(props, state, data) {\n    var _store$getState, webRtc, uid, connectionId, broadCastType, broadCastId, type, account, updateWebRtc, apis;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState(), webRtc = _store$getState.webRtc; // console.log(`${data.uid}) OFFER ARRIVED`, data);\n\n            uid = data.uid, connectionId = data.connectionId, broadCastType = data.broadCastType, broadCastId = data.broadCastId;\n            type = broadCastType === 'Board' ? 'board' : 'user';\n            account = props.account, updateWebRtc = props.updateWebRtc; // const { uid, broadCastId, broadCastType, connectionId } = data;\n\n            apis = state.apis;\n\n            if (!(webRtc.showIncommingCall || webRtc.isConnecting)) {\n              _context3.next = 16;\n              break;\n            }\n\n            if (!(webRtc.localCallHistory.chatHistory.connectionId === broadCastId)) {\n              _context3.next = 13;\n              break;\n            }\n\n            _context3.next = 9;\n            return updateWebRtc('pendingOffers', _objectSpread(_objectSpread({}, webRtc.pendingOffers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, data)));\n\n          case 9:\n            _context3.next = 11;\n            return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, data.uid, {\n              streams: [],\n              type: data.callType\n            })));\n\n          case 11:\n            _context3.next = 13;\n            return updateWebRtc('streams', _objectSpread(_objectSpread({}, webRtc.streams), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, data.uid, _objectSpread(_objectSpread({}, webRtc.streams[data.uid]), {}, {\n              callEnd: false,\n              stream: [],\n              callType: 'Incoming'\n            }))));\n\n          case 13:\n            declineCall('Call is busy', props, state, data, webRtc);\n            _context3.next = 41;\n            break;\n\n          case 16:\n            if (!webRtc.isLive) {\n              Object(_autoCloseHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props, state);\n              apis.callStatusChange({\n                callStatusDetails: {\n                  broadCastType: broadCastType,\n                  broadCastId: broadCastId,\n                  uid: account.user.id,\n                  connectionId: connectionId,\n                  type: 'ringing'\n                },\n                userList: [{\n                  userId: uid\n                }]\n              });\n            }\n\n            if (!(type === 'board')) {\n              _context3.next = 29;\n              break;\n            }\n\n            if (!webRtc.isLive) {\n              _context3.next = 27;\n              break;\n            }\n\n            if (!(webRtc.localCallHistory.chatHistory.connectionId === broadCastId)) {\n              _context3.next = 24;\n              break;\n            }\n\n            _context3.next = 22;\n            return initCall(props, state, data, webRtc);\n\n          case 22:\n            _context3.next = 25;\n            break;\n\n          case 24:\n            declineCall('Call is busy', props, state, data, webRtc);\n\n          case 25:\n            _context3.next = 29;\n            break;\n\n          case 27:\n            _context3.next = 29;\n            return initCall(props, state, data, webRtc);\n\n          case 29:\n            if (!(type === 'user')) {\n              _context3.next = 41;\n              break;\n            }\n\n            if (!webRtc.isLive) {\n              _context3.next = 39;\n              break;\n            }\n\n            if (!(webRtc.localCallHistory.chatHistory.connectionId === connectionId && webRtc.localCallHistory.chatHistory.type !== 'board')) {\n              _context3.next = 36;\n              break;\n            }\n\n            _context3.next = 34;\n            return initCall(props, state, data, webRtc);\n\n          case 34:\n            _context3.next = 37;\n            break;\n\n          case 36:\n            declineCall('Call is busy', props, state, data, webRtc);\n\n          case 37:\n            _context3.next = 41;\n            break;\n\n          case 39:\n            _context3.next = 41;\n            return initCall(props, state, data, webRtc);\n\n          case 41:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x10, _x11, _x12) {\n    return _ref3.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerInitializationHandler.js":
/*!*********************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerInitializationHandler.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, state, data) {\n    var updateWebRtc, connectionId, isLive, _store$getState, webRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            updateWebRtc = props.updateWebRtc;\n            connectionId = data.connectionId, isLive = data.isLive;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n\n            if (!(!webRtc.mainStreamId || isLive)) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return updateWebRtc('mainStreamId', data.uid);\n\n          case 7:\n            _context.next = 9;\n            return updateWebRtc('connectionId', connectionId);\n\n          case 9:\n            _context.next = 11;\n            return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, data.uid, {\n              streams: [],\n              type: data.callType\n            })));\n\n          case 11:\n            _context.next = 13;\n            return updateWebRtc('streams', _objectSpread(_objectSpread({}, webRtc.streams), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, data.uid, _objectSpread(_objectSpread({}, webRtc.streams[data.uid]), {}, {\n              callEnd: false,\n              stream: [],\n              callType: 'Incoming'\n            }))));\n\n          case 13:\n            _context.next = 15;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              callType: webRtc.localCallHistory.callType || 'Incoming',\n              callEnd: false\n            }));\n\n          case 15:\n            _context.next = 20;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Offer initialization Error', _context.t0);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 17]]);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerInitializationHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationNotOpen.js":
/*!**********************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationNotOpen.js ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, state, data) {\n    var updateWebRtc, broadCastId, broadCastType, connectionId, uid, type, _store$getState, webRtc, database;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            updateWebRtc = props.updateWebRtc;\n            broadCastId = data.broadCastId, broadCastType = data.broadCastType, connectionId = data.connectionId, uid = data.uid;\n            type = broadCastType === 'UserConnection' ? 'user' : 'board';\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, database = _store$getState.database;\n            _context.next = 7;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              chatHistory: {\n                connectionId: connectionId,\n                type: type,\n                user: {\n                  user: database.User.byId[broadCastId]\n                },\n                broadCastId: broadCastId\n              }\n            }));\n\n          case 7:\n            _context.next = 9;\n            return updateWebRtc('chatHistory', {\n              connectionId: connectionId,\n              type: type,\n              user: {\n                user: database.User.byId[broadCastId]\n              },\n              broadCastId: broadCastId\n            });\n\n          case 9:\n            _context.next = 11;\n            return updateWebRtc('showCommunication', broadCastId);\n\n          case 11:\n            updateWebRtc('showIncommingCall', true);\n            updateWebRtc('currentOffer', data);\n            updateWebRtc('pendingOffers', _objectSpread(_objectSpread({}, webRtc.pendingOffers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, data)));\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Offer On open Communication Open error', _context.t0);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 16]]);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationNotOpen.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationOpen.js":
/*!*******************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationOpen.js ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _webrtc_mesh_main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../webrtc/mesh/main */ \"./client/src/webrtc/mesh/main/index.js\");\n/* harmony import */ var _onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../onIceCandidateHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/onIceCandidateHandler.js\");\n/* harmony import */ var _gotRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../gotRemoteStreamHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/gotRemoteStreamHandler.js\");\n/* harmony import */ var _iceCandidateStatusHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../iceCandidateStatusHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/iceCandidateStatusHandler.js\");\n/* harmony import */ var _offerHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../offerHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/offerHandler.js\");\n/* harmony import */ var _onLocalStream__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../onLocalStream */ \"./client/src/communication/helper-functions/webrtc/mesh/onLocalStream.js\");\n/* harmony import */ var _onIceGatherCompleteHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../onIceGatherCompleteHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/onIceGatherCompleteHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\nvar onNotLiveHandler = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(updateWebRtc, broadCastId, database, type, webRtc, connectionId) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return updateWebRtc('communicationContainer', 'list');\n\n          case 2:\n            _context.next = 4;\n            return updateWebRtc('showCommunication', broadCastId);\n\n          case 4:\n            _context.next = 6;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              chatHistory: {\n                connectionId: connectionId,\n                type: type,\n                user: {\n                  user: database.User.byId[broadCastId]\n                },\n                broadCastId: broadCastId\n              }\n            }));\n\n          case 6:\n            updateWebRtc('showIncommingCall', true);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onNotLiveHandler(_x, _x2, _x3, _x4, _x5, _x6) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar onLiveHandler = /*#__PURE__*/function () {\n  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(props, state, data) {\n    var uid, offer, updateWebRtc, database, _store$getState, webRtc, account, apis, isPcCreated, answer, isConnected, _webRtc$peerConnectio, pc, iceCandidateStatus, newPc, _newPc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            uid = data.uid, offer = data.offer;\n            updateWebRtc = props.updateWebRtc, database = props.database;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            apis = state.apis;\n            _context2.prev = 4;\n            isPcCreated = webRtc.peerConnections[data.uid];\n            answer = null;\n            isConnected = false;\n\n            if (!isPcCreated) {\n              _context2.next = 31;\n              break;\n            }\n\n            _webRtc$peerConnectio = webRtc.peerConnections[data.uid], pc = _webRtc$peerConnectio.pc, iceCandidateStatus = _webRtc$peerConnectio.iceCandidateStatus;\n\n            if (!(iceCandidateStatus === 'connected')) {\n              _context2.next = 17;\n              break;\n            }\n\n            _context2.next = 13;\n            return pc.createAnswer(offer, null);\n\n          case 13:\n            answer = _context2.sent;\n            isConnected = true;\n            _context2.next = 29;\n            break;\n\n          case 17:\n            _context2.next = 19;\n            return pc.pc.close();\n\n          case 19:\n            delete webRtc.peerConnections[uid];\n            _context2.next = 22;\n            return Object(_webrtc_mesh_main__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Object(_onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props, state), uid, Object(_gotRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props), Object(_iceCandidateStatusHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props, state), Object(_offerHandler__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props, state), Object(_onLocalStream__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props), Object(_onIceGatherCompleteHandler__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(props, state));\n\n          case 22:\n            newPc = _context2.sent;\n            _context2.next = 25;\n            return newPc.createAnswer(offer, webRtc.connectedUsers[account.user.id].streams[0]);\n\n          case 25:\n            answer = _context2.sent;\n            _context2.next = 28;\n            return updateWebRtc('peerConnections', _objectSpread(_objectSpread({}, webRtc.peerConnections), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, {\n              pc: newPc,\n              user: database.User.byId[uid]\n            })));\n\n          case 28:\n            delete webRtc.iceCandidates[uid];\n\n          case 29:\n            _context2.next = 38;\n            break;\n\n          case 31:\n            _context2.next = 33;\n            return Object(_webrtc_mesh_main__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Object(_onIceCandidateHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props, state), uid, Object(_gotRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props), Object(_iceCandidateStatusHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props, state), Object(_offerHandler__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props, state), Object(_onLocalStream__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props), Object(_onIceGatherCompleteHandler__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(props, state));\n\n          case 33:\n            _newPc = _context2.sent;\n            _context2.next = 36;\n            return _newPc.createAnswer(offer, webRtc.streams[account.user.id].stream[0]);\n\n          case 36:\n            answer = _context2.sent;\n            updateWebRtc('peerConnections', _objectSpread(_objectSpread({}, webRtc.peerConnections), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, {\n              pc: _newPc,\n              user: database.User.byId[uid]\n            })));\n\n          case 38:\n            apis.createAnswer({\n              answerDetail: {\n                answer: answer,\n                uid: account.user.id,\n                broadCastId: webRtc.localCallHistory.chatHistory.type === 'user' ? account.user.id : webRtc.showCommunication,\n                broadCastType: webRtc.localCallHistory.chatHistory.type === 'user' ? 'UserConnection' : 'Board',\n                callType: webRtc.localCallHistory.mediaType,\n                isConnected: isConnected\n              },\n              userList: [{\n                userId: uid\n              }]\n            });\n            _context2.next = 44;\n            break;\n\n          case 41:\n            _context2.prev = 41;\n            _context2.t0 = _context2[\"catch\"](4);\n            console.error('erro in onlive offer handler', _context2.t0);\n\n          case 44:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[4, 41]]);\n  }));\n\n  return function onLiveHandler(_x7, _x8, _x9) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(props, state, data) {\n    var _store$getState2, database, updateWebRtc, broadCastId, broadCastType, connectionId, uid, type, _store$getState3, webRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            // console.log('Offer on Live handler called', data);\n            _store$getState2 = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), database = _store$getState2.database;\n            updateWebRtc = props.updateWebRtc;\n            broadCastId = data.broadCastId, broadCastType = data.broadCastType, connectionId = data.connectionId, uid = data.uid;\n            type = broadCastType === 'UserConnection' ? 'user' : 'board';\n            _store$getState3 = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState3.webRtc;\n            updateWebRtc('currentOffer', data);\n            updateWebRtc('pendingOffers', _objectSpread(_objectSpread({}, webRtc.pendingOffers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, data)));\n\n            if (webRtc.isLive) {\n              _context3.next = 12;\n              break;\n            }\n\n            _context3.next = 10;\n            return onNotLiveHandler(updateWebRtc, broadCastId, database, type, webRtc, connectionId);\n\n          case 10:\n            _context3.next = 14;\n            break;\n\n          case 12:\n            _context3.next = 14;\n            return onLiveHandler(props, state, data);\n\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x10, _x11, _x12) {\n    return _ref3.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/on-offer/offerOnCommunicationOpen.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onAnswerHandler.js":
/*!*************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onAnswerHandler.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, state, data) {\n    var apis, updateWebRtc, _store$getState, webRtc, account, database, uid, answer, boardId, callType, pc, iceCandidate, finalIceCandidates;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            // console.log(`${data.uid}) ANSWER ARRIVE`, data);\n            apis = state.apis;\n            updateWebRtc = props.updateWebRtc;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account, database = _store$getState.database;\n            uid = data.uid, answer = data.answer, boardId = data.boardId, callType = data.callType;\n            pc = webRtc.peerConnections[uid].pc; // Getting current IceCandidates\n\n            iceCandidate = webRtc.iceCandidates[uid];\n\n            if (!answer) {\n              _context.next = 25;\n              break;\n            }\n\n            // Setting the remote answer to the related pc\n            pc.setRemoteDescription(answer); // Checking and sending the iceCandidates\n\n            if (!iceCandidate.isGatherComplete) {\n              _context.next = 16;\n              break;\n            }\n\n            // Converting all Candidates into string\n            finalIceCandidates = iceCandidate.candidates.map(function (e) {\n              return JSON.stringify(e.candidate);\n            }); // Sending to the related user\n\n            apis.addIceCandidate({\n              iceCandidateDetail: {\n                iceCandidate: finalIceCandidates,\n                uid: account.user.id,\n                broadCastId: webRtc.localCallHistory.chatHistory.type === 'user' ? account.user.id : webRtc.showCommunication,\n                broadCastType: webRtc.localCallHistory.chatHistory.type === 'user' ? 'UserConnection' : 'Board'\n              },\n              userList: [{\n                userId: uid\n              }]\n            }); // Setting sendStatus true for gather icecandidate complete state\n\n            _context.next = 14;\n            return updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, _objectSpread(_objectSpread({}, webRtc.iceCandidates[uid]), {}, {\n              sendStatus: true,\n              doSend: false\n            }))));\n\n          case 14:\n            _context.next = 18;\n            break;\n\n          case 16:\n            _context.next = 18;\n            return updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, _objectSpread(_objectSpread({}, webRtc.iceCandidates[uid]), {}, {\n              sendStatus: false,\n              doSend: true\n            }))));\n\n          case 18:\n            if (data.isConnected) {\n              _context.next = 21;\n              break;\n            }\n\n            _context.next = 21;\n            return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, {\n              streams: [],\n              type: callType\n            })));\n\n          case 21:\n            _context.next = 23;\n            return updateWebRtc('isLive', true);\n\n          case 23:\n            _context.next = 25;\n            return updateWebRtc('isConnecting', false);\n\n          case 25:\n            _context.next = 30;\n            break;\n\n          case 27:\n            _context.prev = 27;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error on onAnswer', data.uid, _context.t0);\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 27]]);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onAnswerHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallEndHandler.js":
/*!**************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallEndHandler.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../closeHandler */ \"./client/src/communication/helper-functions/webrtc/mesh/closeHandler.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n\nvar closeCall = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props, state, data) {\n    var updateWebRtc;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // console.log('data in close handler', data);\n            updateWebRtc = props.updateWebRtc;\n            _context.next = 3;\n            return Object(_closeHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, state, state.apis)(data);\n\n          case 3:\n            updateWebRtc('showIncommingCall', false);\n            updateWebRtc('communicationContainer', 'history');\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function closeCall(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar declineCloseCall = function declineCloseCall(state) {// console.log('close call decline', state);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(props, state, data, maximizeHandler) {\n    var _store$getState, webRtc, uid, broadCastId, broadCastType, type, connectionId;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // console.log('close details in main close handler', data);\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            uid = data.uid, broadCastId = data.broadCastId, broadCastType = data.broadCastType, type = data.type, connectionId = data.connectionId;\n\n            if (type === 'user') {\n              if (webRtc.isLive || webRtc.peerConnections[uid] || webRtc.showIncommingCall) {\n                if (type === webRtc.localCallHistory.chatHistory.type) {\n                  if (webRtc.localCallHistory.chatHistory.connectionId === connectionId) {\n                    maximizeHandler(true);\n                    closeCall(props, state, data);\n                  } else {\n                    declineCloseCall('Permission denied');\n                  }\n                }\n              }\n            }\n\n            if (type === 'board') {\n              if (webRtc.isLive || webRtc.showIncommingCall || webRtc.showOutgoingCall) {\n                if (webRtc.localCallHistory.chatHistory.connectionId === broadCastId) {\n                  maximizeHandler(true);\n                  closeCall(props, state, data);\n                } else {\n                  declineCloseCall('Permission denied to end call');\n                }\n              }\n            }\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x4, _x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallEndHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallStatusHandler.js":
/*!*****************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallStatusHandler.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, data) {\n  // console.log('update call status called', data);\n  var uid = data.uid,\n      type = data.type;\n  var updateWebRtc = props.updateWebRtc;\n\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc;\n\n  updateWebRtc('peerConnections', _objectSpread(_objectSpread({}, webRtc.peerConnections), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, _objectSpread(_objectSpread({}, webRtc.peerConnections[uid]), {}, {\n    iceCandidateStatus: type\n  }))));\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onCallStatusHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onIceCandidateHandler.js":
/*!*******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onIceCandidateHandler.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, data) {\n  // console.log(`${data.uid}) ICECANDIDATE ARRIVED`, data);\n  var apis = state.apis;\n  var uid = data.uid,\n      iceCandidate = data.iceCandidate;\n  var updateWebRtc = props.updateWebRtc;\n\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc,\n      account = _store$getState.account;\n\n  if (webRtc.peerConnections[uid]) {\n    var pc = webRtc.peerConnections[uid].pc;\n    var iceCand = webRtc.iceCandidates[uid]; // console.log('local iceCandidate status', iceCand);\n\n    if (iceCandidate && pc.iceCandidateStatus !== 'closed') {\n      // Setting the remote iceCandite to the related pc\n      iceCandidate.forEach(function (candidate) {\n        // console.log(`${uid}) REMOTE ICE CANDIDATE`, candidate);\n        pc.addCandidate(candidate);\n      }); // Checking Sending the local pc iceCandidate to the remote user\n\n      if (!iceCand) {\n        updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, {\n          sendStatus: false,\n          doSend: true\n        })));\n      } else if (!iceCand.sendStatus && iceCand.isGatherComplete) {\n        var finalIceCandidates = iceCand.candidates.map(function (e) {\n          return JSON.stringify(e.candidate);\n        });\n        apis.addIceCandidate({\n          iceCandidateDetail: {\n            iceCandidate: finalIceCandidates,\n            uid: account.user.id,\n            broadCastId: webRtc.localCallHistory.chatHistory.type === 'user' ? account.user.id : webRtc.localCallHistory.chatHistory.connectionId,\n            broadCastType: webRtc.localCallHistory.chatHistory.type === 'user' ? 'UserConnection' : 'Board'\n          },\n          userList: [{\n            userId: uid\n          }]\n        });\n        updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, _objectSpread(_objectSpread({}, webRtc.iceCandidates[uid]), {}, {\n          sendStatus: true,\n          doSend: false\n        }))));\n      } else {\n        updateWebRtc('iceCandidates', _objectSpread(_objectSpread({}, webRtc.iceCandidates), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, _objectSpread(_objectSpread({}, webRtc.iceCandidates[uid]), {}, {\n          sendStatus: false,\n          doSend: true\n        }))));\n      }\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/mesh/socket-listner/onIceCandidateHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/answerHandler.js":
/*!*******************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/answerHandler.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _video_call_provider_answerCall__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./video-call-provider/answerCall */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/answerCall.js\");\n/* harmony import */ var _conference_call_provider_initCall__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./conference-call-provider/initCall */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/initCall.js\");\n/* harmony import */ var _video_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./video-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaType) {\n      var updateWebRtc, _store$getState, webRtc, localCallHistory, callType;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              updateWebRtc = props.updateWebRtc;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              localCallHistory = webRtc.localCallHistory;\n\n              if (!localCallHistory) {\n                _context.next = 14;\n                break;\n              }\n\n              callType = localCallHistory.chatHistory.type;\n\n              if (callType === 'user') {\n                Object(_video_call_provider_answerCall__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mediaType, props);\n              }\n\n              if (callType === 'board') {\n                Object(_conference_call_provider_initCall__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(mediaType, props);\n              }\n\n              _context.next = 10;\n              return updateWebRtc('showIncommingCall', false);\n\n            case 10:\n              _context.next = 12;\n              return updateWebRtc('communicationContainer', 'connecting');\n\n            case 12:\n              _context.next = 15;\n              break;\n\n            case 14:\n              throw 'localCall history not found';\n\n            case 15:\n              _context.next = 20;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](0);\n              Object(_video_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n                error: JSON.stringify(_context.t0),\n                errorCode: 140\n              });\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 17]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/answerHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/autoCloseHandler.js":
/*!**********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/autoCloseHandler.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./closeHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/closeHandler.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, time) {\n  var updateWebRtc = props.updateWebRtc;\n  setTimeout( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n    var _store$getState, webRtc, apis;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            apis = webRtc.apis;\n\n            if (!webRtc.isLive && (webRtc.showOutgoingCall || webRtc.showIncommingCall)) {\n              Object(_closeHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, state, apis)();\n            }\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), time || 60000);\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/autoCloseHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/callAcceptHandler.js":
/*!***********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/callAcceptHandler.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./closeHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/closeHandler.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, msg) {\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc;\n\n  console.log('callAcceptHandler', webRtc);\n  var updateWebRtc = props.updateWebRtc;\n  updateWebRtc('isLive', true);\n  updateWebRtc('showIncommingCall', false);\n  updateWebRtc('communicationContainer', 'connecting');\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/callAcceptHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/callHandler.js":
/*!*****************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/callHandler.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _isJanusConnected__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isJanusConnected */ \"./client/src/communication/helper-functions/webrtc/sfu/isJanusConnected.js\");\n/* harmony import */ var _conference_call_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./conference-call-provider */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/index.js\");\n/* harmony import */ var _video_call_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./video-call-provider */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/index.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaType) {\n      var _store$getState, webRtc, localCallHistory, isConnected, callType;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              localCallHistory = webRtc.localCallHistory;\n              _context.next = 5;\n              return Object(_isJanusConnected__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props);\n\n            case 5:\n              isConnected = _context.sent;\n\n              if (!isConnected) {\n                _context.next = 20;\n                break;\n              }\n\n              if (!localCallHistory) {\n                _context.next = 17;\n                break;\n              }\n\n              if (!localCallHistory.chatHistory) {\n                _context.next = 14;\n                break;\n              }\n\n              callType = localCallHistory.chatHistory.type;\n\n              if (callType === 'user') {\n                Object(_video_call_provider__WEBPACK_IMPORTED_MODULE_5__[\"initOneToOneCall\"])(mediaType, props);\n              }\n\n              if (callType === 'board') {\n                Object(_conference_call_provider__WEBPACK_IMPORTED_MODULE_4__[\"initCall\"])(mediaType, props);\n              }\n\n              _context.next = 15;\n              break;\n\n            case 14:\n              throw 'chatHistory not found in localCallHistory';\n\n            case 15:\n              _context.next = 18;\n              break;\n\n            case 17:\n              throw 'localCallHistory not found in webRtc';\n\n            case 18:\n              _context.next = 21;\n              break;\n\n            case 20:\n              throw 'janus is connection faild';\n\n            case 21:\n              _context.next = 26;\n              break;\n\n            case 23:\n              _context.prev = 23;\n              _context.t0 = _context[\"catch\"](0);\n              Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n                error: JSON.stringify(_context.t0),\n                errorCode: 121\n              });\n\n            case 26:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 23]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/callHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/closeHandler.js":
/*!******************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/closeHandler.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _video_call_provider_closeHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./video-call-provider/closeHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/closeHandler.js\");\n/* harmony import */ var _conference_call_provider_closeHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./conference-call-provider/closeHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/closeHandler.js\");\n/* harmony import */ var _resetCommunication__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resetCommunication */ \"./client/src/communication/helper-functions/webrtc/sfu/resetCommunication.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n/* eslint-disable no-lonely-if */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(closeType) {\n      var _store$getState, webRtc, updateWebRtc, allTracks;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('close handler called', closeType);\n              _context.prev = 1;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              updateWebRtc = props.updateWebRtc; // store current chathistory to local chathistory\n\n              _context.next = 6;\n              return updateWebRtc('chatHistory', webRtc.localCallHistory.chatHistory);\n\n            case 6:\n              // detach and close local using media\n              if (webRtc.localCallHistory.stream) {\n                if (webRtc.localCallHistory.stream.active) {\n                  allTracks = webRtc.localCallHistory.stream.getTracks();\n                  allTracks.forEach(function (track) {\n                    return track.stop();\n                  });\n                }\n              } // handle one to one closing\n\n\n              if (!webRtc.localCallHistory.chatHistory) {\n                _context.next = 14;\n                break;\n              }\n\n              if (!(webRtc.localCallHistory.chatHistory.type === 'user')) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 11;\n              return Object(_video_call_provider_closeHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props, closeType);\n\n            case 11:\n              if (!(webRtc.localCallHistory.chatHistory.type === 'board')) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 14;\n              return Object(_conference_call_provider_closeHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, closeType);\n\n            case 14:\n              _context.next = 16;\n              return Object(_resetCommunication__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(updateWebRtc);\n\n            case 16:\n              _context.next = 22;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t0 = _context[\"catch\"](1);\n              console.log('main close handler error', _context.t0);\n              Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n                error: JSON.stringify(_context.t0),\n                errorCode: 123\n              });\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 18]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/closeHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/addRemoteFeedHandler.js":
/*!***************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/addRemoteFeedHandler.js ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../webrtc/sfu/janus */ \"./client/src/webrtc/sfu/janus.js\");\n/* harmony import */ var _onRemoteFeedMessageHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./onRemoteFeedMessageHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onRemoteFeedMessageHandler.js\");\n/* harmony import */ var _onPublisherStream__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./onPublisherStream */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onPublisherStream.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* harmony import */ var _onDataHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./onDataHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataHandler.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n/* eslint-disable prefer-const */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (publisher, props) {\n  try {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        database = _store$getState.database;\n\n    var display = publisher.display,\n        id = publisher.id,\n        audio = publisher.audio,\n        video = publisher.video;\n    var localCallHistory = webRtc.localCallHistory,\n        janus = webRtc.janus;\n    var roomId = localCallHistory.chatHistory.connectionId;\n    var updateWebRtc = props.updateWebRtc;\n    var joinToken = database.Board.byId[roomId].joinToken;\n    var remoteFeed;\n    janus.janus.attach({\n      plugin: 'janus.plugin.videoroom',\n      // opaqueId: opaqueId,\n      success: function success(pluginHandle) {\n        remoteFeed = pluginHandle;\n        var subscribe = {\n          request: 'join',\n          room: roomId,\n          ptype: 'subscriber',\n          feed: id,\n          pin: joinToken,\n          data: true\n        };\n\n        if (_webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].webRTCAdapter.browserDetails.browser === 'safari' && (video === 'vp9' || video === 'vp8' && !_webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].safariVp8)) {\n          if (video) {\n            video = video.toUpperCase();\n          }\n\n          _webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].error('Publisher is using ', video, ', but Safari doesnt support it: disabling video');\n          subscribe.offer_video = false;\n        }\n\n        remoteFeed.videoCodec = video;\n        remoteFeed.send({\n          message: subscribe\n        });\n        updateWebRtc('janus', _objectSpread(_objectSpread({}, webRtc.janus), {}, {\n          remoteFeeds: _objectSpread(_objectSpread({}, webRtc.janus.remoteFeeds), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, id, remoteFeed))\n        }));\n        updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState().webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, display, _objectSpread(_objectSpread({}, webRtc.connectedUsers[display]), {}, {\n          streams: [],\n          publisherId: id,\n          uid: display\n        }))));\n      },\n      error: function error(_error) {\n        Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n          error: _error,\n          errorCode: 118\n        });\n      },\n      onmessage: function onmessage(msg, jsep) {\n        Object(_onRemoteFeedMessageHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(msg, jsep, remoteFeed, roomId);\n      },\n      webrtcState: function webrtcState(on) {\n        _webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].log('Janus says this WebRTC PeerConnection', display, 'is', on ? 'up' : 'down', ' now');\n      },\n      onremotestream: function onremotestream(stream) {\n        Object(_onPublisherStream__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(stream, display, updateWebRtc);\n      },\n      oncleanup: function oncleanup() {\n        _webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].log(' ::: Got a cleanup notification (remote feed ', id, ') :::');\n      },\n      ondata: Object(_onDataHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props)\n    });\n  } catch (e) {\n    console.log('error in remote feed handler', e);\n    Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n      error: JSON.stringify(e),\n      errorCode: 117\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/addRemoteFeedHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/attachPlugin.js":
/*!*******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/attachPlugin.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _webrtc_sfu_pluginAttachment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../webrtc/sfu/pluginAttachment */ \"./client/src/webrtc/sfu/pluginAttachment.js\");\n/* harmony import */ var _eventListner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./eventListner */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/eventListner.js\");\n/* harmony import */ var _errorHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./errorHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/errorHandler.js\");\n/* harmony import */ var _onLocalStreamHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./onLocalStreamHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onLocalStreamHandler.js\");\n/* harmony import */ var _onPublisherStream__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./onPublisherStream */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onPublisherStream.js\");\n/* harmony import */ var _onDataChannelAvailable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./onDataChannelAvailable */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataChannelAvailable.js\");\n/* harmony import */ var _onDataHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./onDataHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props) {\n    var updateWebRtc, _store$getState, webRtc, janus, attachPluginRes, conferenceCall, error, updatedWebRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            updateWebRtc = props.updateWebRtc;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            janus = webRtc.janus.janus;\n            _context.next = 5;\n            return Object(_webrtc_sfu_pluginAttachment__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(janus, 'conferenceCall', Object(_eventListner__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props), _errorHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"], Object(_onLocalStreamHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props), Object(_onPublisherStream__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props), Object(_onDataHandler__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(props), Object(_onDataChannelAvailable__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props));\n\n          case 5:\n            attachPluginRes = _context.sent;\n            conferenceCall = attachPluginRes.conferenceCall, error = attachPluginRes.error;\n\n            if (!conferenceCall) {\n              _context.next = 11;\n              break;\n            }\n\n            updatedWebRtc = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().webRtc;\n            _context.next = 11;\n            return updateWebRtc('janus', _objectSpread(_objectSpread({}, updatedWebRtc.janus), {}, {\n              conferenceCall: conferenceCall\n            }));\n\n          case 11:\n            if (error) {\n              Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n                error: error,\n                errorCode: 142\n              });\n            }\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/attachPlugin.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callAcceptHandler.js":
/*!************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callAcceptHandler.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var updateWebRtc = props.updateWebRtc,\n      account = props.account;\n\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc; // console.log('callAccept handler called', webRtc);\n\n\n  var apis = webRtc.apis;\n  var boardId = webRtc.localCallHistory.chatHistory.connectionId;\n  updateWebRtc('isLive', true);\n  updateWebRtc('showIncommingCall', false);\n  updateWebRtc('communicationContainer', 'connecting');\n\n  if (apis) {\n    apis.sfuCallStatusChange({\n      callStatusDetails: {\n        broadCastType: 'Board',\n        broadCastId: boardId,\n        uid: account.user.id,\n        callType: webRtc.localCallHistory.callType || 'Misscall',\n        callDuration: webRtc.localCallHistory.startTime ? Date.now() - webRtc.localCallHistory.startTime : 0,\n        connectionId: boardId,\n        type: 'callStarted'\n      },\n      userList: [{\n        userId: account.user.id\n      }]\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callAcceptHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callUpgrader.js":
/*!*******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callUpgrader.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _janusMediaSelector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../janusMediaSelector */ \"./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (boardId, mediaType, doNotUpgrade) {\n  try {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        account = _store$getState.account;\n\n    var localCallHistory = webRtc.localCallHistory,\n        apis = webRtc.apis,\n        janus = webRtc.janus,\n        isCallUpgraded = webRtc.isCallUpgraded;\n    var conferenceCall = janus.conferenceCall;\n\n    if (conferenceCall) {\n      if (mediaType === 'mute' || mediaType === 'unmute') {\n        if (mediaType === 'mute') {\n          conferenceCall.muteAudio();\n        }\n\n        if (mediaType === 'unmute') {\n          conferenceCall.unmuteAudio();\n        }\n      } else {\n        // console.log('conference call upgrade called');\n        conferenceCall.createOffer({\n          media: Object(_janusMediaSelector__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(mediaType),\n          success: function success(jsep) {\n            if (!doNotUpgrade) {\n              conferenceCall.data({\n                text: JSON.stringify({\n                  callType: localCallHistory.mediaType,\n                  uid: account.user.id,\n                  type: 'callUpgrade'\n                })\n              });\n            }\n\n            conferenceCall.send({\n              message: {\n                request: 'configure',\n                bitrate: 512000\n              },\n              jsep: jsep\n            });\n          },\n          error: function error(_error) {\n            if (_error.name) {\n              Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n                error: _error.name,\n                errorCode: 143\n              });\n            } else {\n              throw _error;\n            }\n          }\n        });\n\n        if (!doNotUpgrade) {\n          apis.initSfuCall({\n            activeStatus: account.user.id,\n            id: boardId,\n            isCallUpgraded: isCallUpgraded,\n            mediaType: localCallHistory.mediaType\n          });\n        }\n      }\n    } else {\n      throw 'Conference plugin not found';\n    }\n  } catch (e) {\n    Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      error: JSON.stringify(e),\n      errorCode: 143\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callUpgrader.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkCreateOrJoin.js":
/*!************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkCreateOrJoin.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (connectionId) {\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n      database = _store$getState.database,\n      webRtc = _store$getState.webRtc;\n\n  var isCallUpgraded = webRtc.isCallUpgraded;\n\n  if (isCallUpgraded) {\n    return {\n      type: 'upgrade'\n    };\n  }\n\n  if (database) {\n    var board = Object.values(database.Board.byId).find(function (b) {\n      return b.id === connectionId;\n    });\n\n    if (board) {\n      if (board.activeStatus) {\n        var joinToken = board.joinToken,\n            activeStatus = board.activeStatus;\n        return {\n          type: 'join',\n          joinToken: joinToken,\n          activeStatus: activeStatus\n        };\n      }\n\n      return {\n        type: 'create'\n      };\n    }\n\n    throw {\n      error: 'Board not found',\n      errorCode: 104\n    };\n  }\n\n  throw {\n    error: 'Database not found',\n    errorCode: 105\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkCreateOrJoin.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkRoomCreated.js":
/*!***********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkRoomCreated.js ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc;\n\n  var janus = webRtc.janus;\n\n  if (janus) {\n    var conferenceCall = janus.conferenceCall;\n\n    if (conferenceCall) {\n      var isConferenceConnected = conferenceCall.session.isConnected();\n\n      if (isConferenceConnected) {\n        return conferenceCall;\n      }\n\n      throw {\n        error: 'Conference call session is not connected',\n        errorCode: 108\n      };\n    }\n\n    throw {\n      error: 'Conference Call not created',\n      errorCode: 107\n    };\n  }\n\n  throw {\n    error: 'Janus not found in store',\n    errorCode: 106\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkRoomCreated.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/closeHandler.js":
/*!*******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/closeHandler.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, closeType) {\n    var _store$getState, webRtc, account, janus, apis, localCallHistory, updateWebRtc, boardId, isAnySubscriberNotDetach, allRemoteFeeds, allDetachSubscriberPromise, subscriberDetachRes, publisherDetachRes, latestWebrtcData;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            // console.log('conference close handler called', props, closeType);\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            janus = webRtc.janus, apis = webRtc.apis, localCallHistory = webRtc.localCallHistory;\n            updateWebRtc = props.updateWebRtc;\n            boardId = localCallHistory.chatHistory.connectionId;\n            isAnySubscriberNotDetach = null;\n\n            if (webRtc.liveCallPingTimer) {\n              clearInterval(webRtc.liveCallPingTimer);\n              updateWebRtc('liveCallPingTimer', null);\n            }\n\n            if (!(webRtc.isLive || closeType === 'callReject')) {\n              _context.next = 35;\n              break;\n            }\n\n            if (!webRtc.janus.remoteFeeds) {\n              _context.next = 22;\n              break;\n            }\n\n            allRemoteFeeds = Object.values(webRtc.janus.remoteFeeds);\n            allDetachSubscriberPromise = [];\n\n            if (allRemoteFeeds.length > 0) {\n              allRemoteFeeds.forEach(function (rf) {\n                allDetachSubscriberPromise.push(new Promise(function (resolve) {\n                  rf.detach({\n                    success: function success() {\n                      resolve(true);\n                    },\n                    error: function error() {\n                      resolve(false);\n                    }\n                  });\n                }));\n              });\n            }\n\n            _context.next = 14;\n            return Promise.all(allDetachSubscriberPromise);\n\n          case 14:\n            subscriberDetachRes = _context.sent;\n            isAnySubscriberNotDetach = subscriberDetachRes.find(function (ds) {\n              return !ds;\n            });\n\n            if (isAnySubscriberNotDetach) {\n              _context.next = 21;\n              break;\n            }\n\n            _context.next = 19;\n            return updateWebRtc('janus', _objectSpread(_objectSpread({}, webRtc.janus), {}, {\n              remoteFeeds: {}\n            }));\n\n          case 19:\n            _context.next = 22;\n            break;\n\n          case 21:\n            throw 'Subscriber detach error';\n\n          case 22:\n            _context.next = 24;\n            return new Promise(function (resolve) {\n              janus.conferenceCall.detach({\n                success: function success() {\n                  resolve({\n                    success: true\n                  });\n                },\n                error: function error(_error) {\n                  resolve({\n                    error: _error,\n                    errorCode: 123\n                  });\n                }\n              });\n            });\n\n          case 24:\n            publisherDetachRes = _context.sent;\n\n            if (!publisherDetachRes.success) {\n              _context.next = 31;\n              break;\n            }\n\n            latestWebrtcData = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().webRtc;\n            _context.next = 29;\n            return updateWebRtc('janus', _objectSpread(_objectSpread({}, latestWebrtcData.janus), {}, {\n              conferenceCall: undefined\n            }));\n\n          case 29:\n            _context.next = 32;\n            break;\n\n          case 31:\n            throw publisherDetachRes;\n\n          case 32:\n            // server informer to close with localhistory\n            apis.sfuCallStatusChange({\n              callStatusDetails: {\n                broadCastType: 'Board',\n                broadCastId: boardId,\n                uid: account.user.id,\n                callType: webRtc.localCallHistory.callType || 'Misscall',\n                callDuration: webRtc.localCallHistory.startTime ? Date.now() - webRtc.localCallHistory.startTime : 0,\n                connectionId: boardId,\n                type: 'declined'\n              },\n              userList: [{\n                userId: account.user.id\n              }]\n            });\n\n            if (!(publisherDetachRes && !isAnySubscriberNotDetach)) {\n              _context.next = 35;\n              break;\n            }\n\n            return _context.abrupt(\"return\", true);\n\n          case 35:\n            _context.next = 41;\n            break;\n\n          case 37:\n            _context.prev = 37;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('error in close handler', _context.t0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 122\n            });\n\n          case 41:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 37]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/closeHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/connectionIdProvider.js":
/*!***************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/connectionIdProvider.js ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* eslint-disable no-throw-literal */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc;\n\n  var localCallHistory = webRtc.localCallHistory;\n\n  if (localCallHistory) {\n    var chatHistory = localCallHistory.chatHistory;\n\n    if (chatHistory) {\n      var type = chatHistory.type,\n          connectionId = chatHistory.connectionId;\n\n      if (type && connectionId) {\n        var isBorad = type === 'board';\n\n        if (isBorad) {\n          return connectionId;\n        }\n      }\n\n      throw {\n        error: 'Type or connectionId not found in chatHistory',\n        errorCode: 103\n      };\n    }\n\n    throw {\n      error: 'Chat history not found',\n      errorCode: 102\n    };\n  }\n\n  throw {\n    error: 'LocalCallHistory not found',\n    errorCode: 101\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/connectionIdProvider.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createOffer.js":
/*!******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createOffer.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _janusMediaSelector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../janusMediaSelector */ \"./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(conferenceCall) {\n    var _store$getState, webRtc, localCallHistory, res;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            localCallHistory = webRtc.localCallHistory;\n            _context.prev = 2;\n            _context.next = 5;\n            return new Promise(function (resolve) {\n              conferenceCall.createOffer({\n                // Add data:true here if you want to publish datachannels as well\n                media: Object(_janusMediaSelector__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(localCallHistory.mediaType),\n                // Publishers are sendonly\n                success: function success(jsep) {\n                  var publish = {\n                    request: 'configure',\n                    audio: true,\n                    video: true,\n                    data: true\n                  };\n                  conferenceCall.send({\n                    message: publish,\n                    jsep: jsep\n                  });\n                  resolve({\n                    success: true,\n                    jsep: jsep\n                  });\n                },\n                error: function error(_error) {\n                  resolve({\n                    error: _error,\n                    errorCode: 111\n                  });\n                }\n              });\n            });\n\n          case 5:\n            res = _context.sent;\n            return _context.abrupt(\"return\", res);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 116\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 9]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createOffer.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createRoom.js":
/*!*****************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createRoom.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"../../node_modules/uuid/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n/* eslint-disable no-shadow */\n\n/* eslint-disable camelcase */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(id, conferenceCall) {\n    var _store$getState, database, joinToken, boardName, noOfmembers, create, createResult;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), database = _store$getState.database;\n            joinToken = uuid__WEBPACK_IMPORTED_MODULE_3___default()();\n            boardName = database.Board.byId[id].name;\n            noOfmembers = Object.values(database.BoardMember.byId).filter(function (bm) {\n              return bm.boardId === id;\n            }).length;\n            create = {\n              request: 'create',\n              description: boardName,\n              room: id,\n              publishers: noOfmembers,\n              new_pin: joinToken,\n              bitrate: 512000\n            };\n            _context.next = 8;\n            return new Promise(function (resolve) {\n              conferenceCall.send({\n                message: create,\n                success: function success(result) {\n                  resolve(_objectSpread(_objectSpread({}, result), {}, {\n                    joinToken: joinToken\n                  }));\n                },\n                error: function error(err) {\n                  resolve({\n                    error: JSON.stringify(err),\n                    error_code: 110\n                  });\n                }\n              });\n            });\n\n          case 8:\n            createResult = _context.sent;\n            return _context.abrupt(\"return\", createResult);\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 114\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 12]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createRoom.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/editRoom.js":
/*!***************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/editRoom.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"../../node_modules/uuid/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n/* eslint-disable no-shadow */\n\n/* eslint-disable camelcase */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(id, conferenceCall) {\n    var _store$getState, database, joinToken, boardName, noOfmembers, edit, editResult;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), database = _store$getState.database;\n            joinToken = uuid__WEBPACK_IMPORTED_MODULE_3___default()();\n            boardName = database.Board.byId[id].name;\n            noOfmembers = Object.values(database.BoardMember.byId).filter(function (bm) {\n              return bm.boardId === id;\n            }).length;\n            edit = {\n              request: 'edit',\n              description: boardName,\n              room: id,\n              publishers: noOfmembers,\n              new_pin: joinToken,\n              bitrate: 512000\n            };\n            _context.next = 8;\n            return new Promise(function (resolve) {\n              conferenceCall.send({\n                message: edit,\n                success: function success(result) {\n                  resolve(_objectSpread(_objectSpread({}, result), {}, {\n                    joinToken: joinToken\n                  }));\n                },\n                error: function error(err) {\n                  resolve({\n                    error: JSON.stringify(err),\n                    errorCode: 109\n                  });\n                }\n              });\n            });\n\n          case 8:\n            editResult = _context.sent;\n            return _context.abrupt(\"return\", editResult);\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 113\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 12]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/editRoom.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/errorHandler.js":
/*!*******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/errorHandler.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* eslint-disable import/no-cycle */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (err) {\n  Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    error: JSON.stringify(err),\n    errorCode: 144\n  });\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/errorHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/eventListner.js":
/*!*******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/eventListner.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _unpublishedHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./unpublishedHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/unpublishedHandler.js\");\n/* harmony import */ var _createOffer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./createOffer */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createOffer.js\");\n/* harmony import */ var _publishersHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./publishersHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/publishersHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable camelcase */\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(msg, jsep) {\n      var updateWebRtc, videoroom, error, error_code, event, _store$getState, webRtc, janus, conferenceCall, createOfferRes, unpublished;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              // console.log('event listner in conference call', msg);\n              updateWebRtc = props.updateWebRtc;\n              videoroom = msg.videoroom, error = msg.error, error_code = msg.error_code;\n              event = videoroom;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              janus = webRtc.janus;\n              conferenceCall = janus.conferenceCall;\n\n              if (!(event === 'joined')) {\n                _context.next = 18;\n                break;\n              }\n\n              _context.next = 10;\n              return Object(_createOffer__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(conferenceCall);\n\n            case 10:\n              createOfferRes = _context.sent;\n\n              if (!createOfferRes.error) {\n                _context.next = 13;\n                break;\n              }\n\n              throw createOfferRes;\n\n            case 13:\n              Object(_publishersHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(msg, props);\n              _context.next = 16;\n              return updateWebRtc('janus', _objectSpread(_objectSpread({}, webRtc.janus), {}, {\n                joinStatus: true\n              }));\n\n            case 16:\n              _context.next = 19;\n              break;\n\n            case 18:\n              if (event === 'event') {\n                unpublished = msg.unpublished;\n                Object(_publishersHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(msg, props);\n\n                if (unpublished) {\n                  Object(_unpublishedHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, unpublished);\n                }\n              }\n\n            case 19:\n              if (jsep) {\n                if (jsep.type === 'answer') {\n                  conferenceCall.handleRemoteJsep({\n                    jsep: jsep\n                  });\n                }\n              }\n\n              if (!(error_code && error)) {\n                _context.next = 22;\n                break;\n              }\n\n              throw error;\n\n            case 22:\n              _context.next = 28;\n              break;\n\n            case 24:\n              _context.prev = 24;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error in event listner', _context.t0);\n              Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n                error: JSON.stringify(_context.t0),\n                errorCode: 115\n              });\n\n            case 28:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 24]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/eventListner.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js":
/*!***********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _attachPlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attachPlugin */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/attachPlugin.js\");\n/* harmony import */ var _initCall__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initCall */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/initCall.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionReporter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../exceptionReporter */ \"./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js\");\n/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../init */ \"./client/src/communication/helper-functions/webrtc/sfu/init.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\nvar attachPlugInHandler = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props) {\n    var _store$getState, webRtc, mediaType;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Object(_attachPlugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props);\n\n          case 2:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            mediaType = webRtc.localCallHistory.mediaType;\n\n            if (mediaType) {\n              Object(_initCall__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mediaType, props);\n            }\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function attachPlugInHandler(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar initJanusHandler = /*#__PURE__*/function () {\n  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(errorObj, props) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            Object(_exceptionReporter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(errorObj);\n            setTimeout(function () {\n              Object(_init__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props);\n            }, 5000);\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function initJanusHandler(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar screenShareBlockErrorHandler = function screenShareBlockErrorHandler(errorObj) {\n  var error = errorObj.error;\n  var isNotAllowMediaError = error.includes('NotAllowedError');\n  var dispatch = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch;\n\n  if (isNotAllowMediaError) {\n    dispatch({\n      type: 'updateWebRtc',\n      schema: 'screenShareNotAllowed',\n      payload: true\n    });\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(errorObj, props) {\n    var errorCode;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log('conference exception handler', errorObj);\n            _context3.prev = 1;\n            errorCode = errorObj.errorCode;\n\n            if (!errorCode) {\n              _context3.next = 18;\n              break;\n            }\n\n            _context3.t0 = errorCode;\n            _context3.next = _context3.t0 === 107 ? 7 : _context3.t0 === 108 ? 9 : _context3.t0 === 109 ? 11 : _context3.t0 === 200 ? 13 : _context3.t0 === 143 ? 15 : 17;\n            break;\n\n          case 7:\n            attachPlugInHandler(props);\n            return _context3.abrupt(\"break\", 18);\n\n          case 9:\n            attachPlugInHandler(props);\n            return _context3.abrupt(\"break\", 18);\n\n          case 11:\n            attachPlugInHandler(props);\n            return _context3.abrupt(\"break\", 18);\n\n          case 13:\n            initJanusHandler(errorObj, props);\n            return _context3.abrupt(\"break\", 18);\n\n          case 15:\n            screenShareBlockErrorHandler(errorObj);\n            return _context3.abrupt(\"break\", 18);\n\n          case 17:\n            Object(_exceptionReporter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(errorObj);\n\n          case 18:\n            _context3.next = 23;\n            break;\n\n          case 20:\n            _context3.prev = 20;\n            _context3.t1 = _context3[\"catch\"](1);\n            Object(_exceptionReporter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n              error: JSON.stringify(_context3.t1),\n              errorCode: 145\n            });\n\n          case 23:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 20]]);\n  }));\n\n  return function (_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/index.js":
/*!************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/index.js ***!
  \************************************************************************************************/
/*! exports provided: initCall */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _initCall__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initCall */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/initCall.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"initCall\", function() { return _initCall__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/initCall.js":
/*!***************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/initCall.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _connectionIdProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./connectionIdProvider */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/connectionIdProvider.js\");\n/* harmony import */ var _checkCreateOrJoin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./checkCreateOrJoin */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkCreateOrJoin.js\");\n/* harmony import */ var _checkRoomCreated__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./checkRoomCreated */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/checkRoomCreated.js\");\n/* harmony import */ var _createRoom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./createRoom */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/createRoom.js\");\n/* harmony import */ var _editRoom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editRoom */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/editRoom.js\");\n/* harmony import */ var _joinRoom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./joinRoom */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/joinRoom.js\");\n/* harmony import */ var _callUpgrader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./callUpgrader */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callUpgrader.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* harmony import */ var _isJanusConnected__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../isJanusConnected */ \"./client/src/communication/helper-functions/webrtc/sfu/isJanusConnected.js\");\n/* harmony import */ var _socket_listner_sfuPingPong__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../socket-listner/sfuPingPong */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/sfuPingPong.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n/* eslint-disable no-shadow */\n\n/* eslint-disable camelcase */\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaType, props) {\n    var isJanusConnectedRes, connectionId, createOrJoin, roomEditRes, roomCreateRes, _store$getState, webRtc, account, userId, apis, conferenceCall, _roomEditRes, error, error_code, room, joinToken, _roomCreateRes, _error, _error_code, _room, _joinToken, isUserInLiveCall, updateWebRtc, liveCallPingTimer, _joinToken2, _conferenceCall, isIamInCall, _joinToken3, _conferenceCall2;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return Object(_isJanusConnected__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(props);\n\n          case 3:\n            isJanusConnectedRes = _context.sent;\n\n            if (!isJanusConnectedRes) {\n              _context.next = 48;\n              break;\n            }\n\n            connectionId = Object(_connectionIdProvider__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            createOrJoin = Object(_checkCreateOrJoin__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(connectionId);\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            userId = account.user.id;\n            apis = webRtc.apis; // apis.sfuPingPong({ boardId: connectionId, userId: account.user.id });\n\n            if (!(createOrJoin.type === 'create')) {\n              _context.next = 33;\n              break;\n            }\n\n            conferenceCall = Object(_checkRoomCreated__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n\n            if (!conferenceCall) {\n              _context.next = 33;\n              break;\n            }\n\n            _context.next = 15;\n            return Object(_editRoom__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(connectionId, conferenceCall);\n\n          case 15:\n            roomEditRes = _context.sent;\n            _roomEditRes = roomEditRes, error = _roomEditRes.error, error_code = _roomEditRes.error_code, room = _roomEditRes.room, joinToken = _roomEditRes.joinToken;\n\n            if (!(room && joinToken)) {\n              _context.next = 22;\n              break;\n            }\n\n            Object(_joinRoom__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(conferenceCall, joinToken, room);\n            apis.initSfuCall({\n              activeStatus: userId,\n              id: room,\n              joinToken: joinToken,\n              mediaType: webRtc.localCallHistory.mediaType\n            });\n            _context.next = 33;\n            break;\n\n          case 22:\n            if (!(error && error_code === 426)) {\n              _context.next = 32;\n              break;\n            }\n\n            _context.next = 25;\n            return Object(_createRoom__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(connectionId, conferenceCall);\n\n          case 25:\n            roomCreateRes = _context.sent;\n            _roomCreateRes = roomCreateRes, _error = _roomCreateRes.error, _error_code = _roomCreateRes.error_code, _room = _roomCreateRes.room, _joinToken = _roomCreateRes.joinToken;\n\n            if (_room && _joinToken) {\n              Object(_joinRoom__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(conferenceCall, _joinToken, _room);\n              apis.initSfuCall({\n                activeStatus: userId,\n                id: _room,\n                joinToken: _joinToken,\n                mediaType: webRtc.localCallHistory.mediaType\n              });\n            }\n\n            if (!(_error && _error_code)) {\n              _context.next = 30;\n              break;\n            }\n\n            throw roomCreateRes;\n\n          case 30:\n            _context.next = 33;\n            break;\n\n          case 32:\n            throw roomEditRes;\n\n          case 33:\n            if (!(createOrJoin.type === 'join')) {\n              _context.next = 47;\n              break;\n            }\n\n            isUserInLiveCall = apis.isUserInLiveCall;\n\n            if (!webRtc.liveCallPingTimer) {\n              updateWebRtc = props.updateWebRtc;\n              liveCallPingTimer = setInterval(_socket_listner_sfuPingPong__WEBPACK_IMPORTED_MODULE_12__[\"default\"], 5000);\n              updateWebRtc('liveCallPingTimer', liveCallPingTimer);\n            }\n\n            if (!(webRtc.localCallHistory.callType === 'Incoming')) {\n              _context.next = 42;\n              break;\n            }\n\n            _joinToken2 = createOrJoin.joinToken;\n            _conferenceCall = Object(_checkRoomCreated__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            Object(_joinRoom__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_conferenceCall, _joinToken2, connectionId);\n            _context.next = 47;\n            break;\n\n          case 42:\n            _context.next = 44;\n            return isUserInLiveCall({\n              userId: account.user.id,\n              boardId: connectionId\n            });\n\n          case 44:\n            isIamInCall = _context.sent;\n            console.log('is am in call', isIamInCall); // start pingpong for live board call\n\n            if (!isIamInCall) {\n              _joinToken3 = createOrJoin.joinToken;\n              _conferenceCall2 = Object(_checkRoomCreated__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n              Object(_joinRoom__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_conferenceCall2, _joinToken3, connectionId);\n            }\n\n          case 47:\n            if (createOrJoin.type === 'upgrade') {\n              Object(_callUpgrader__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(connectionId, mediaType);\n            }\n\n          case 48:\n            _context.next = 54;\n            break;\n\n          case 50:\n            _context.prev = 50;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('execptoin in init call', _context.t0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_context.t0, props);\n\n          case 54:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 50]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/initCall.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/joinRoom.js":
/*!***************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/joinRoom.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (pluginHandler, joinToken, room) {\n  // console.log('join room called', pluginHandler, joinToken, room);\n  try {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n        account = _store$getState.account;\n\n    var userId = account.user.id;\n    var register = {\n      request: 'join',\n      room: room,\n      ptype: 'publisher',\n      display: \"\".concat(userId),\n      pin: joinToken\n    };\n    pluginHandler.send({\n      message: register\n    });\n  } catch (e) {\n    Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      error: JSON.stringify(e),\n      errorCode: 112\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/joinRoom.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataChannelAvailable.js":
/*!*****************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataChannelAvailable.js ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (params) {// console.log('onData channel available', params);\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataChannelAvailable.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataHandler.js":
/*!********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataHandler.js ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _callUpgrader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./callUpgrader */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callUpgrader.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (data) {\n    // console.log('Data in dataHandler', JSON.parse(data), props);\n    var updateWebRtc = props.updateWebRtc,\n        updateDatabaseSchema = props.updateDatabaseSchema;\n\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        database = _store$getState.database;\n\n    var jsData = JSON.parse(data);\n    var uid = jsData.uid,\n        type = jsData.type,\n        callType = jsData.callType;\n\n    if (jsData.callType) {\n      var connectedUsers = webRtc.connectedUsers;\n      var connectedUser = connectedUsers[jsData.uid];\n      var currentMediaType = webRtc.connectedUsers[jsData.uid].type;\n\n      if (type === 'callUpgrade') {\n        var localCallHistory = webRtc.localCallHistory;\n        var mediaType = localCallHistory.mediaType;\n\n        if (mediaType === 'video' || mediaType === 'screenshare') {\n          Object(_callUpgrader__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(localCallHistory.chatHistory.connectionId, 'audio', true);\n          updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n            mediaType: 'audio',\n            callEnd: false\n          }));\n        } // update activeUser in board if not updated\n\n\n        var currentActiveBoard = database.Board.byId[webRtc.localCallHistory.chatHistory.connectionId];\n\n        if (currentActiveBoard.activeStatus !== uid) {\n          updateDatabaseSchema('Board', {\n            id: currentActiveBoard.id,\n            activeStatus: uid\n          });\n        }\n      }\n\n      if (connectedUser) {\n        if (connectedUser.type !== jsData.callType) {\n          if (currentMediaType !== 'video' || currentMediaType !== 'screenshare') {\n            updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, _objectSpread(_objectSpread({}, webRtc.connectedUsers[jsData.uid]), {}, {\n              type: callType\n            }))));\n          }\n        }\n      }\n    }\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onDataHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onLocalStreamHandler.js":
/*!***************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onLocalStreamHandler.js ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (stream) {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        account = _store$getState.account;\n\n    var updateWebRtc = props.updateWebRtc;\n    updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n      stream: stream,\n      callEnd: false\n    }));\n    updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, account.user.id, {\n      streams: [stream]\n    })));\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onLocalStreamHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onPublisherStream.js":
/*!************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onPublisherStream.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (stream, publisherId, updateWebRtc) {\n  try {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc;\n\n    var hasUser = webRtc.connectedUsers[publisherId];\n\n    if (hasUser) {\n      var hasSameStream = hasUser.streams.find(function (s) {\n        return lodash__WEBPACK_IMPORTED_MODULE_2___default.a.isEqual(s, stream);\n      });\n\n      if (!hasSameStream) {\n        updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, publisherId, _objectSpread(_objectSpread({}, webRtc.connectedUsers[publisherId]), {}, {\n          streams: webRtc.connectedUsers[publisherId] ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(webRtc.connectedUsers[publisherId].streams), [stream]) : [stream]\n        }))));\n      }\n\n      updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n        startTime: webRtc.localCallHistory.startTime || Date.now()\n      }));\n    }\n  } catch (e) {\n    Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n      error: JSON.stringify(e),\n      errorCode: 120\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onPublisherStream.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onRemoteFeedMessageHandler.js":
/*!*********************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onRemoteFeedMessageHandler.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* eslint-disable import/no-cycle */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (msg, jsep, remoteFeed, roomId) {\n  if (jsep) {\n    remoteFeed.createAnswer({\n      jsep: jsep,\n      media: {\n        audioSend: false,\n        videoSend: false,\n        data: true\n      },\n      success: function success(answerJsep) {\n        var body = {\n          request: 'start',\n          room: roomId\n        };\n        remoteFeed.send({\n          message: body,\n          jsep: answerJsep\n        });\n      },\n      error: function error(_error) {\n        Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          error: JSON.stringify(_error),\n          errorCode: 119\n        });\n      }\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/onRemoteFeedMessageHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/publishersHandler.js":
/*!************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/publishersHandler.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _addRemoteFeedHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./addRemoteFeedHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/addRemoteFeedHandler.js\");\n/* harmony import */ var _callAcceptHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./callAcceptHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/callAcceptHandler.js\");\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (msg, props) {\n  var publishers = msg.publishers;\n\n  if (publishers && publishers.length > 0) {\n    Object(_callAcceptHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(props);\n    publishers.forEach(function (p) {\n      return Object(_addRemoteFeedHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(p, props);\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/publishersHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/unpublishedHandler.js":
/*!*************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/unpublishedHandler.js ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../closeHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/closeHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, unpublishedId) {\n    var _store$getState, webRtc, updateWebRtc, apis, localCallHistory, chatHistory, boardId, ids, values, idx, newIds, newValues, newConnectedUsers;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            updateWebRtc = props.updateWebRtc;\n            apis = webRtc.apis, localCallHistory = webRtc.localCallHistory;\n\n            if (!localCallHistory) {\n              _context.next = 22;\n              break;\n            }\n\n            chatHistory = localCallHistory.chatHistory;\n\n            if (!chatHistory) {\n              _context.next = 19;\n              break;\n            }\n\n            boardId = chatHistory.connectionId;\n            ids = Object.keys(webRtc.connectedUsers);\n            values = Object.values(webRtc.connectedUsers);\n            idx = values.findIndex(function (obj) {\n              return obj.publisherId === unpublishedId;\n            });\n            newIds = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(ids.slice(0, idx)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(ids.slice(idx + 1)));\n            newValues = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(values.slice(0, idx)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(values.slice(idx + 1)));\n            newConnectedUsers = newIds.reduce(function (t, e, index) {\n              t[e] = newValues[index];\n              return t;\n            }, {});\n            _context.next = 16;\n            return updateWebRtc('connectedUsers', newConnectedUsers);\n\n          case 16:\n            if (newValues.length < 2) {\n              Object(_closeHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props)();\n\n              if (apis) {\n                apis.closeSfuCall({\n                  id: boardId,\n                  activeStatus: null\n                });\n              }\n            }\n\n            _context.next = 20;\n            break;\n\n          case 19:\n            throw 'chatHistory not found';\n\n          case 20:\n            _context.next = 23;\n            break;\n\n          case 22:\n            throw 'localCallHistory not found';\n\n          case 23:\n            _context.next = 28;\n            break;\n\n          case 25:\n            _context.prev = 25;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 124\n            });\n\n          case 28:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 25]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/unpublishedHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/deviceTest.js":
/*!****************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/deviceTest.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../webrtc/sfu/janus */ \"./client/src/webrtc/sfu/janus.js\");\n/* harmony import */ var _exceptionReporter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./exceptionReporter */ \"./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(updateWebRtc) {\n    var allDevices, audioDeviceList, videoDeviceList;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return new Promise(function (resolve) {\n              _webrtc_sfu_janus__WEBPACK_IMPORTED_MODULE_2__[\"default\"].listDevices(function (devices) {\n                resolve(devices);\n              });\n            });\n\n          case 3:\n            allDevices = _context.sent;\n            audioDeviceList = [];\n            videoDeviceList = [];\n            allDevices.forEach(function (d) {\n              if (d.kind === 'audioinput') {\n                audioDeviceList.push(d);\n              }\n\n              if (d.kind === 'videoinput') {\n                videoDeviceList.push(d);\n              }\n            });\n            updateWebRtc('devices', {\n              audio: audioDeviceList,\n              video: videoDeviceList\n            });\n            return _context.abrupt(\"return\", allDevices);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionReporter__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 149\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 11]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/deviceTest.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js":
/*!***********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable no-undef */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(report) {\n    var _store$getState, webRtc, account, apis, reportedError, isThisErrorReported, _navigator, userAgent, userId, res;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('errr reporter', report);\n            _context.prev = 1;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            apis = webRtc.apis, reportedError = webRtc.reportedError;\n\n            if (!reportedError) {\n              _context.next = 13;\n              break;\n            }\n\n            isThisErrorReported = reportedError.find(function (er) {\n              return er.errorCode === report.errorCode;\n            });\n            _navigator = navigator, userAgent = _navigator.userAgent;\n            userId = account.user.id;\n\n            if (isThisErrorReported) {\n              _context.next = 13;\n              break;\n            }\n\n            _context.next = 11;\n            return apis.errorReporter(_objectSpread(_objectSpread({}, report), {}, {\n              userAgent: userAgent,\n              userId: userId,\n              timeStamp: Date.now()\n            }));\n\n          case 11:\n            res = _context.sent;\n\n            if (res.status === 200) {\n              _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch({\n                type: 'updateWebRtc',\n                schema: 'reportedError',\n                payload: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(reportedError), [res])\n              });\n            }\n\n          case 13:\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](1);\n            console.error(_context.t0);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 15]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/index.js":
/*!***********************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/index.js ***!
  \***********************************************************************/
/*! exports provided: initJanus, callHandler, closeHandler, answerHandler, sfuSocketListner, deviceTest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init */ \"./client/src/communication/helper-functions/webrtc/sfu/init.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"initJanus\", function() { return _init__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _socket_listner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./socket-listner */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sfuSocketListner\", function() { return _socket_listner__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _callHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./callHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/callHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"callHandler\", function() { return _callHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _closeHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./closeHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/closeHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"closeHandler\", function() { return _closeHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _answerHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./answerHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/answerHandler.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"answerHandler\", function() { return _answerHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _deviceTest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./deviceTest */ \"./client/src/communication/helper-functions/webrtc/sfu/deviceTest.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"deviceTest\", function() { return _deviceTest__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/init.js":
/*!**********************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/init.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _webrtc_sfu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webrtc/sfu */ \"./client/src/webrtc/sfu/index.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _conference_call_provider_attachPlugin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./conference-call-provider/attachPlugin */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/attachPlugin.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* harmony import */ var _video_call_provider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./video-call-provider */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/index.js\");\n/* harmony import */ var _streaming__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./streaming */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/index.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props) {\n    var updateWebRtc, _store$getState, webRtc, janusInitRes, janus, error;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            updateWebRtc = props.updateWebRtc;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(props), webRtc = _store$getState.webRtc;\n            _context.next = 5;\n            return Object(_webrtc_sfu__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props);\n\n          case 5:\n            janusInitRes = _context.sent;\n            janus = janusInitRes.janus, error = janusInitRes.error;\n            _context.next = 9;\n            return updateWebRtc('janus', _objectSpread(_objectSpread({}, webRtc.janus), {}, {\n              janus: janus\n            }));\n\n          case 9:\n            if (!janus) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.next = 12;\n            return Object(_video_call_provider__WEBPACK_IMPORTED_MODULE_7__[\"attachPlugin\"])(props);\n\n          case 12:\n            _context.next = 14;\n            return Object(_conference_call_provider_attachPlugin__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props);\n\n          case 14:\n            _context.next = 16;\n            return Object(_streaming__WEBPACK_IMPORTED_MODULE_8__[\"attachPlugin\"])(props);\n\n          case 16:\n            if (!error) {\n              _context.next = 18;\n              break;\n            }\n\n            throw janusInitRes;\n\n          case 18:\n            _context.next = 23;\n            break;\n\n          case 20:\n            _context.prev = 20;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_context.t0, props);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 20]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/init.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/isJanusConnected.js":
/*!**********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/isJanusConnected.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./init */ \"./client/src/communication/helper-functions/webrtc/sfu/init.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props) {\n    var _store$getState, webRtc, janusObj, janus, isJanusConnected;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            janusObj = webRtc.janus;\n\n            if (!janusObj) {\n              _context.next = 14;\n              break;\n            }\n\n            janus = janusObj.janus;\n\n            if (!janus) {\n              _context.next = 11;\n              break;\n            }\n\n            isJanusConnected = janus.isConnected();\n\n            if (!isJanusConnected) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", isJanusConnected);\n\n          case 8:\n            _context.next = 10;\n            return janus.reconnect();\n\n          case 10:\n            return _context.abrupt(\"return\", true);\n\n          case 11:\n            _context.next = 13;\n            return Object(_init__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props);\n\n          case 13:\n            return _context.abrupt(\"return\", true);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/isJanusConnected.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js":
/*!************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (meidaType) {\n  // console.log('media selector called', meidaType, preMediaType);\n  switch (meidaType) {\n    case 'audio':\n      return {\n        audio: true,\n        videoSend: false,\n        videoRecv: true,\n        replaceAudio: true,\n        data: true,\n        removeVideo: true\n      };\n\n    case 'video':\n      return {\n        audio: true,\n        video: true,\n        replaceVideo: true,\n        replaceAudio: true,\n        data: true\n      };\n\n    case 'screenshare':\n      return {\n        audio: true,\n        video: 'screen',\n        replaceVideo: true,\n        replaceAudio: true,\n        data: true\n      };\n\n    default:\n      return {\n        audio: true,\n        videoSend: false,\n        videoRecv: true,\n        replaceAudio: true,\n        data: true\n      };\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/resetCommunication.js":
/*!************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/resetCommunication.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(updateWebRtc) {\n    var todoRes, res;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('reset communication called');\n            todoRes = [updateWebRtc('communicationContainer', 'history'), updateWebRtc('screenShareNotAllowed', false), updateWebRtc('deviceNotAllowed', false), updateWebRtc('outGoingCallType', null), updateWebRtc('showOutgoingCall', false), updateWebRtc('showIncommingCall', false), updateWebRtc('peerConnections', {}), updateWebRtc('pendingOffers', {}), updateWebRtc('remoteStream', {}), updateWebRtc('currentOffer', null), updateWebRtc('iceCandidates', {}), updateWebRtc('liveIncomingCall', false), updateWebRtc('localCallHistory', {\n              callEnd: true\n            }), updateWebRtc('mainStreamId', null), updateWebRtc('streams', {}), updateWebRtc('connectedUsers', {}), updateWebRtc('isConnecting', false), updateWebRtc('isLive', false), updateWebRtc('recordedBlobs', [])];\n            _context.next = 4;\n            return Promise.all(todoRes);\n\n          case 4:\n            res = _context.sent;\n\n            if (!res) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", true);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/resetCommunication.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/socket-listner/index.js":
/*!**************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/socket-listner/index.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../socket */ \"./client/src/socket/index.js\");\n/* harmony import */ var _sfuPingPong__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sfuPingPong */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/sfuPingPong.js\");\n/* harmony import */ var _on_offer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./on-offer */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/index.js\");\n/* harmony import */ var _onSfuCallStatusChangeHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./onSfuCallStatusChangeHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/onSfuCallStatusChangeHandler.js\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, maximize) {\n  // initialize conferece call\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('sfuInit', function (data) {\n    var updateWebRtc = props.updateWebRtc;\n    var liveCallPingTimer = setInterval(_sfuPingPong__WEBPACK_IMPORTED_MODULE_3__[\"default\"], 5000);\n    updateWebRtc('liveCallPingTimer', liveCallPingTimer);\n    Object(_on_offer__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, state, data);\n  }); // change call Status handler\n\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('callStatus', /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(data) {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // console.log('call Status', data);\n              if (data) {\n                Object(_onSfuCallStatusChangeHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props, state, data);\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }()); // Handle sfu ping request\n\n  _socket__WEBPACK_IMPORTED_MODULE_2__[\"default\"].on('ping', function (data) {\n    // console.log('ping called', data);\n    if (data) {\n      Object(_sfuPingPong__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(data);\n    }\n  });\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/socket-listner/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/index.js":
/*!***********************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/index.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _offerInitializationHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./offerInitializationHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerInitializationHandler.js\");\n/* harmony import */ var _offerOnCommunicationOpen__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./offerOnCommunicationOpen */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationOpen.js\");\n/* harmony import */ var _offerOnCommunicationNotOpen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./offerOnCommunicationNotOpen */ \"./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationNotOpen.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _autoCloseHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../autoCloseHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/autoCloseHandler.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\n\n\n\n\n\nvar initCall = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props, state, data, webRtc) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Object(_offerInitializationHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, state, data);\n\n          case 2:\n            if (!webRtc.showCommunication) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 5;\n            return Object(_offerOnCommunicationOpen__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props, state, data);\n\n          case 5:\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.next = 9;\n            return Object(_offerOnCommunicationNotOpen__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, state, data);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function initCall(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar declineCall = /*#__PURE__*/function () {\n  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function declineCall() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(props, state, data) {\n    var _store$getState, webRtc, account, boardId, userId, apis;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            boardId = data.boardId, userId = data.userId;\n            apis = webRtc.apis;\n\n            if (!(webRtc.showIncommingCall || webRtc.isConnecting)) {\n              _context3.next = 8;\n              break;\n            }\n\n            declineCall('Call is busy', props, state, data, webRtc);\n            _context3.next = 21;\n            break;\n\n          case 8:\n            if (!webRtc.isLive) {\n              _context3.next = 17;\n              break;\n            }\n\n            if (!(webRtc.localCallHistory.chatHistory.connectionId === boardId)) {\n              _context3.next = 14;\n              break;\n            }\n\n            _context3.next = 12;\n            return initCall(props, state, data, webRtc);\n\n          case 12:\n            _context3.next = 15;\n            break;\n\n          case 14:\n            declineCall('Call is busy', props, state, data, webRtc);\n\n          case 15:\n            _context3.next = 21;\n            break;\n\n          case 17:\n            _context3.next = 19;\n            return initCall(props, state, data, webRtc);\n\n          case 19:\n            Object(_autoCloseHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props, state);\n            apis.sfuCallStatusChange({\n              callStatusDetails: {\n                broadCastType: 'Board',\n                broadCastId: boardId,\n                uid: account.user.id,\n                connectionId: boardId,\n                type: 'ringing'\n              },\n              userList: [{\n                userId: userId\n              }]\n            });\n\n          case 21:\n            _context3.next = 26;\n            break;\n\n          case 23:\n            _context3.prev = 23;\n            _context3.t0 = _context3[\"catch\"](0);\n            Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n              error: JSON.stringify(_context3.t0),\n              errorCode: 125\n            });\n\n          case 26:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 23]]);\n  }));\n\n  return function (_x5, _x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerInitializationHandler.js":
/*!********************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerInitializationHandler.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, state, data) {\n    var updateWebRtc, boardId, userId, _store$getState, webRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            updateWebRtc = props.updateWebRtc;\n            boardId = data.boardId, userId = data.userId;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            _context.next = 6;\n            return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, {\n              streams: []\n            })));\n\n          case 6:\n            _context.next = 8;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              callType: webRtc.localCallHistory.callType || 'Incoming'\n            }));\n\n          case 8:\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 126\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerInitializationHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationNotOpen.js":
/*!*********************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationNotOpen.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _conference_call_provider_errorHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../conference-call-provider/errorHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/errorHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, state, data) {\n    var updateWebRtc, boardId, userId, _store$getState, webRtc, database;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            updateWebRtc = props.updateWebRtc;\n            boardId = data.boardId, userId = data.userId;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, database = _store$getState.database;\n            _context.next = 6;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              chatHistory: {\n                type: 'board',\n                connectionId: boardId,\n                user: {\n                  user: database.User.byId[userId]\n                }\n              }\n            }));\n\n          case 6:\n            _context.next = 8;\n            return updateWebRtc('showCommunication', boardId);\n\n          case 8:\n            _context.next = 10;\n            return updateWebRtc('showIncommingCall', true);\n\n          case 10:\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_conference_call_provider_errorHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 127\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 12]]);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationNotOpen.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationOpen.js":
/*!******************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationOpen.js ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar onNotLiveHandler = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(updateWebRtc, webRtc, database, boardId, userId) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return updateWebRtc('communicationContainer', 'list');\n\n          case 2:\n            _context.next = 4;\n            return updateWebRtc('showCommunication', boardId);\n\n          case 4:\n            _context.next = 6;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              chatHistory: {\n                connectionId: boardId,\n                type: 'board',\n                user: {\n                  user: database.User.byId[userId]\n                }\n              }\n            }));\n\n          case 6:\n            updateWebRtc('showIncommingCall', true);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onNotLiveHandler(_x, _x2, _x3, _x4, _x5) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar onLiveHandler = /*#__PURE__*/function () {\n  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(props, state, data) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            try {// console.log('communication On live handler');\n            } catch (e) {\n              console.error('erro in onlive offer handler', e);\n            }\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function onLiveHandler(_x6, _x7, _x8) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(props, state, data) {\n    var _store$getState, database, updateWebRtc, userId, boardId, _store$getState2, webRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), database = _store$getState.database;\n            updateWebRtc = props.updateWebRtc;\n            userId = data.userId, boardId = data.boardId;\n            _store$getState2 = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState2.webRtc;\n\n            if (webRtc.isLive) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 8;\n            return onNotLiveHandler(updateWebRtc, webRtc, database, boardId, userId);\n\n          case 8:\n            _context3.next = 12;\n            break;\n\n          case 10:\n            _context3.next = 12;\n            return onLiveHandler(props, state, data);\n\n          case 12:\n            _context3.next = 17;\n            break;\n\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3[\"catch\"](0);\n            Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context3.t0),\n              errorCode: 128\n            });\n\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 14]]);\n  }));\n\n  return function (_x9, _x10, _x11) {\n    return _ref3.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/socket-listner/on-offer/offerOnCommunicationOpen.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/socket-listner/onSfuCallStatusChangeHandler.js":
/*!*************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/socket-listner/onSfuCallStatusChangeHandler.js ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, data) {\n  console.log('update sfu call status called', data);\n\n  try {\n    var uid = data.uid,\n        type = data.type;\n    var updateWebRtc = props.updateWebRtc;\n\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc;\n\n    var hasUser = webRtc.connectedUsers[uid];\n\n    if (hasUser) {\n      updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, _objectSpread(_objectSpread({}, webRtc.connectedUsers[uid]), {}, {\n        status: type,\n        streams: webRtc.connectedUsers[uid].streams || []\n      }))));\n    } else {\n      updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, uid, {\n        status: type,\n        streams: []\n      })));\n    }\n  } catch (e) {\n    Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      error: JSON.stringify(e),\n      errorCode: 129\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/socket-listner/onSfuCallStatusChangeHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/socket-listner/sfuPingPong.js":
/*!********************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/socket-listner/sfuPingPong.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../conference-call-provider/exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/conference-call-provider/exceptionHandler.js\");\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  // console.log('server pinpong called');\n  try {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        account = _store$getState.account;\n\n    var apis = webRtc.apis;\n\n    if (webRtc.localCallHistory.chatHistory) {\n      if (webRtc.localCallHistory.chatHistory.type === 'board' && webRtc.localCallHistory.chatHistory.connectionId) {\n        apis.sfuPingPong({\n          userId: account.user.id,\n          boardId: webRtc.localCallHistory.chatHistory.connectionId\n        });\n      }\n    }\n  } catch (e) {\n    Object(_conference_call_provider_exceptionHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      error: JSON.stringify(e),\n      errorCode: 130\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/socket-listner/sfuPingPong.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/attachPlugin.js":
/*!****************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/attachPlugin.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _webrtc_sfu_pluginAttachment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../webrtc/sfu/pluginAttachment */ \"./client/src/webrtc/sfu/pluginAttachment.js\");\n/* harmony import */ var _eventListner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./eventListner */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/eventListner.js\");\n/* harmony import */ var _errorHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./errorHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/errorHandler.js\");\n/* harmony import */ var _onLocalStreamHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./onLocalStreamHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/onLocalStreamHandler.js\");\n/* harmony import */ var _onRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./onRemoteStreamHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/onRemoteStreamHandler.js\");\n/* harmony import */ var _onDataChannelAvailable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./onDataChannelAvailable */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataChannelAvailable.js\");\n/* harmony import */ var _onDataHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./onDataHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props) {\n    var updateWebRtc, _store$getState, webRtc, account, janus, attachPluginRes, streaming, error, userId, updatedWebRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            updateWebRtc = props.updateWebRtc;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            janus = webRtc.janus.janus;\n            _context.next = 5;\n            return Object(_webrtc_sfu_pluginAttachment__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(janus, 'streaming', Object(_eventListner__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props), _errorHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"], Object(_onLocalStreamHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props), Object(_onRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props), Object(_onDataHandler__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(props), Object(_onDataChannelAvailable__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props));\n\n          case 5:\n            attachPluginRes = _context.sent;\n            // console.log('attach plugin res streaming', attachPluginRes);\n            streaming = attachPluginRes.streaming, error = attachPluginRes.error;\n            userId = account.user.id;\n\n            if (!streaming) {\n              _context.next = 13;\n              break;\n            }\n\n            updatedWebRtc = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().webRtc;\n            streaming.send({\n              message: {\n                request: 'register',\n                username: \"\".concat(userId)\n              }\n            });\n            _context.next = 13;\n            return updateWebRtc('janus', _objectSpread(_objectSpread({}, updatedWebRtc.janus), {}, {\n              streaming: streaming\n            }));\n\n          case 13:\n            if (error) {\n              Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n                error: JSON.stringify(error),\n                errorCode: 141\n              });\n            }\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/attachPlugin.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/errorHandler.js":
/*!****************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/errorHandler.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/exceptionHandler.js\");\n/* eslint-disable import/no-cycle */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (err) {\n  Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    error: JSON.stringify(err),\n    errorCode: 137\n  });\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/errorHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/eventListner.js":
/*!****************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/eventListner.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/exceptionHandler.js\");\n/* eslint-disable camelcase */\n\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (msg, jsep) {\n    try {\n      var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n          webRtc = _store$getState.webRtc;\n\n      console.log('streaming onMessage event called', msg);\n      var localCallHistory = webRtc.localCallHistory;\n      var updateWebRtc = props.updateWebRtc;\n      var janus = webRtc.janus;\n      var result = msg.result,\n          error = msg.error,\n          error_code = msg.error_code;\n\n      if (result) {\n        if (result.status) {\n          var status = result.status;\n\n          if (status === 'starting') {\n            console.log('stream starting');\n          } else if (status === 'started') {\n            console.log('stream started');\n          } else if (status === 'stopped') {\n            console.log('stream stoped');\n          }\n        }\n      } else if (msg.error) {\n        console.error('error in streamer', msg);\n      }\n\n      if (jsep) {\n        console.log('Handling SDP as well...', jsep);\n        var stereo = jsep.sdp.indexOf('stereo=1') !== -1;\n        var streaming = janus.streaming; // Offer from the plugin, let's answer\n\n        streaming.createAnswer({\n          jsep: jsep,\n          media: {\n            audioSend: false,\n            videoSend: false,\n            data: true\n          },\n          success: function success(jsep) {\n            console.debug('Got SDP!', jsep);\n            var body = {\n              request: 'start'\n            };\n            streaming.send({\n              message: body,\n              jsep: jsep\n            });\n          },\n          error: function error(e) {\n            console.error('WebRTC error:', e);\n          }\n        });\n      }\n    } catch (e) {\n      Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        error: JSON.stringify(e),\n        errorCode: 138\n      });\n    }\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/eventListner.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/exceptionHandler.js":
/*!********************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/exceptionHandler.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _attachPlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attachPlugin */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/attachPlugin.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionReporter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../exceptionReporter */ \"./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n // const attachPlugInHandler = async (props) => {\n//   await attachPlugin(props);\n//   const { webRtc } = store.getState();\n//   const { mediaType } = webRtc.localCallHistory;\n//   if (mediaType) {\n//     initCall(mediaType, props);\n//   }\n// };\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(errorObj, props) {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('streamer error', errorObj);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/exceptionHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/index.js":
/*!*********************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/index.js ***!
  \*********************************************************************************/
/*! exports provided: attachPlugin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _attachPlugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attachPlugin */ \"./client/src/communication/helper-functions/webrtc/sfu/streaming/attachPlugin.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"attachPlugin\", function() { return _attachPlugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataChannelAvailable.js":
/*!**************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataChannelAvailable.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (data) {// console.log('onDataChannelAvailableHandler called');\n    // const { webRtc, account } = store.getState();\n    // const { janus, localCallHistory } = webRtc;\n    // janus.oneToOneCall.data({ text: JSON.stringify({ callType: localCallHistory.mediaType, uid: account.user.id }) });\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataChannelAvailable.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataHandler.js":
/*!*****************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataHandler.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (data) {\n    var updateWebRtc = props.updateWebRtc;\n\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        account = _store$getState.account;\n\n    var jsData = JSON.parse(data);\n    console.log('Data in dataHandler', JSON.parse(data));\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/onDataHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/onLocalStreamHandler.js":
/*!************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/onLocalStreamHandler.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (stream) {\n    console.log('onLocalStreamHandler called', stream);\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/onLocalStreamHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/streaming/onRemoteStreamHandler.js":
/*!*************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/streaming/onRemoteStreamHandler.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\n\n/* eslint-disable no-undef */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(stream) {\n      var updateWebRtc, _store$getState, webRtc, element;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              updateWebRtc = props.updateWebRtc;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              _context.next = 4;\n              return updateWebRtc('remoteStream', stream);\n\n            case 4:\n              element = document.getElementById('remote-stream');\n              console.log('onRemoteStream handler', stream, element);\n              element.srcObject = stream; // console.log('remote stream handler', userId, store.getState().webRtc);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/streaming/onRemoteStreamHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/answerCall.js":
/*!************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/answerCall.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _janusMediaSelector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../janusMediaSelector */ \"./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\n\n/* eslint-disable prefer-promise-reject-errors */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaType, props) {\n    var _store$getState, webRtc, account, janusObj, oneToOneCall, createAnswerRes;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            janusObj = webRtc.janus;\n\n            if (!janusObj) {\n              _context.next = 13;\n              break;\n            }\n\n            oneToOneCall = janusObj.oneToOneCall;\n\n            if (!oneToOneCall) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 8;\n            return new Promise(function (resolve, reject) {\n              oneToOneCall.createAnswer({\n                jsep: janusObj.jsep,\n                media: Object(_janusMediaSelector__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mediaType),\n                iceRestart: true,\n                success: function success(jsep) {\n                  var body = {\n                    request: 'accept'\n                  };\n                  oneToOneCall.send({\n                    message: body,\n                    jsep: jsep\n                  });\n                  oneToOneCall.data({\n                    text: JSON.stringify({\n                      callType: mediaType,\n                      uid: account.user.id\n                    })\n                  });\n                  resolve({\n                    jsep: jsep,\n                    oneToOneCall: oneToOneCall\n                  });\n                },\n                error: function error(_error) {\n                  reject(_error);\n                }\n              });\n            });\n\n          case 8:\n            createAnswerRes = _context.sent;\n            return _context.abrupt(\"return\", createAnswerRes);\n\n          case 10:\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: 'videocall plugin not found during answering call',\n              errorCode: 136\n            }, props);\n            _context.next = 14;\n            break;\n\n          case 13:\n            throw 'Janus Obj is not found in web store';\n\n          case 14:\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 134\n            });\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 16]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/answerCall.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/attachPlugin.js":
/*!**************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/attachPlugin.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _webrtc_sfu_pluginAttachment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../webrtc/sfu/pluginAttachment */ \"./client/src/webrtc/sfu/pluginAttachment.js\");\n/* harmony import */ var _eventListner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./eventListner */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/eventListner.js\");\n/* harmony import */ var _errorHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./errorHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/errorHandler.js\");\n/* harmony import */ var _onLocalStreamHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./onLocalStreamHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onLocalStreamHandler.js\");\n/* harmony import */ var _onRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./onRemoteStreamHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onRemoteStreamHandler.js\");\n/* harmony import */ var _onDataChannelAvailable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./onDataChannelAvailable */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataChannelAvailable.js\");\n/* harmony import */ var _onDataHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./onDataHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n/* harmony import */ var _userRegistration__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./userRegistration */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/userRegistration.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props) {\n    var updateWebRtc, _store$getState, webRtc, account, janus, attachPluginRes, oneToOneCall, error, userId, updatedWebRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            updateWebRtc = props.updateWebRtc;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            janus = webRtc.janus.janus;\n            _context.next = 5;\n            return Object(_webrtc_sfu_pluginAttachment__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(janus, 'oneToOneCall', Object(_eventListner__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props), _errorHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"], Object(_onLocalStreamHandler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props), Object(_onRemoteStreamHandler__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props), Object(_onDataHandler__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(props), Object(_onDataChannelAvailable__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(props));\n\n          case 5:\n            attachPluginRes = _context.sent;\n            oneToOneCall = attachPluginRes.oneToOneCall, error = attachPluginRes.error;\n            userId = account.user.id;\n\n            if (!oneToOneCall) {\n              _context.next = 13;\n              break;\n            }\n\n            updatedWebRtc = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().webRtc; // oneToOneCall.send({ message: { request: 'register', username: `${userId}` } });\n\n            _context.next = 12;\n            return updateWebRtc('janus', _objectSpread(_objectSpread({}, updatedWebRtc.janus), {}, {\n              oneToOneCall: oneToOneCall\n            }));\n\n          case 12:\n            Object(_userRegistration__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(props);\n\n          case 13:\n            if (error) {\n              Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n                error: JSON.stringify(error),\n                errorCode: 141\n              });\n            }\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/attachPlugin.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/callUpgrader.js":
/*!**************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/callUpgrader.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _createOffer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createOffer */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/createOffer.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaType, props) {\n    var _store$getState, webRtc, account, janus, _yield$createOffer, jsep, error, oneToOneCall;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account;\n            janus = webRtc.janus;\n\n            if (!(mediaType === 'mute' || mediaType === 'unmute')) {\n              _context.next = 8;\n              break;\n            }\n\n            if (mediaType === 'mute') {\n              janus.oneToOneCall.muteAudio();\n            }\n\n            if (mediaType === 'unmute') {\n              janus.oneToOneCall.unmuteAudio();\n            }\n\n            _context.next = 17;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return Object(_createOffer__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mediaType);\n\n          case 10:\n            _yield$createOffer = _context.sent;\n            jsep = _yield$createOffer.jsep;\n            error = _yield$createOffer.error;\n            oneToOneCall = _yield$createOffer.oneToOneCall;\n\n            if (jsep) {\n              oneToOneCall.data({\n                text: JSON.stringify({\n                  callType: mediaType,\n                  uid: account.user.id\n                })\n              });\n              oneToOneCall.send({\n                message: {\n                  request: 'set'\n                },\n                jsep: jsep\n              });\n              oneToOneCall.send({\n                message: {\n                  request: 'set',\n                  bitrate: 256000\n                }\n              });\n            }\n\n            if (!error) {\n              _context.next = 17;\n              break;\n            }\n\n            throw error;\n\n          case 17:\n            _context.next = 22;\n            break;\n\n          case 19:\n            _context.prev = 19;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 133\n            });\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 19]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/callUpgrader.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/closeHandler.js":
/*!**************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/closeHandler.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _attachPlugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./attachPlugin */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/attachPlugin.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props, closeType) {\n    var _store$getState, webRtc, database, account, apis, janus, oneToOneCall, userId, connectionId, isFind, detachRes, _detachRes;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc, database = _store$getState.database, account = _store$getState.account;\n            apis = webRtc.apis, janus = webRtc.janus;\n            oneToOneCall = janus.oneToOneCall;\n\n            if (!oneToOneCall) {\n              _context.next = 25;\n              break;\n            }\n\n            // console.log('oneToOneCall hangup execute');\n            oneToOneCall.hangup();\n\n            if (!(closeType !== 'callReject')) {\n              _context.next = 18;\n              break;\n            }\n\n            if (!webRtc.localCallHistory.chatHistory) {\n              _context.next = 16;\n              break;\n            }\n\n            userId = webRtc.localCallHistory.chatHistory.user.user.id;\n            isFind = Object.values(database.UserConnection.byId).find(function (c) {\n              return c.mId === account.user.id && c.userId === userId;\n            });\n\n            if (isFind) {\n              connectionId = isFind.id;\n            } else {\n              connectionId = Object.values(database.UserConnection.byId).find(function (c) {\n                return c.userId === account.user.id && c.mId === userId;\n              }).id;\n            }\n\n            apis.sfuCallStatusChange({\n              callStatusDetails: {\n                broadCastType: 'UserConnection',\n                broadCastId: userId,\n                uid: account.user.id,\n                callType: webRtc.localCallHistory.callType || 'Misscall',\n                callDuration: webRtc.localCallHistory.startTime ? Date.now() - webRtc.localCallHistory.startTime : 0,\n                connectionId: connectionId,\n                type: 'declined'\n              },\n              userList: [{\n                userId: userId\n              }]\n            });\n            _context.next = 14;\n            return new Promise(function (resolve, reject) {\n              oneToOneCall.detach({\n                success: function success() {\n                  resolve(true);\n                },\n                error: function error(e) {\n                  reject(e);\n                }\n              });\n            });\n\n          case 14:\n            detachRes = _context.sent;\n\n            if (detachRes) {\n              Object(_attachPlugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props);\n            }\n\n          case 16:\n            _context.next = 23;\n            break;\n\n          case 18:\n            // detach and attach plugi[n again\n            console.log('plugin attach and detach called');\n            _context.next = 21;\n            return new Promise(function (resolve, reject) {\n              oneToOneCall.detach({\n                success: function success() {\n                  resolve(true);\n                },\n                error: function error(e) {\n                  reject(e);\n                }\n              });\n            });\n\n          case 21:\n            _detachRes = _context.sent;\n\n            if (_detachRes) {\n              Object(_attachPlugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props);\n            }\n\n          case 23:\n            _context.next = 26;\n            break;\n\n          case 25:\n            throw 'Video plugin not found';\n\n          case 26:\n            _context.next = 32;\n            break;\n\n          case 28:\n            _context.prev = 28;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(' error while closing one to one call', _context.t0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 140\n            });\n\n          case 32:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 28]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/closeHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/createOffer.js":
/*!*************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/createOffer.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _janusMediaSelector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../janusMediaSelector */ \"./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaType, props) {\n    var _store$getState, webRtc, janusObj, oneToOneCall, createOfferRes;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            janusObj = webRtc.janus;\n\n            if (!janusObj) {\n              _context.next = 13;\n              break;\n            }\n\n            oneToOneCall = janusObj.oneToOneCall;\n\n            if (!oneToOneCall) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 8;\n            return new Promise(function (resolve, reject) {\n              oneToOneCall.createOffer({\n                media: Object(_janusMediaSelector__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mediaType),\n                success: function success(jsep) {\n                  resolve({\n                    jsep: jsep,\n                    oneToOneCall: oneToOneCall\n                  });\n                },\n                error: function error(e) {\n                  if (e.name) {\n                    resolve({\n                      error: e.name\n                    });\n                  } else {\n                    resolve({\n                      error: e\n                    });\n                  }\n                }\n              });\n            });\n\n          case 8:\n            createOfferRes = _context.sent;\n            return _context.abrupt(\"return\", createOfferRes);\n\n          case 10:\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: 'videocall plugin not found during creating offer',\n              errorCode: 136\n            }, props);\n            _context.next = 14;\n            break;\n\n          case 13:\n            throw 'Janus Obj not found in webRtc';\n\n          case 14:\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 132\n            });\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 16]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/createOffer.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/errorHandler.js":
/*!**************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/errorHandler.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n/* eslint-disable import/no-cycle */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (err) {\n  Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    error: JSON.stringify(err),\n    errorCode: 137\n  });\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/errorHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/eventListner.js":
/*!**************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/eventListner.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _incomingCallHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./incomingCallHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/incomingCallHandler.js\");\n/* harmony import */ var _callAcceptHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../callAcceptHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/callAcceptHandler.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _janusMediaSelector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../janusMediaSelector */ \"./client/src/communication/helper-functions/webrtc/sfu/janusMediaSelector.js\");\n/* harmony import */ var _remoteHangupHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./remoteHangupHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/remoteHangupHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n/* harmony import */ var _userRegistration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./userRegistration */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/userRegistration.js\");\n/* harmony import */ var _registrationInformer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./registrationInformer */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/registrationInformer.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable camelcase */\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state) {\n  return function (msg, jsep) {\n    try {\n      var _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(),\n          webRtc = _store$getState.webRtc;\n\n      console.log('on message event called', msg, jsep);\n      var localCallHistory = webRtc.localCallHistory;\n      var updateWebRtc = props.updateWebRtc;\n      var janus = webRtc.janus;\n      var result = msg.result,\n          error = msg.error,\n          error_code = msg.error_code;\n\n      if (janus) {\n        var oneToOneCall = janus.oneToOneCall;\n\n        if (oneToOneCall) {\n          if (result !== null && result !== undefined) {\n            if (result.event !== undefined && result.event !== null) {\n              var event = result.event;\n\n              if (event === 'registered') {\n                // add flag that allow the registration again if faild;\n                var myusername = result.username;\n                Object(_registrationInformer__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(props, myusername);\n              } else if (event === 'calling') {\n                if (localCallHistory.chatHistory) {\n                  console.log('calling event handler', webRtc);\n                  var userId = localCallHistory.chatHistory.user.user.id;\n                  updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.connectedUsers[userId]), {}, {\n                    streams: [],\n                    status: 'ringing'\n                  }))));\n                }\n              } else if (event === 'incomingcall') {\n                Object(_incomingCallHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(props, state, msg, jsep);\n              } else if (event === 'accepted') {\n                // setting bit rate after 2 sec call accepted\n                setTimeout(function () {\n                  return oneToOneCall.send({\n                    message: {\n                      request: 'set',\n                      bitrate: 256000\n                    }\n                  });\n                }, 2000); // arrange ui by calling call accept func\n\n                Object(_callAcceptHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props, msg);\n\n                if (jsep) {\n                  oneToOneCall.handleRemoteJsep({\n                    jsep: jsep\n                  });\n                }\n              } else if (event === 'update') {\n                // console.log('update current session', 'type =>', jsep.type, 'mediaType =>', localCallHistory.mediaType);\n                if (jsep) {\n                  if (jsep.type === 'answer') {\n                    oneToOneCall.handleRemoteJsep({\n                      jsep: jsep\n                    });\n                  } else {\n                    oneToOneCall.createAnswer({\n                      jsep: jsep,\n                      media: localCallHistory.mediaType === 'screenshare' ? null : Object(_janusMediaSelector__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(localCallHistory.mediaType),\n                      success: function success(currentJsep) {\n                        var body = {\n                          request: 'set'\n                        };\n                        oneToOneCall.send({\n                          message: body,\n                          jsep: currentJsep\n                        });\n                      },\n                      error: function error(err) {\n                        throw err;\n                      }\n                    });\n                  }\n                }\n              } else if (event === 'hangup') {\n                Object(_remoteHangupHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props, state, msg);\n              }\n            }\n          } else if (jsep) {\n            if (jsep.type === 'answer') {\n              oneToOneCall.handleRemoteJsep(jsep);\n            }\n          } else if (error && error_code) {\n            if (error_code === 476) {\n              Object(_userRegistration__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(props, state, msg);\n            }\n\n            throw \"\".concat(error, \" errorCode: \").concat(error_code);\n          }\n        } else {\n          throw 'video plugin not found';\n        }\n      } else {\n        throw 'Janus not found in store';\n      }\n    } catch (e) {\n      console.log('event listner error', e);\n      Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n        error: JSON.stringify(e),\n        errorCode: 138\n      });\n    }\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/eventListner.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js":
/*!******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _attachPlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attachPlugin */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/attachPlugin.js\");\n/* harmony import */ var _initCall__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initCall */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/initCall.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionReporter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../exceptionReporter */ \"./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n\nvar attachPlugInHandler = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(props) {\n    var _store$getState, webRtc, mediaType;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Object(_attachPlugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props);\n\n          case 2:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            mediaType = webRtc.localCallHistory.mediaType;\n\n            if (mediaType) {\n              Object(_initCall__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(mediaType, props);\n            }\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function attachPlugInHandler(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar blockingError = function blockingError(errorObj) {\n  var error = errorObj.error;\n  var isNotAllowMediaError = error.includes('NotAllowedError');\n  var dispatch = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch;\n\n  if (isNotAllowMediaError) {\n    dispatch({\n      type: 'updateWebRtc',\n      schema: 'deviceNotAllowed',\n      payload: true\n    });\n  }\n};\n\nvar screenShareBlockErrorHandler = function screenShareBlockErrorHandler(errorObj) {\n  // console.log('screenShare block error handler', errorObj);\n  var error = errorObj.error;\n  var isNotAllowMediaError = error.includes('NotAllowedError');\n  var dispatch = _store__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch;\n\n  if (isNotAllowMediaError) {\n    dispatch({\n      type: 'updateWebRtc',\n      schema: 'screenShareNotAllowed',\n      payload: true\n    });\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(errorObj, props) {\n    var errorCode;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log('video call error', errorObj);\n            _context2.prev = 1;\n            errorCode = errorObj.errorCode;\n\n            if (!errorCode) {\n              _context2.next = 16;\n              break;\n            }\n\n            _context2.t0 = errorCode;\n            _context2.next = _context2.t0 === 136 ? 7 : _context2.t0 === 131 ? 9 : _context2.t0 === 134 ? 11 : _context2.t0 === 133 ? 13 : 15;\n            break;\n\n          case 7:\n            attachPlugInHandler(props);\n            return _context2.abrupt(\"break\", 16);\n\n          case 9:\n            blockingError(errorObj);\n            return _context2.abrupt(\"break\", 16);\n\n          case 11:\n            blockingError(errorObj);\n            return _context2.abrupt(\"break\", 16);\n\n          case 13:\n            screenShareBlockErrorHandler(errorObj);\n            return _context2.abrupt(\"break\", 16);\n\n          case 15:\n            Object(_exceptionReporter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(errorObj);\n\n          case 16:\n            _context2.next = 21;\n            break;\n\n          case 18:\n            _context2.prev = 18;\n            _context2.t1 = _context2[\"catch\"](1);\n            Object(_exceptionReporter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n              error: JSON.stringify(_context2.t1),\n              errorCode: 146\n            });\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 18]]);\n  }));\n\n  return function (_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/incomingCallHandler.js":
/*!*********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/incomingCallHandler.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _autoCloseHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../autoCloseHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/autoCloseHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props, state, msg, jsep) {\n    var updateWebRtc, _store$getState, webRtc, database, account, apis, showIncommingCall, result, userId, connectionId, isFind, broadCastId, type, user;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            updateWebRtc = props.updateWebRtc;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc, database = _store$getState.database, account = _store$getState.account;\n            apis = webRtc.apis, showIncommingCall = webRtc.showIncommingCall;\n            result = msg.result;\n            userId = parseInt(result.username.split('_')[0], 10);\n            isFind = Object.values(database.UserConnection.byId).find(function (c) {\n              return c.mId === account.user.id && c.userId === userId;\n            });\n\n            if (isFind) {\n              connectionId = isFind.id;\n            } else {\n              connectionId = Object.values(database.UserConnection.byId).find(function (c) {\n                return c.userId === account.user.id && c.mId === userId;\n              }).id;\n            }\n\n            broadCastId = parseInt(result.username, 10);\n            type = 'user';\n            user = database.UserConnection.byId[connectionId].user;\n\n            if (!(connectionId && user)) {\n              _context.next = 29;\n              break;\n            }\n\n            if (!(!webRtc.isLive && !showIncommingCall && !(webRtc.communicationContainer === 'connecting'))) {\n              _context.next = 26;\n              break;\n            }\n\n            _context.next = 15;\n            return updateWebRtc('janus', _objectSpread(_objectSpread({}, webRtc.janus), {}, {\n              jsep: jsep\n            }));\n\n          case 15:\n            _context.next = 17;\n            return updateWebRtc('chatHistory', {\n              connectionId: connectionId,\n              type: type,\n              user: user,\n              broadCastId: broadCastId\n            });\n\n          case 17:\n            _context.next = 19;\n            return updateWebRtc('showCommunication', parseInt(connectionId, 10));\n\n          case 19:\n            _context.next = 21;\n            return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n              chatHistory: {\n                connectionId: connectionId,\n                type: 'user',\n                user: database.UserConnection.byId[parseInt(connectionId, 10)].user,\n                broadCastId: broadCastId\n              },\n              callType: webRtc.localCallHistory.callType || 'Incoming'\n            }));\n\n          case 21:\n            _context.next = 23;\n            return updateWebRtc('showIncommingCall', true);\n\n          case 23:\n            Object(_autoCloseHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, state, 60000);\n            _context.next = 27;\n            break;\n\n          case 26:\n            apis.sfuCallStatusChange({\n              callStatusDetails: {\n                broadCastType: 'UserConnection',\n                broadCastId: broadCastId,\n                uid: account.user.id,\n                connectionId: connectionId,\n                type: 'busy'\n              },\n              userList: [{\n                userId: userId\n              }]\n            });\n\n          case 27:\n            _context.next = 30;\n            break;\n\n          case 29:\n            throw 'connectionId or user not found';\n\n          case 30:\n            _context.next = 35;\n            break;\n\n          case 32:\n            _context.prev = 32;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 135\n            });\n\n          case 35:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 32]]);\n  }));\n\n  return function (_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/incomingCallHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/index.js":
/*!*******************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/index.js ***!
  \*******************************************************************************************/
/*! exports provided: attachPlugin, initOneToOneCall */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _attachPlugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attachPlugin */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/attachPlugin.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"attachPlugin\", function() { return _attachPlugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _initCall__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./initCall */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/initCall.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"initOneToOneCall\", function() { return _initCall__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/index.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/initCall.js":
/*!**********************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/initCall.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n/* harmony import */ var _callUpgrader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./callUpgrader */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/callUpgrader.js\");\n/* harmony import */ var _createOffer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./createOffer */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/createOffer.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/(function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mediaType, props) {\n    var _store$getState, webRtc, account, database, localCallHistory, userId, chatHistory, _yield$createOffer, jsep, error, oneToOneCall, _Object$values$find, callId, body, apis, _callId, _body;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc, account = _store$getState.account, database = _store$getState.database;\n            localCallHistory = webRtc.localCallHistory;\n\n            if (localCallHistory) {\n              chatHistory = localCallHistory.chatHistory;\n\n              if (chatHistory) {\n                userId = chatHistory.user.user.id;\n              }\n            }\n\n            if (userId) {\n              _context.next = 6;\n              break;\n            }\n\n            throw 'User not found';\n\n          case 6:\n            if (!webRtc.isCallUpgraded) {\n              _context.next = 10;\n              break;\n            }\n\n            Object(_callUpgrader__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(mediaType, props);\n            _context.next = 33;\n            break;\n\n          case 10:\n            _context.next = 12;\n            return Object(_createOffer__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(mediaType, props);\n\n          case 12:\n            _yield$createOffer = _context.sent;\n            jsep = _yield$createOffer.jsep;\n            error = _yield$createOffer.error;\n            oneToOneCall = _yield$createOffer.oneToOneCall;\n\n            if (!jsep) {\n              _context.next = 31;\n              break;\n            }\n\n            _Object$values$find = Object.values(database.UserConnection.byId).find(function (c) {\n              return c.user.user.id === userId;\n            }), callId = _Object$values$find.callId;\n\n            if (!callId) {\n              _context.next = 24;\n              break;\n            }\n\n            body = {\n              request: 'call',\n              username: \"\".concat(callId)\n            };\n            oneToOneCall.data({\n              text: JSON.stringify({\n                callType: mediaType,\n                uid: account.user.id\n              })\n            });\n            oneToOneCall.send({\n              message: body,\n              jsep: jsep\n            });\n            _context.next = 31;\n            break;\n\n          case 24:\n            // ask for callId\n            apis = webRtc.apis;\n            _context.next = 27;\n            return apis.getCallId({\n              userId: userId\n            });\n\n          case 27:\n            _callId = _context.sent;\n            _body = {\n              request: 'call',\n              username: \"\".concat(_callId)\n            };\n            oneToOneCall.data({\n              text: JSON.stringify({\n                callType: mediaType,\n                uid: account.user.id\n              })\n            });\n            oneToOneCall.send({\n              message: _body,\n              jsep: jsep\n            });\n\n          case 31:\n            if (!error) {\n              _context.next = 33;\n              break;\n            }\n\n            throw error;\n\n          case 33:\n            _context.next = 38;\n            break;\n\n          case 35:\n            _context.prev = 35;\n            _context.t0 = _context[\"catch\"](0);\n            Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n              error: JSON.stringify(_context.t0),\n              errorCode: 131\n            });\n\n          case 38:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 35]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})());\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/initCall.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onCloseHandler.js":
/*!****************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onCloseHandler.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\n\n/* eslint-disable import/no-cycle */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(data) {\n      var _store$getState, webRtc, updateWebRtc, allTracks;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('On close handler called', data);\n              _context.prev = 1;\n              _store$getState = _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n              updateWebRtc = props.updateWebRtc;\n\n              if (!webRtc.isLive) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 7;\n              return updateWebRtc('chatHistory', webRtc.localCallHistory.chatHistory);\n\n            case 7:\n              if (webRtc.localCallHistory.stream) {\n                if (webRtc.localCallHistory.stream.active) {\n                  allTracks = webRtc.localCallHistory.stream.getTracks();\n                  allTracks.forEach(function (track) {\n                    return track.stop();\n                  });\n                }\n              }\n\n            case 8:\n              _context.next = 10;\n              return updateWebRtc('communicationContainer', 'history');\n\n            case 10:\n              _context.next = 12;\n              return updateWebRtc('outGoingCallType', null);\n\n            case 12:\n              _context.next = 14;\n              return updateWebRtc('showOutgoingCall', false);\n\n            case 14:\n              _context.next = 16;\n              return updateWebRtc('peerConnections', {});\n\n            case 16:\n              _context.next = 18;\n              return updateWebRtc('pendingOffers', {});\n\n            case 18:\n              _context.next = 20;\n              return updateWebRtc('remoteStream', {});\n\n            case 20:\n              _context.next = 22;\n              return updateWebRtc('currentOffer', null);\n\n            case 22:\n              _context.next = 24;\n              return updateWebRtc('iceCandidates', {});\n\n            case 24:\n              _context.next = 26;\n              return updateWebRtc('liveIncomingCall', false);\n\n            case 26:\n              _context.next = 28;\n              return updateWebRtc('isLive', false);\n\n            case 28:\n              _context.next = 30;\n              return updateWebRtc('localCallHistory', {\n                callEnd: true\n              });\n\n            case 30:\n              _context.next = 32;\n              return updateWebRtc('mainStreamId', null);\n\n            case 32:\n              _context.next = 34;\n              return updateWebRtc('streams', {});\n\n            case 34:\n              _context.next = 36;\n              return updateWebRtc('connectedUsers', {});\n\n            case 36:\n              _context.next = 38;\n              return updateWebRtc('isConnecting', false);\n\n            case 38:\n              _context.next = 40;\n              return updateWebRtc('showIncommingCall', false);\n\n            case 40:\n              _context.next = 42;\n              return updateWebRtc('screenShareNotAllowed', false);\n\n            case 42:\n              _context.next = 44;\n              return updateWebRtc('deviceNotAllowed', false);\n\n            case 44:\n              _context.next = 46;\n              return updateWebRtc('recordedBlobs', []);\n\n            case 46:\n              _context.next = 52;\n              break;\n\n            case 48:\n              _context.prev = 48;\n              _context.t0 = _context[\"catch\"](1);\n              console.log('on close handler', _context.t0);\n              Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n                error: JSON.stringify(_context.t0),\n                errorCode: 147\n              });\n\n            case 52:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 48]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onCloseHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataChannelAvailable.js":
/*!************************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataChannelAvailable.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (data) {// console.log('onDataChannelAvailableHandler called');\n    // const { webRtc, account } = store.getState();\n    // const { janus, localCallHistory } = webRtc;\n    // janus.oneToOneCall.data({ text: JSON.stringify({ callType: localCallHistory.mediaType, uid: account.user.id }) });\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataChannelAvailable.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataHandler.js":
/*!***************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataHandler.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar setResetForStreamUpdate = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(props) {\n    var updateWebRtc, _store$getState, webRtc;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            updateWebRtc = props.updateWebRtc;\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n\n            if (webRtc.updateStream) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 5;\n            return updateWebRtc('updateStream', true);\n\n          case 5:\n            setTimeout(function () {\n              updateWebRtc('updateStream', false);\n            }, 5000);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function setResetForStreamUpdate(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (data) {\n    var updateWebRtc = props.updateWebRtc;\n\n    var _store$getState2 = _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState(),\n        webRtc = _store$getState2.webRtc,\n        account = _store$getState2.account;\n\n    var jsData = JSON.parse(data);\n    console.log('Data in dataHandler', JSON.parse(data));\n\n    if (jsData.callType) {\n      var connectedUsers = webRtc.connectedUsers;\n      var connectedUser = connectedUsers[jsData.uid];\n\n      if (connectedUser) {\n        setResetForStreamUpdate(props);\n\n        if (connectedUser.type !== jsData.callType) {\n          updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, jsData.uid, _objectSpread(_objectSpread({}, webRtc.connectedUsers[jsData.uid]), {}, {\n            type: jsData.callType\n          }))));\n          webRtc.janus.oneToOneCall.data({\n            text: JSON.stringify({\n              callType: webRtc.localCallHistory.mediaType,\n              uid: account.user.id\n            })\n          });\n        }\n      }\n    }\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onDataHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onLocalStreamHandler.js":
/*!**********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onLocalStreamHandler.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return function (stream) {\n    // console.log('onLocalStreamHandler called', stream);\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        account = _store$getState.account;\n\n    var updateWebRtc = props.updateWebRtc;\n    updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n      stream: stream,\n      callEnd: false\n    }));\n    updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, account.user.id, {\n      streams: [stream]\n    })));\n  };\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onLocalStreamHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onRemoteStreamHandler.js":
/*!***********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onRemoteStreamHandler.js ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _mesh_mediaRecoder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../mesh/mediaRecoder */ \"./client/src/communication/helper-functions/webrtc/mesh/mediaRecoder.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n/* eslint-disable no-undef */\n\n\n\n\nvar stopAndRecordStream = /*#__PURE__*/function () {\n  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(props, userId, stream) {\n    var _store$getState, webRtc, updateWebRtc, mediaRecording;\n\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _store$getState = _store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState(), webRtc = _store$getState.webRtc;\n            updateWebRtc = props.updateWebRtc;\n\n            if (!webRtc.mediaRecording) {\n              _context.next = 9;\n              break;\n            }\n\n            webRtc.mediaRecording.stopRecording();\n            _context.next = 6;\n            return Object(_mesh_mediaRecoder__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(1, props);\n\n          case 6:\n            mediaRecording = _context.sent;\n            _context.next = 9;\n            return updateWebRtc('mediaRecording', mediaRecording);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function stopAndRecordStream(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(stream, uid) {\n      var updateWebRtc, _store$getState2, webRtc, updateStream, userId, hasUser, hasSameStream;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              updateWebRtc = props.updateWebRtc;\n              _store$getState2 = _store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState(), webRtc = _store$getState2.webRtc;\n              updateStream = webRtc.updateStream; // console.log('onRemoteStream handler', stream, 'updateStream status', updateStream);\n\n              if (!webRtc.localCallHistory.chatHistory) {\n                _context2.next = 23;\n                break;\n              }\n\n              userId = webRtc.localCallHistory.chatHistory.user.user.id;\n              hasUser = webRtc.connectedUsers[userId];\n\n              if (!hasUser) {\n                _context2.next = 15;\n                break;\n              }\n\n              hasSameStream = hasUser.streams.find(function (s) {\n                return lodash__WEBPACK_IMPORTED_MODULE_4___default.a.isEqual(s, stream);\n              });\n\n              if (!(!hasSameStream || updateStream)) {\n                _context2.next = 13;\n                break;\n              }\n\n              _context2.next = 11;\n              return stopAndRecordStream(props, userId, stream);\n\n            case 11:\n              _context2.next = 13;\n              return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.connectedUsers[userId]), {}, {\n                streams: webRtc.connectedUsers[userId] ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(webRtc.connectedUsers[userId].streams), [stream]) : [stream]\n              }))));\n\n            case 13:\n              _context2.next = 17;\n              break;\n\n            case 15:\n              _context2.next = 17;\n              return updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.connectedUsers[userId]), {}, {\n                streams: webRtc.connectedUsers[userId] ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(webRtc.connectedUsers[userId].streams), [stream]) : [stream]\n              }))));\n\n            case 17:\n              _context2.next = 19;\n              return updateWebRtc('localCallHistory', _objectSpread(_objectSpread({}, webRtc.localCallHistory), {}, {\n                startTime: webRtc.localCallHistory.startTime || Date.now()\n              }));\n\n            case 19:\n              _context2.next = 21;\n              return updateWebRtc('lastStreamId', userId);\n\n            case 21:\n              _context2.next = 23;\n              return updateWebRtc('isLive', true);\n\n            case 23:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onRemoteStreamHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/registrationInformer.js":
/*!**********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/registrationInformer.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, callId) {\n  try {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc,\n        account = _store$getState.account;\n\n    var apis = webRtc.apis;\n    apis.videoCallUserRegistration({\n      callId: callId,\n      userId: account.user.id\n    });\n  } catch (e) {\n    console.error('Error in registration informer', userName);\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/registrationInformer.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/remoteHangupHandler.js":
/*!*********************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/remoteHangupHandler.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n/* harmony import */ var _onCloseHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./onCloseHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/onCloseHandler.js\");\n/* harmony import */ var _exceptionHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./exceptionHandler */ \"./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/exceptionHandler.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable import/no-cycle */\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props, state, msg) {\n  console.log('remote HangupHandler', msg);\n\n  try {\n    var _store$getState = _store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState(),\n        webRtc = _store$getState.webRtc;\n\n    var localCallHistory = webRtc.localCallHistory,\n        isLive = webRtc.isLive,\n        showIncommingCall = webRtc.showIncommingCall,\n        communicationContainer = webRtc.communicationContainer;\n\n    if ((isLive || showIncommingCall || communicationContainer === 'connecting') && localCallHistory.chatHistory) {\n      var type = localCallHistory.chatHistory.type;\n\n      if (type === 'user') {\n        var result = msg.result;\n        var updateWebRtc = props.updateWebRtc;\n        var reason = result.reason;\n\n        if (reason === 'User busy') {\n          var userId = webRtc.localCallHistory.chatHistory.user.user.id;\n          updateWebRtc('connectedUsers', _objectSpread(_objectSpread({}, webRtc.connectedUsers), {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, userId, _objectSpread(_objectSpread({}, webRtc.connectedUsers[userId]), {}, {\n            status: 'busy'\n          }))));\n        }\n\n        if (reason === 'Remote WebRTC hangup') {\n          Object(_onCloseHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props)('remoteHangup');\n        }\n      }\n    }\n  } catch (e) {\n    console.log('Remote hangup error', e);\n    Object(_exceptionHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      error: JSON.stringify(e),\n      errorCode: 139\n    });\n  }\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/remoteHangupHandler.js?");

/***/ }),

/***/ "./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/userRegistration.js":
/*!******************************************************************************************************!*\
  !*** ./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/userRegistration.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../store */ \"./client/src/store/index.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (props) {\n  var _store$getState = _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getState(),\n      webRtc = _store$getState.webRtc,\n      account = _store$getState.account;\n\n  var apis = webRtc.apis,\n      janus = webRtc.janus;\n  var oneToOneCall = janus.oneToOneCall;\n  var userId = account.user.id;\n  oneToOneCall.send({\n    message: {\n      request: 'register',\n      username: \"\".concat(userId, \"_\").concat(Date.now())\n    }\n  });\n});\n\n//# sourceURL=webpack:///./client/src/communication/helper-functions/webrtc/sfu/video-call-provider/userRegistration.js?");

/***/ }),

/***/ "./client/src/communication/index.js":
/*!*******************************************!*\
  !*** ./client/src/communication/index.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"../../node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-redux */ \"../../node_modules/react-redux/es/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../actions */ \"./client/src/actions/index.js\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../socket */ \"./client/src/socket/index.js\");\n/* harmony import */ var _helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./helper-functions/webrtc/sfu */ \"./client/src/communication/helper-functions/webrtc/sfu/index.js\");\n/* harmony import */ var _common_ErrorBoundary__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/ErrorBoundary */ \"./client/src/common/ErrorBoundary.js\");\n/* harmony import */ var _chatlist_helper_function__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./chatlist/helper-function */ \"./client/src/communication/chatlist/helper-function/index.js\");\n/* harmony import */ var _helper_functions_webrtc_sfu_exceptionReporter__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./helper-functions/webrtc/sfu/exceptionReporter */ \"./client/src/communication/helper-functions/webrtc/sfu/exceptionReporter.js\");\n/* harmony import */ var _screen_provider__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./screen-provider */ \"./client/src/communication/screen-provider/index.js\");\n/* harmony import */ var react_icons_ai__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-icons/ai */ \"../../node_modules/react-icons/ai/index.esm.js\");\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable import/no-cycle */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n\n\n\n\n\n\n\n\n\n\n\nvar Communication = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Communication, _React$Component);\n\n  var _super = _createSuper(Communication);\n\n  function Communication() {\n    var _temp, _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, Communication);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.state = {\n      apis: null,\n      maximize: false\n    }, _this.remoteCallEndMinimizer = function () {\n      _this.setState({\n        maximize: false\n      });\n    }, _this.toggleMinMax = function () {\n      var _this$props = _this.props,\n          webRtc = _this$props.webRtc,\n          updateWebRtc = _this$props.updateWebRtc;\n\n      if (webRtc.minimize) {\n        updateWebRtc('minimize', false);\n        return;\n      }\n\n      updateWebRtc('minimize', true);\n\n      _this.setState({\n        maximize: false\n      });\n    }, _this.cutWindow = function () {\n      var _this$props2 = _this.props,\n          updateWebRtc = _this$props2.updateWebRtc,\n          webRtc = _this$props2.webRtc;\n      var apis = _this.state.apis;\n      updateWebRtc('minimize', false);\n\n      _this.setState({\n        maximize: false\n      });\n\n      if (webRtc.isLive) {\n        Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_14__[\"closeHandler\"])(_this.props, _this.state, apis)();\n      }\n\n      updateWebRtc('showCommunication', false);\n      updateWebRtc('showIncommingCall', false);\n    }, _this.switchScreen = /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(target) {\n        var updateWebRtc;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                updateWebRtc = _this.props.updateWebRtc;\n                updateWebRtc('communicationContainer', target);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), _this.maximize = function () {\n      var maximize = _this.state.maximize;\n\n      _this.setState({\n        maximize: !maximize\n      });\n    }, _temp));\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Communication, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2() {\n        var updateWebRtc, apisRes, chatList;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                updateWebRtc = this.props.updateWebRtc;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _socket__WEBPACK_IMPORTED_MODULE_13__[\"default\"].scope('Mentee');\n\n              case 4:\n                apisRes = _context2.sent;\n                _context2.next = 7;\n                return this.setState({\n                  apis: apisRes\n                });\n\n              case 7:\n                _context2.next = 9;\n                return updateWebRtc('apis', apisRes);\n\n              case 9:\n                _context2.next = 11;\n                return apisRes.getChatlist();\n\n              case 11:\n                chatList = _context2.sent;\n                _context2.next = 14;\n                return updateWebRtc('chatList', chatList);\n\n              case 14:\n                _context2.next = 16;\n                return Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_14__[\"initJanus\"])(this.props, this.state);\n\n              case 16:\n                _context2.next = 18;\n                return Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_14__[\"deviceTest\"])(updateWebRtc);\n\n              case 18:\n                Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_14__[\"sfuSocketListner\"])(this.props, this.state, this.remoteCallEndMinimizer);\n                _context2.next = 24;\n                break;\n\n              case 21:\n                _context2.prev = 21;\n                _context2.t0 = _context2[\"catch\"](1);\n                Object(_helper_functions_webrtc_sfu_exceptionReporter__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n                  error: _context2.t0,\n                  errorCode: 148\n                });\n\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 21]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      Object(_chatlist_helper_function__WEBPACK_IMPORTED_MODULE_16__[\"updateChatList\"])(newProps, this.props);\n      Object(_chatlist_helper_function__WEBPACK_IMPORTED_MODULE_16__[\"updateUserActiveStatus\"])(newProps, this.props);\n      Object(_chatlist_helper_function__WEBPACK_IMPORTED_MODULE_16__[\"updateBoardActiveStatus\"])(newProps, this.props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log('Props in communications', this.props);\n      var _this$state = this.state,\n          maximize = _this$state.maximize,\n          apis = _this$state.apis;\n      var height = '75%';\n\n      if (maximize) {\n        height = '100%';\n      }\n\n      var webRtc = this.props.webRtc;\n\n      if (webRtc.minimize) {\n        height = '40px';\n      }\n\n      return (webRtc.showIncommingCall || webRtc.showCommunication) && apis && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_common_ErrorBoundary__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"div\", {\n        className: maximize ? 'communicate pc-com-maximum' : 'communicate',\n        style: {\n          height: height,\n          animationName: webRtc.minimize ? 'slideDown' : 'slideUp',\n          animationDuration: '0.3s'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"div\", {\n        className: \"header\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"div\", {\n        className: \"win-title\",\n        onClick: this.toggleMinMax\n      }, \"Messages\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"div\", {\n        className: \"control-icons\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_19__[\"AiOutlineMinus\"], {\n        size: 20,\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: this.toggleMinMax\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_19__[\"AiOutlineClose\"], {\n        size: 20,\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: this.cutWindow\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"div\", {\n        style: {\n          overflow: 'hidden'\n        },\n        className: \"content\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_screen_provider__WEBPACK_IMPORTED_MODULE_18__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n        maximize: maximize,\n        maximizeHandler: this.maximize,\n        switchScreenHandler: this.switchScreen,\n        remoteCallEndMinimizer: this.remoteCallEndMinimizer,\n        swRegistration: this.state.swRegistration\n      }, this.props)))));\n    }\n  }]);\n\n  return Communication;\n}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);\n\nCommunication.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.any).isRequired,\n  database: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.any).isRequired,\n  account: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.any).isRequired,\n  updateWebRtc: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,\n  addDatabaseSchema: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_10__[\"connect\"])(mapStateToProps, _objectSpread({}, _actions__WEBPACK_IMPORTED_MODULE_12__))(Communication));\n\n//# sourceURL=webpack:///./client/src/communication/index.js?");

/***/ }),

/***/ "./client/src/communication/screen-provider/index.js":
/*!***********************************************************!*\
  !*** ./client/src/communication/screen-provider/index.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"../../node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"../../node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"../../node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _chatlist__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../chatlist */ \"./client/src/communication/chatlist/index.js\");\n/* harmony import */ var _chathistory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../chathistory */ \"./client/src/communication/chathistory/index.js\");\n/* harmony import */ var _callscreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../callscreen */ \"./client/src/communication/callscreen/index.js\");\n/* harmony import */ var _callscreen_incomming_screen__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../callscreen/incomming-screen */ \"./client/src/communication/callscreen/incomming-screen/index.js\");\n/* harmony import */ var _helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helper-functions/webrtc/sfu */ \"./client/src/communication/helper-functions/webrtc/sfu/index.js\");\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\nvar ScreenProvider = /*#__PURE__*/function (_React$Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(ScreenProvider, _React$Component);\n\n  var _super = _createSuper(ScreenProvider);\n\n  function ScreenProvider() {\n    var _temp, _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ScreenProvider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.state = {}, _temp));\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ScreenProvider, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          webRtc = _this$props.webRtc,\n          switchScreenHandler = _this$props.switchScreenHandler,\n          maximizeHandler = _this$props.maximizeHandler,\n          maximize = _this$props.maximize,\n          remoteCallEndMinimizer = _this$props.remoteCallEndMinimizer;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, !webRtc.showIncommingCall && webRtc.showCommunication && webRtc.communicationContainer === 'list' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_chatlist__WEBPACK_IMPORTED_MODULE_8__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n        change: switchScreenHandler\n      }, this.props)), !webRtc.showIncommingCall && webRtc.communicationContainer === 'history' && webRtc.chatHistory && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_chathistory__WEBPACK_IMPORTED_MODULE_9__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n        change: switchScreenHandler,\n        _callHandler: Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_12__[\"callHandler\"])(this.props)\n      }, this.props)), !webRtc.showIncommingCall && webRtc.communicationContainer === 'connecting' && webRtc.localCallHistory.chatHistory && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_callscreen__WEBPACK_IMPORTED_MODULE_10__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n        toggleMaximize: maximizeHandler,\n        isMaximum: maximize,\n        minimize: webRtc.minimize,\n        remoteCallEndMinimizer: remoteCallEndMinimizer,\n        change: switchScreenHandler,\n        closeHandler: Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_12__[\"closeHandler\"])(this.props),\n        _callHandler: Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_12__[\"callHandler\"])(this.props)\n      }, this.props)), webRtc.showIncommingCall && webRtc.localCallHistory.chatHistory && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_callscreen_incomming_screen__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n        change: switchScreenHandler,\n        webRtc: webRtc,\n        answerHandler: Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_12__[\"answerHandler\"])(this.props),\n        closeHandler: Object(_helper_functions_webrtc_sfu__WEBPACK_IMPORTED_MODULE_12__[\"closeHandler\"])(this.props)\n      }, this.props)));\n    }\n  }]);\n\n  return ScreenProvider;\n}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScreenProvider);\nScreenProvider.propTypes = {\n  webRtc: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any).isRequired,\n  switchScreenHandler: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,\n  maximizeHandler: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,\n  maximize: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,\n  remoteCallEndMinimizer: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired\n};\n\n//# sourceURL=webpack:///./client/src/communication/screen-provider/index.js?");

/***/ }),

/***/ "./client/src/webrtc/mesh/main/index.js":
/*!**********************************************!*\
  !*** ./client/src/webrtc/mesh/main/index.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return main; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction main(_x, _x2, _x3, _x4, _x5, _x6, _x7) {\n  return _main.apply(this, arguments);\n}\n\nfunction _main() {\n  _main = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(onIceCandidateHandler, uid, gotRemoteStreamHandler, onIceConnectionStateChange, offerHandler, onLocalStream, iceGatherCompleteHandler) {\n    var userId, server, pc, setLocalDescription, addCandidate, setRemoteDescription, createOffer, createAnswer, addIceCandidate;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            // server configuration\n            userId = uid;\n            server = {\n              iceServers: [{\n                urls: ['stun:stun.l.google.com:19302']\n              }, {\n                urls: ['turn:properclass.com:3478?transport=tcp'],\n                // urls: ['turn:properclass.com:3478?transport=tcp'],\n                username: 'properclass',\n                credential: 'proper199201'\n              }]\n            }; // Initialize peerconnection\n\n            _context3.prev = 2;\n            pc = new RTCPeerConnection(server); // Adding icecandidate listner\n\n            pc.addEventListener('icecandidate', function (e) {\n              return onIceCandidateHandler(e, userId);\n            }); // Adding IceConnection State Change\n\n            pc.addEventListener('iceconnectionstatechange', function (e) {\n              return onIceConnectionStateChange(e, pc, userId);\n            }); // Adding Ontrack listner\n\n            pc.addEventListener('track', function (e) {\n              return gotRemoteStreamHandler(e, userId);\n            });\n\n            pc.onicecandidateerror = function (e) {\n              return console.error('Error on onIceCandidate', e);\n            }; // tracking the ice canidate gather complete\n\n\n            pc.onicegatheringstatechange = function (info) {\n              return iceGatherCompleteHandler(userId, info.target.iceGatheringState);\n            }; // seting Local Description\n\n\n            setLocalDescription = function setLocalDescription(data) {\n              pc.setLocalDescription(data);\n            };\n\n            addCandidate = function addCandidate(data) {\n              pc.addIceCandidate(new RTCIceCandidate(JSON.parse(data)));\n            }; // seting Remote Description\n\n\n            setRemoteDescription = function setRemoteDescription(data) {\n              // console.log('setRemote description called for anser', data);\n              pc.setRemoteDescription(data);\n            }; // creating offer for list of users\n\n\n            createOffer = /*#__PURE__*/function () {\n              var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(stream) {\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        // console.log(`${userId}) CREATE OFFER`, stream);\n                        onLocalStream(stream, userId);\n                        stream.getTracks().forEach(function (track) {\n                          return pc.addTrack(track, stream);\n                        });\n                        pc.createOffer(function (offer) {\n                          setLocalDescription(offer);\n                          offerHandler(offer, userId);\n                        }, function (error) {\n                          console.error('error in create offer', error);\n                        }, {\n                          mandatory: {\n                            OfferToReceiveAudio: true,\n                            OfferToReceiveVideo: true\n                          }\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function createOffer(_x8) {\n                return _ref.apply(this, arguments);\n              };\n            }(); // creating Answer for offer\n\n\n            createAnswer = /*#__PURE__*/function () {\n              var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(data, stream) {\n                var answer;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n\n                        // console.log(`${userId}) CREATE ANSWER`, data);\n                        if (stream) {\n                          stream.getTracks().forEach(function (track) {\n                            return pc.addTrack(track, stream);\n                          });\n                          onLocalStream(stream, userId);\n                        }\n\n                        setRemoteDescription(data);\n                        _context2.next = 5;\n                        return pc.createAnswer();\n\n                      case 5:\n                        answer = _context2.sent;\n                        setLocalDescription(answer);\n                        return _context2.abrupt(\"return\", answer);\n\n                      case 10:\n                        _context2.prev = 10;\n                        _context2.t0 = _context2[\"catch\"](0);\n                        console.error('Error in Create Answer', userId, data);\n\n                      case 13:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, null, [[0, 10]]);\n              }));\n\n              return function createAnswer(_x9, _x10) {\n                return _ref2.apply(this, arguments);\n              };\n            }(); // Adding remoteIceCandidate\n\n\n            addIceCandidate = function addIceCandidate(candidate) {\n              // console.log(`${userId}) ADD REMOTE ICECANDIDATE`, candidate);\n              pc.addIceCandidate(new RTCIceCandidate(JSON.parse(candidate)));\n            };\n\n            return _context3.abrupt(\"return\", {\n              pc: pc,\n              createOffer: createOffer,\n              createAnswer: createAnswer,\n              addIceCandidate: addIceCandidate,\n              setRemoteDescription: setRemoteDescription,\n              addCandidate: addCandidate\n            });\n\n          case 18:\n            _context3.prev = 18;\n            _context3.t0 = _context3[\"catch\"](2);\n            console.error('Error in Creating turn server', _context3.t0);\n\n          case 21:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[2, 18]]);\n  }));\n  return _main.apply(this, arguments);\n}\n\n//# sourceURL=webpack:///./client/src/webrtc/mesh/main/index.js?");

/***/ }),

/***/ "./client/src/webrtc/sfu/index.js":
/*!****************************************!*\
  !*** ./client/src/webrtc/sfu/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! webrtc-adapter */ \"../../node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var _janus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./janus */ \"./client/src/webrtc/sfu/janus.js\");\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n  var janusRes;\n  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _janus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init({\n            debug: false,\n            dependencies: _janus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].useDefaultDependencies({\n              adapter: webrtc_adapter__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n            }),\n            // or: Janus.useOldDependencies() to get the behaviour of previous Janus versions\n            callback: function callback() {\n              _janus__WEBPACK_IMPORTED_MODULE_3__[\"default\"].log('Janus API support ok'); // Janus working fine\n            }\n          });\n          _context.next = 3;\n          return new Promise(function (resolve) {\n            var janus = new _janus__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n              server: 'wss://properclass.com:8989/janus',\n              // server: 'http://localhost:8088/janus',\n              apisecret: 'properclassdotcom@654123',\n              // iceServers: [{ urls: 'turn:properclass.com:3478?transport=tcp', username: 'properclass', credential: 'proper199201' }],\n              success: function success() {\n                resolve({\n                  janus: janus\n                });\n              },\n              error: function error(cause) {\n                resolve({\n                  error: cause,\n                  errorCode: 200\n                });\n              },\n              destroyed: function destroyed() {\n                resolve({\n                  error: 'janus destroyed',\n                  errorCode: 201\n                });\n              }\n            });\n          });\n\n        case 3:\n          janusRes = _context.sent;\n          return _context.abrupt(\"return\", janusRes);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})));\n\n//# sourceURL=webpack:///./client/src/webrtc/sfu/index.js?");

/***/ }),

/***/ "./client/src/webrtc/sfu/janus.js":
/*!****************************************!*\
  !*** ./client/src/webrtc/sfu/janus.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"../../node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/* eslint-disable */\n\n/*\n * Module shim for rollup.js to work with.\n * Simply re-export Janus from janus.js, the real 'magic' is in the rollup config.\n *\n * Since this counts as 'autogenerated' code, ESLint is instructed to ignore the contents of this file when linting your project.\n */\n\n/*\n\tThe MIT License (MIT)\n\n\tCopyright (c) 2016 Meetecho\n\n\tPermission is hereby granted, free of charge, to any person obtaining\n\ta copy of this software and associated documentation files (the \"Software\"),\n\tto deal in the Software without restriction, including without limitation\n\tthe rights to use, copy, modify, merge, publish, distribute, sublicense,\n\tand/or sell copies of the Software, and to permit persons to whom the\n\tSoftware is furnished to do so, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included\n\tin all copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\tOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n\tTHE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n\tOTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n\tARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n\tOTHER DEALINGS IN THE SOFTWARE.\n */\n// List of sessions\nJanus.sessions = {};\n\nJanus.isExtensionEnabled = function () {\n  if (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {\n    // No need for the extension, getDisplayMedia is supported\n    return true;\n  }\n\n  if (window.navigator.userAgent.match('Chrome')) {\n    var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n    var maxver = 33;\n    if (window.navigator.userAgent.match('Linux')) maxver = 35; // \"known\" crash in chrome 34 and 35 on linux\n\n    if (chromever >= 26 && chromever <= maxver) {\n      // Older versions of Chrome don't support this extension-based approach, so lie\n      return true;\n    }\n\n    return Janus.extension.isInstalled();\n  } else {\n    // Firefox of others, no need for the extension (but this doesn't mean it will work)\n    return true;\n  }\n};\n\nvar defaultExtension = {\n  // Screensharing Chrome Extension ID\n  extensionId: 'hapfgfdkleiggjjpfpenajgdnfckjpaj',\n  isInstalled: function isInstalled() {\n    return document.querySelector('#janus-extension-installed') !== null;\n  },\n  getScreen: function getScreen(callback) {\n    var pending = window.setTimeout(function () {\n      var error = new Error('NavigatorUserMediaError');\n      error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)';\n      return callback(error);\n    }, 1000);\n    this.cache[pending] = callback;\n    window.postMessage({\n      type: 'janusGetScreen',\n      id: pending\n    }, '*');\n  },\n  init: function init() {\n    var cache = {};\n    this.cache = cache; // Wait for events from the Chrome Extension\n\n    window.addEventListener('message', function (event) {\n      if (event.origin != window.location.origin) return;\n\n      if (event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n        var callback = cache[event.data.id];\n        delete cache[event.data.id];\n\n        if (event.data.sourceId === '') {\n          // user canceled\n          var error = new Error('NavigatorUserMediaError');\n          error.name = 'You cancelled the request for permission, giving up...';\n          callback(error);\n        } else {\n          callback(null, event.data.sourceId);\n        }\n      } else if (event.data.type == 'janusGetScreenPending') {\n        console.log('clearing ', event.data.id);\n        window.clearTimeout(event.data.id);\n      }\n    });\n  }\n};\n\nJanus.useDefaultDependencies = function (deps) {\n  var f = deps && deps.fetch || fetch;\n  var p = deps && deps.Promise || Promise;\n  var socketCls = deps && deps.WebSocket || WebSocket;\n  return {\n    newWebSocket: function newWebSocket(server, proto) {\n      return new socketCls(server, proto);\n    },\n    extension: deps && deps.extension || defaultExtension,\n    isArray: function isArray(arr) {\n      return Array.isArray(arr);\n    },\n    webRTCAdapter: deps && deps.adapter || adapter,\n    httpAPICall: function httpAPICall(url, options) {\n      var fetchOptions = {\n        method: options.verb,\n        headers: {\n          'Accept': 'application/json, text/plain, */*'\n        },\n        cache: 'no-cache'\n      };\n\n      if (options.verb === \"POST\") {\n        fetchOptions.headers['Content-Type'] = 'application/json';\n      }\n\n      if (options.withCredentials !== undefined) {\n        fetchOptions.credentials = options.withCredentials === true ? 'include' : options.withCredentials ? options.withCredentials : 'omit';\n      }\n\n      if (options.body) {\n        fetchOptions.body = JSON.stringify(options.body);\n      }\n\n      var fetching = f(url, fetchOptions)[\"catch\"](function (error) {\n        return p.reject({\n          message: 'Probably a network error, is the server down?',\n          error: error\n        });\n      });\n      /*\n       * fetch() does not natively support timeouts.\n       * Work around this by starting a timeout manually, and racing it agains the fetch() to see which thing resolves first.\n       */\n\n      if (options.timeout) {\n        var timeout = new p(function (resolve, reject) {\n          var timerId = setTimeout(function () {\n            clearTimeout(timerId);\n            return reject({\n              message: 'Request timed out',\n              timeout: options.timeout\n            });\n          }, options.timeout);\n        });\n        fetching = p.race([fetching, timeout]);\n      }\n\n      fetching.then(function (response) {\n        if (response.ok) {\n          if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(options.success) === _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Janus.noop)) {\n            return response.json().then(function (parsed) {\n              options.success(parsed);\n            })[\"catch\"](function (error) {\n              return p.reject({\n                message: 'Failed to parse response body',\n                error: error,\n                response: response\n              });\n            });\n          }\n        } else {\n          return p.reject({\n            message: 'API call failed',\n            response: response\n          });\n        }\n      })[\"catch\"](function (error) {\n        if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(options.error) === _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Janus.noop)) {\n          options.error(error.message || '<< internal error >>', error);\n        }\n      });\n      return fetching;\n    }\n  };\n};\n\nJanus.useOldDependencies = function (deps) {\n  var jq = deps && deps.jQuery || jQuery;\n  var socketCls = deps && deps.WebSocket || WebSocket;\n  return {\n    newWebSocket: function newWebSocket(server, proto) {\n      return new socketCls(server, proto);\n    },\n    isArray: function isArray(arr) {\n      return jq.isArray(arr);\n    },\n    extension: deps && deps.extension || defaultExtension,\n    webRTCAdapter: deps && deps.adapter || adapter,\n    httpAPICall: function httpAPICall(url, options) {\n      var payload = options.body !== undefined ? {\n        contentType: 'application/json',\n        data: JSON.stringify(options.body)\n      } : {};\n      var credentials = options.withCredentials !== undefined ? {\n        xhrFields: {\n          withCredentials: options.withCredentials\n        }\n      } : {};\n      return jq.ajax(jq.extend(payload, credentials, {\n        url: url,\n        type: options.verb,\n        cache: false,\n        dataType: 'json',\n        async: options.async,\n        timeout: options.timeout,\n        success: function success(result) {\n          if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(options.success) === _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Janus.noop)) {\n            options.success(result);\n          }\n        },\n        error: function error(xhr, status, err) {\n          if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(options.error) === _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Janus.noop)) {\n            options.error(status, err);\n          }\n        }\n      }));\n    }\n  };\n};\n\nJanus.noop = function () {};\n\nJanus.dataChanDefaultLabel = \"JanusDataChannel\"; // Note: in the future we may want to change this, e.g., as was\n// attempted in https://github.com/meetecho/janus-gateway/issues/1670\n\nJanus.endOfCandidates = null; // Initialization\n\nJanus.init = function (options) {\n  options = options || {};\n  options.callback = typeof options.callback == \"function\" ? options.callback : Janus.noop;\n\n  if (Janus.initDone) {\n    // Already initialized\n    options.callback();\n  } else {\n    if (typeof console == \"undefined\" || typeof console.log == \"undefined\") {\n      console = {\n        log: function log() {}\n      };\n    } // Console logging (all debugging disabled by default)\n\n\n    Janus.trace = Janus.noop;\n    Janus.debug = Janus.noop;\n    Janus.vdebug = Janus.noop;\n    Janus.log = Janus.noop;\n    Janus.warn = Janus.noop;\n    Janus.error = Janus.noop;\n\n    if (options.debug === true || options.debug === \"all\") {\n      // Enable all debugging levels\n      Janus.trace = console.trace.bind(console);\n      Janus.debug = console.debug.bind(console);\n      Janus.vdebug = console.debug.bind(console);\n      Janus.log = console.log.bind(console);\n      Janus.warn = console.warn.bind(console);\n      Janus.error = console.error.bind(console);\n    } else if (Array.isArray(options.debug)) {\n      var _iterator = _createForOfIteratorHelper(options.debug),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var d = _step.value;\n\n          switch (d) {\n            case \"trace\":\n              Janus.trace = console.trace.bind(console);\n              break;\n\n            case \"debug\":\n              Janus.debug = console.debug.bind(console);\n              break;\n\n            case \"vdebug\":\n              Janus.vdebug = console.debug.bind(console);\n              break;\n\n            case \"log\":\n              Janus.log = console.log.bind(console);\n              break;\n\n            case \"warn\":\n              Janus.warn = console.warn.bind(console);\n              break;\n\n            case \"error\":\n              Janus.error = console.error.bind(console);\n              break;\n\n            default:\n              console.error(\"Unknown debugging option '\" + d + \"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')\");\n              break;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    Janus.log(\"Initializing library\");\n    var usedDependencies = options.dependencies || Janus.useDefaultDependencies();\n    Janus.isArray = usedDependencies.isArray;\n    Janus.webRTCAdapter = usedDependencies.webRTCAdapter;\n    Janus.httpAPICall = usedDependencies.httpAPICall;\n    Janus.newWebSocket = usedDependencies.newWebSocket;\n    Janus.extension = usedDependencies.extension;\n    Janus.extension.init(); // Helper method to enumerate devices\n\n    Janus.listDevices = function (callback, config) {\n      callback = typeof callback == \"function\" ? callback : Janus.noop;\n      if (config == null) config = {\n        audio: true,\n        video: true\n      };\n\n      if (Janus.isGetUserMediaAvailable()) {\n        navigator.mediaDevices.getUserMedia(config).then(function (stream) {\n          navigator.mediaDevices.enumerateDevices().then(function (devices) {\n            Janus.debug(devices);\n            callback(devices); // Get rid of the now useless stream\n\n            try {\n              var tracks = stream.getTracks();\n\n              var _iterator2 = _createForOfIteratorHelper(tracks),\n                  _step2;\n\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  var mst = _step2.value;\n                  if (mst) mst.stop();\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n            } catch (e) {}\n          });\n        })[\"catch\"](function (err) {\n          Janus.error(err);\n          callback([]);\n        });\n      } else {\n        Janus.warn(\"navigator.mediaDevices unavailable\");\n        callback([]);\n      }\n    }; // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n\n\n    Janus.attachMediaStream = function (element, stream) {\n      try {\n        element.srcObject = stream;\n      } catch (e) {\n        try {\n          element.src = URL.createObjectURL(stream);\n        } catch (e) {\n          Janus.error(\"Error attaching stream to element\");\n        }\n      }\n    };\n\n    Janus.reattachMediaStream = function (to, from) {\n      try {\n        to.srcObject = from.srcObject;\n      } catch (e) {\n        try {\n          to.src = from.src;\n        } catch (e) {\n          Janus.error(\"Error reattaching stream to element\");\n        }\n      }\n    }; // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n    // (note: for iOS we need to subscribe to a different event, 'pagehide', see\n    // https://gist.github.com/thehunmonkgroup/6bee8941a49b86be31a787fe8f4b8cfe)\n\n\n    var iOS = ['iPad', 'iPhone', 'iPod'].indexOf(navigator.platform) >= 0;\n    var eventName = iOS ? 'pagehide' : 'beforeunload';\n    var oldOBF = window[\"on\" + eventName];\n    window.addEventListener(eventName, function (event) {\n      Janus.log(\"Closing window\");\n\n      for (var s in Janus.sessions) {\n        if (Janus.sessions[s] && Janus.sessions[s].destroyOnUnload) {\n          Janus.log(\"Destroying session \" + s);\n          Janus.sessions[s].destroy({\n            unload: true,\n            notifyDestroyed: false\n          });\n        }\n      }\n\n      if (oldOBF && typeof oldOBF == \"function\") {\n        oldOBF();\n      }\n    }); // If this is a Safari Technology Preview, check if VP8 is supported\n\n    Janus.safariVp8 = false;\n\n    if (Janus.webRTCAdapter.browserDetails.browser === 'safari' && Janus.webRTCAdapter.browserDetails.version >= 605) {\n      // Let's see if RTCRtpSender.getCapabilities() is there\n      if (RTCRtpSender && RTCRtpSender.getCapabilities && RTCRtpSender.getCapabilities(\"video\") && RTCRtpSender.getCapabilities(\"video\").codecs && RTCRtpSender.getCapabilities(\"video\").codecs.length) {\n        var _iterator3 = _createForOfIteratorHelper(RTCRtpSender.getCapabilities(\"video\").codecs),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var codec = _step3.value;\n\n            if (codec && codec.mimeType && codec.mimeType.toLowerCase() === \"video/vp8\") {\n              Janus.safariVp8 = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        if (Janus.safariVp8) {\n          Janus.log(\"This version of Safari supports VP8\");\n        } else {\n          Janus.warn(\"This version of Safari does NOT support VP8: if you're using a Technology Preview, \" + \"try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu\");\n        }\n      } else {\n        // We do it in a very ugly way, as there's no alternative...\n        // We create a PeerConnection to see if VP8 is in an offer\n        var testpc = new RTCPeerConnection({});\n        testpc.createOffer({\n          offerToReceiveVideo: true\n        }).then(function (offer) {\n          Janus.safariVp8 = offer.sdp.indexOf(\"VP8\") !== -1;\n\n          if (Janus.safariVp8) {\n            Janus.log(\"This version of Safari supports VP8\");\n          } else {\n            Janus.warn(\"This version of Safari does NOT support VP8: if you're using a Technology Preview, \" + \"try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu\");\n          }\n\n          testpc.close();\n          testpc = null;\n        });\n      }\n    } // Check if this browser supports Unified Plan and transceivers\n    // Based on https://codepen.io/anon/pen/ZqLwWV?editors=0010\n\n\n    Janus.unifiedPlan = false;\n\n    if (Janus.webRTCAdapter.browserDetails.browser === 'firefox' && Janus.webRTCAdapter.browserDetails.version >= 59) {\n      // Firefox definitely does, starting from version 59\n      Janus.unifiedPlan = true;\n    } else if (Janus.webRTCAdapter.browserDetails.browser === 'chrome' && Janus.webRTCAdapter.browserDetails.version < 72) {\n      // Chrome does, but it's only usable from version 72 on\n      Janus.unifiedPlan = false;\n    } else if (!window.RTCRtpTransceiver || !('currentDirection' in RTCRtpTransceiver.prototype)) {\n      // Safari supports addTransceiver() but not Unified Plan when\n      // currentDirection is not defined (see codepen above).\n      Janus.unifiedPlan = false;\n    } else {\n      // Check if addTransceiver() throws an exception\n      var tempPc = new RTCPeerConnection();\n\n      try {\n        tempPc.addTransceiver('audio');\n        Janus.unifiedPlan = true;\n      } catch (e) {}\n\n      tempPc.close();\n    }\n\n    Janus.initDone = true;\n    options.callback();\n  }\n}; // Helper method to check whether WebRTC is supported by this browser\n\n\nJanus.isWebrtcSupported = function () {\n  return !!window.RTCPeerConnection;\n}; // Helper method to check whether devices can be accessed by this browser (e.g., not possible via plain HTTP)\n\n\nJanus.isGetUserMediaAvailable = function () {\n  return navigator.mediaDevices && navigator.mediaDevices.getUserMedia;\n}; // Helper method to create random identifiers (e.g., transaction)\n\n\nJanus.randomString = function (len) {\n  var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var randomString = '';\n\n  for (var i = 0; i < len; i++) {\n    var randomPoz = Math.floor(Math.random() * charSet.length);\n    randomString += charSet.substring(randomPoz, randomPoz + 1);\n  }\n\n  return randomString;\n};\n\nfunction Janus(gatewayCallbacks) {\n  gatewayCallbacks = gatewayCallbacks || {};\n  gatewayCallbacks.success = typeof gatewayCallbacks.success == \"function\" ? gatewayCallbacks.success : Janus.noop;\n  gatewayCallbacks.error = typeof gatewayCallbacks.error == \"function\" ? gatewayCallbacks.error : Janus.noop;\n  gatewayCallbacks.destroyed = typeof gatewayCallbacks.destroyed == \"function\" ? gatewayCallbacks.destroyed : Janus.noop;\n\n  if (!Janus.initDone) {\n    gatewayCallbacks.error(\"Library not initialized\");\n    return {};\n  }\n\n  if (!Janus.isWebrtcSupported()) {\n    gatewayCallbacks.error(\"WebRTC not supported by this browser\");\n    return {};\n  }\n\n  Janus.log(\"Library initialized: \" + Janus.initDone);\n\n  if (!gatewayCallbacks.server) {\n    gatewayCallbacks.error(\"Invalid server url\");\n    return {};\n  }\n\n  var websockets = false;\n  var ws = null;\n  var wsHandlers = {};\n  var wsKeepaliveTimeoutId = null;\n  var servers = null;\n  var serversIndex = 0;\n  var server = gatewayCallbacks.server;\n\n  if (Janus.isArray(server)) {\n    Janus.log(\"Multiple servers provided (\" + server.length + \"), will use the first that works\");\n    server = null;\n    servers = gatewayCallbacks.server;\n    Janus.debug(servers);\n  } else {\n    if (server.indexOf(\"ws\") === 0) {\n      websockets = true;\n      Janus.log(\"Using WebSockets to contact Janus: \" + server);\n    } else {\n      websockets = false;\n      Janus.log(\"Using REST API to contact Janus: \" + server);\n    }\n  }\n\n  var iceServers = gatewayCallbacks.iceServers || [{\n    urls: \"stun:stun.l.google.com:19302\"\n  }];\n  var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy;\n  var bundlePolicy = gatewayCallbacks.bundlePolicy; // Whether IPv6 candidates should be gathered\n\n  var ipv6Support = gatewayCallbacks.ipv6 === true; // Whether we should enable the withCredentials flag for XHR requests\n\n  var withCredentials = false;\n  if (gatewayCallbacks.withCredentials !== undefined && gatewayCallbacks.withCredentials !== null) withCredentials = gatewayCallbacks.withCredentials === true; // Optional max events\n\n  var maxev = 10;\n  if (gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null) maxev = gatewayCallbacks.max_poll_events;\n  if (maxev < 1) maxev = 1; // Token to use (only if the token based authentication mechanism is enabled)\n\n  var token = null;\n  if (gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null) token = gatewayCallbacks.token; // API secret to use (only if the shared API secret is enabled)\n\n  var apisecret = null;\n  if (gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null) apisecret = gatewayCallbacks.apisecret; // Whether we should destroy this session when onbeforeunload is called\n\n  this.destroyOnUnload = true;\n  if (gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null) this.destroyOnUnload = gatewayCallbacks.destroyOnUnload === true; // Some timeout-related values\n\n  var keepAlivePeriod = 25000;\n  if (gatewayCallbacks.keepAlivePeriod !== undefined && gatewayCallbacks.keepAlivePeriod !== null) keepAlivePeriod = gatewayCallbacks.keepAlivePeriod;\n  if (isNaN(keepAlivePeriod)) keepAlivePeriod = 25000;\n  var longPollTimeout = 60000;\n  if (gatewayCallbacks.longPollTimeout !== undefined && gatewayCallbacks.longPollTimeout !== null) longPollTimeout = gatewayCallbacks.longPollTimeout;\n  if (isNaN(longPollTimeout)) longPollTimeout = 60000; // overrides for default maxBitrate values for simulcasting\n\n  function getMaxBitrates(simulcastMaxBitrates) {\n    var maxBitrates = {\n      high: 900000,\n      medium: 300000,\n      low: 100000\n    };\n\n    if (simulcastMaxBitrates !== undefined && simulcastMaxBitrates !== null) {\n      if (simulcastMaxBitrates.high) maxBitrates.high = simulcastMaxBitrates.high;\n      if (simulcastMaxBitrates.medium) maxBitrates.medium = simulcastMaxBitrates.medium;\n      if (simulcastMaxBitrates.low) maxBitrates.low = simulcastMaxBitrates.low;\n    }\n\n    return maxBitrates;\n  }\n\n  var connected = false;\n  var sessionId = null;\n  var pluginHandles = {};\n  var that = this;\n  var retries = 0;\n  var transactions = {};\n  createSession(gatewayCallbacks); // Public methods\n\n  this.getServer = function () {\n    return server;\n  };\n\n  this.isConnected = function () {\n    return connected;\n  };\n\n  this.reconnect = function (callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    callbacks[\"reconnect\"] = true;\n    createSession(callbacks);\n  };\n\n  this.getSessionId = function () {\n    return sessionId;\n  };\n\n  this.destroy = function (callbacks) {\n    destroySession(callbacks);\n  };\n\n  this.attach = function (callbacks) {\n    createHandle(callbacks);\n  };\n\n  function eventHandler() {\n    if (sessionId == null) return;\n    Janus.debug('Long poll...');\n\n    if (!connected) {\n      Janus.warn(\"Is the server down? (connected=false)\");\n      return;\n    }\n\n    var longpoll = server + \"/\" + sessionId + \"?rid=\" + new Date().getTime();\n    if (maxev) longpoll = longpoll + \"&maxev=\" + maxev;\n    if (token) longpoll = longpoll + \"&token=\" + encodeURIComponent(token);\n    if (apisecret) longpoll = longpoll + \"&apisecret=\" + encodeURIComponent(apisecret);\n    Janus.httpAPICall(longpoll, {\n      verb: 'GET',\n      withCredentials: withCredentials,\n      success: handleEvent,\n      timeout: longPollTimeout,\n      error: function error(textStatus, errorThrown) {\n        Janus.error(textStatus + \":\", errorThrown);\n        retries++;\n\n        if (retries > 3) {\n          // Did we just lose the server? :-(\n          connected = false;\n          gatewayCallbacks.error(\"Lost connection to the server (is it down?)\");\n          return;\n        }\n\n        eventHandler();\n      }\n    });\n  } // Private event handler: this will trigger plugin callbacks, if set\n\n\n  function handleEvent(json, skipTimeout) {\n    retries = 0;\n    if (!websockets && sessionId !== undefined && sessionId !== null && skipTimeout !== true) eventHandler();\n\n    if (!websockets && Janus.isArray(json)) {\n      // We got an array: it means we passed a maxev > 1, iterate on all objects\n      for (var i = 0; i < json.length; i++) {\n        handleEvent(json[i], true);\n      }\n\n      return;\n    }\n\n    if (json[\"janus\"] === \"keepalive\") {\n      // Nothing happened\n      Janus.vdebug(\"Got a keepalive on session \" + sessionId);\n      return;\n    } else if (json[\"janus\"] === \"ack\") {\n      // Just an ack, we can probably ignore\n      Janus.debug(\"Got an ack on session \" + sessionId);\n      Janus.debug(json);\n      var transaction = json[\"transaction\"];\n\n      if (transaction) {\n        var reportSuccess = transactions[transaction];\n        if (reportSuccess) reportSuccess(json);\n        delete transactions[transaction];\n      }\n\n      return;\n    } else if (json[\"janus\"] === \"success\") {\n      // Success!\n      Janus.debug(\"Got a success on session \" + sessionId);\n      Janus.debug(json);\n      var transaction = json[\"transaction\"];\n\n      if (transaction) {\n        var reportSuccess = transactions[transaction];\n        if (reportSuccess) reportSuccess(json);\n        delete transactions[transaction];\n      }\n\n      return;\n    } else if (json[\"janus\"] === \"trickle\") {\n      // We got a trickle candidate from Janus\n      var sender = json[\"sender\"];\n\n      if (!sender) {\n        Janus.warn(\"Missing sender...\");\n        return;\n      }\n\n      var pluginHandle = pluginHandles[sender];\n\n      if (!pluginHandle) {\n        Janus.debug(\"This handle is not attached to this session\");\n        return;\n      }\n\n      var candidate = json[\"candidate\"];\n      Janus.debug(\"Got a trickled candidate on session \" + sessionId);\n      Janus.debug(candidate);\n      var config = pluginHandle.webrtcStuff;\n\n      if (config.pc && config.remoteSdp) {\n        // Add candidate right now\n        Janus.debug(\"Adding remote candidate:\", candidate);\n\n        if (!candidate || candidate.completed === true) {\n          // end-of-candidates\n          config.pc.addIceCandidate(Janus.endOfCandidates);\n        } else {\n          // New candidate\n          config.pc.addIceCandidate(candidate);\n        }\n      } else {\n        // We didn't do setRemoteDescription (trickle got here before the offer?)\n        Janus.debug(\"We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate\");\n        if (!config.candidates) config.candidates = [];\n        config.candidates.push(candidate);\n        Janus.debug(config.candidates);\n      }\n    } else if (json[\"janus\"] === \"webrtcup\") {\n      // The PeerConnection with the server is up! Notify this\n      Janus.debug(\"Got a webrtcup event on session \" + sessionId);\n      Janus.debug(json);\n      var sender = json[\"sender\"];\n\n      if (!sender) {\n        Janus.warn(\"Missing sender...\");\n        return;\n      }\n\n      var pluginHandle = pluginHandles[sender];\n\n      if (!pluginHandle) {\n        Janus.debug(\"This handle is not attached to this session\");\n        return;\n      }\n\n      pluginHandle.webrtcState(true);\n      return;\n    } else if (json[\"janus\"] === \"hangup\") {\n      // A plugin asked the core to hangup a PeerConnection on one of our handles\n      Janus.debug(\"Got a hangup event on session \" + sessionId);\n      Janus.debug(json);\n      var sender = json[\"sender\"];\n\n      if (!sender) {\n        Janus.warn(\"Missing sender...\");\n        return;\n      }\n\n      var pluginHandle = pluginHandles[sender];\n\n      if (!pluginHandle) {\n        Janus.debug(\"This handle is not attached to this session\");\n        return;\n      }\n\n      pluginHandle.webrtcState(false, json[\"reason\"]);\n      pluginHandle.hangup();\n    } else if (json[\"janus\"] === \"detached\") {\n      // A plugin asked the core to detach one of our handles\n      Janus.debug(\"Got a detached event on session \" + sessionId);\n      Janus.debug(json);\n      var sender = json[\"sender\"];\n\n      if (!sender) {\n        Janus.warn(\"Missing sender...\");\n        return;\n      }\n\n      var pluginHandle = pluginHandles[sender];\n\n      if (!pluginHandle) {\n        // Don't warn here because destroyHandle causes this situation.\n        return;\n      }\n\n      pluginHandle.detached = true;\n      pluginHandle.ondetached();\n      pluginHandle.detach();\n    } else if (json[\"janus\"] === \"media\") {\n      // Media started/stopped flowing\n      Janus.debug(\"Got a media event on session \" + sessionId);\n      Janus.debug(json);\n      var sender = json[\"sender\"];\n\n      if (!sender) {\n        Janus.warn(\"Missing sender...\");\n        return;\n      }\n\n      var pluginHandle = pluginHandles[sender];\n\n      if (!pluginHandle) {\n        Janus.debug(\"This handle is not attached to this session\");\n        return;\n      }\n\n      pluginHandle.mediaState(json[\"type\"], json[\"receiving\"]);\n    } else if (json[\"janus\"] === \"slowlink\") {\n      Janus.debug(\"Got a slowlink event on session \" + sessionId);\n      Janus.debug(json); // Trouble uplink or downlink\n\n      var sender = json[\"sender\"];\n\n      if (!sender) {\n        Janus.warn(\"Missing sender...\");\n        return;\n      }\n\n      var pluginHandle = pluginHandles[sender];\n\n      if (!pluginHandle) {\n        Janus.debug(\"This handle is not attached to this session\");\n        return;\n      }\n\n      pluginHandle.slowLink(json[\"uplink\"], json[\"lost\"]);\n    } else if (json[\"janus\"] === \"error\") {\n      // Oops, something wrong happened\n      Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n      Janus.debug(json);\n      var transaction = json[\"transaction\"];\n\n      if (transaction) {\n        var reportSuccess = transactions[transaction];\n\n        if (reportSuccess) {\n          reportSuccess(json);\n        }\n\n        delete transactions[transaction];\n      }\n\n      return;\n    } else if (json[\"janus\"] === \"event\") {\n      Janus.debug(\"Got a plugin event on session \" + sessionId);\n      Janus.debug(json);\n      var sender = json[\"sender\"];\n\n      if (!sender) {\n        Janus.warn(\"Missing sender...\");\n        return;\n      }\n\n      var plugindata = json[\"plugindata\"];\n\n      if (!plugindata) {\n        Janus.warn(\"Missing plugindata...\");\n        return;\n      }\n\n      Janus.debug(\"  -- Event is coming from \" + sender + \" (\" + plugindata[\"plugin\"] + \")\");\n      var data = plugindata[\"data\"];\n      Janus.debug(data);\n      var pluginHandle = pluginHandles[sender];\n\n      if (!pluginHandle) {\n        Janus.warn(\"This handle is not attached to this session\");\n        return;\n      }\n\n      var jsep = json[\"jsep\"];\n\n      if (jsep) {\n        Janus.debug(\"Handling SDP as well...\");\n        Janus.debug(jsep);\n      }\n\n      var callback = pluginHandle.onmessage;\n\n      if (callback) {\n        Janus.debug(\"Notifying application...\"); // Send to callback specified when attaching plugin handle\n\n        callback(data, jsep);\n      } else {\n        // Send to generic callback (?)\n        Janus.debug(\"No provided notification callback\");\n      }\n    } else if (json[\"janus\"] === \"timeout\") {\n      Janus.error(\"Timeout on session \" + sessionId);\n      Janus.debug(json);\n\n      if (websockets) {\n        ws.close(3504, \"Gateway timeout\");\n      }\n\n      return;\n    } else {\n      Janus.warn(\"Unknown message/event  '\" + json[\"janus\"] + \"' on session \" + sessionId);\n      Janus.debug(json);\n    }\n  } // Private helper to send keep-alive messages on WebSockets\n\n\n  function keepAlive() {\n    if (!server || !websockets || !connected) return;\n    wsKeepaliveTimeoutId = setTimeout(keepAlive, keepAlivePeriod);\n    var request = {\n      \"janus\": \"keepalive\",\n      \"session_id\": sessionId,\n      \"transaction\": Janus.randomString(12)\n    };\n    if (token) request[\"token\"] = token;\n    if (apisecret) request[\"apisecret\"] = apisecret;\n    ws.send(JSON.stringify(request));\n  } // Private method to create a session\n\n\n  function createSession(callbacks) {\n    var transaction = Janus.randomString(12);\n    var request = {\n      \"janus\": \"create\",\n      \"transaction\": transaction\n    };\n\n    if (callbacks[\"reconnect\"]) {\n      // We're reconnecting, claim the session\n      connected = false;\n      request[\"janus\"] = \"claim\";\n      request[\"session_id\"] = sessionId; // If we were using websockets, ignore the old connection\n\n      if (ws) {\n        ws.onopen = null;\n        ws.onerror = null;\n        ws.onclose = null;\n\n        if (wsKeepaliveTimeoutId) {\n          clearTimeout(wsKeepaliveTimeoutId);\n          wsKeepaliveTimeoutId = null;\n        }\n      }\n    }\n\n    if (token) request[\"token\"] = token;\n    if (apisecret) request[\"apisecret\"] = apisecret;\n\n    if (!server && Janus.isArray(servers)) {\n      // We still need to find a working server from the list we were given\n      server = servers[serversIndex];\n\n      if (server.indexOf(\"ws\") === 0) {\n        websockets = true;\n        Janus.log(\"Server #\" + (serversIndex + 1) + \": trying WebSockets to contact Janus (\" + server + \")\");\n      } else {\n        websockets = false;\n        Janus.log(\"Server #\" + (serversIndex + 1) + \": trying REST API to contact Janus (\" + server + \")\");\n      }\n    }\n\n    if (websockets) {\n      ws = Janus.newWebSocket(server, 'janus-protocol');\n      wsHandlers = {\n        'error': function error() {\n          Janus.error(\"Error connecting to the Janus WebSockets server... \" + server);\n\n          if (Janus.isArray(servers) && !callbacks[\"reconnect\"]) {\n            serversIndex++;\n\n            if (serversIndex === servers.length) {\n              // We tried all the servers the user gave us and they all failed\n              callbacks.error(\"Error connecting to any of the provided Janus servers: Is the server down?\");\n              return;\n            } // Let's try the next server\n\n\n            server = null;\n            setTimeout(function () {\n              createSession(callbacks);\n            }, 200);\n            return;\n          }\n\n          callbacks.error(\"Error connecting to the Janus WebSockets server: Is the server down?\");\n        },\n        'open': function open() {\n          // We need to be notified about the success\n          transactions[transaction] = function (json) {\n            Janus.debug(json);\n\n            if (json[\"janus\"] !== \"success\") {\n              Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n              callbacks.error(json[\"error\"].reason);\n              return;\n            }\n\n            wsKeepaliveTimeoutId = setTimeout(keepAlive, keepAlivePeriod);\n            connected = true;\n            sessionId = json[\"session_id\"] ? json[\"session_id\"] : json.data[\"id\"];\n\n            if (callbacks[\"reconnect\"]) {\n              Janus.log(\"Claimed session: \" + sessionId);\n            } else {\n              Janus.log(\"Created session: \" + sessionId);\n            }\n\n            Janus.sessions[sessionId] = that;\n            callbacks.success();\n          };\n\n          ws.send(JSON.stringify(request));\n        },\n        'message': function message(event) {\n          handleEvent(JSON.parse(event.data));\n        },\n        'close': function close() {\n          if (!server || !connected) {\n            return;\n          }\n\n          connected = false; // FIXME What if this is called when the page is closed?\n\n          gatewayCallbacks.error(\"Lost connection to the server (is it down?)\");\n        }\n      };\n\n      for (var eventName in wsHandlers) {\n        ws.addEventListener(eventName, wsHandlers[eventName]);\n      }\n\n      return;\n    }\n\n    Janus.httpAPICall(server, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function success(json) {\n        Janus.debug(json);\n\n        if (json[\"janus\"] !== \"success\") {\n          Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n          callbacks.error(json[\"error\"].reason);\n          return;\n        }\n\n        connected = true;\n        sessionId = json[\"session_id\"] ? json[\"session_id\"] : json.data[\"id\"];\n\n        if (callbacks[\"reconnect\"]) {\n          Janus.log(\"Claimed session: \" + sessionId);\n        } else {\n          Janus.log(\"Created session: \" + sessionId);\n        }\n\n        Janus.sessions[sessionId] = that;\n        eventHandler();\n        callbacks.success();\n      },\n      error: function error(textStatus, errorThrown) {\n        Janus.error(textStatus + \":\", errorThrown); // FIXME\n\n        if (Janus.isArray(servers) && !callbacks[\"reconnect\"]) {\n          serversIndex++;\n\n          if (serversIndex === servers.length) {\n            // We tried all the servers the user gave us and they all failed\n            callbacks.error(\"Error connecting to any of the provided Janus servers: Is the server down?\");\n            return;\n          } // Let's try the next server\n\n\n          server = null;\n          setTimeout(function () {\n            createSession(callbacks);\n          }, 200);\n          return;\n        }\n\n        if (errorThrown === \"\") callbacks.error(textStatus + \": Is the server down?\");else callbacks.error(textStatus + \": \" + errorThrown);\n      }\n    });\n  } // Private method to destroy a session\n\n\n  function destroySession(callbacks) {\n    callbacks = callbacks || {}; // FIXME This method triggers a success even when we fail\n\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    var unload = callbacks.unload === true;\n    var notifyDestroyed = true;\n    if (callbacks.notifyDestroyed !== undefined && callbacks.notifyDestroyed !== null) notifyDestroyed = callbacks.notifyDestroyed === true;\n    var cleanupHandles = callbacks.cleanupHandles === true;\n    Janus.log(\"Destroying session \" + sessionId + \" (unload=\" + unload + \")\");\n\n    if (!sessionId) {\n      Janus.warn(\"No session to destroy\");\n      callbacks.success();\n      if (notifyDestroyed) gatewayCallbacks.destroyed();\n      return;\n    }\n\n    if (cleanupHandles) {\n      for (var handleId in pluginHandles) {\n        destroyHandle(handleId, {\n          noRequest: true\n        });\n      }\n    }\n\n    if (!connected) {\n      Janus.warn(\"Is the server down? (connected=false)\");\n      sessionId = null;\n      callbacks.success();\n      return;\n    } // No need to destroy all handles first, Janus will do that itself\n\n\n    var request = {\n      \"janus\": \"destroy\",\n      \"transaction\": Janus.randomString(12)\n    };\n    if (token) request[\"token\"] = token;\n    if (apisecret) request[\"apisecret\"] = apisecret;\n\n    if (unload) {\n      // We're unloading the page: use sendBeacon for HTTP instead,\n      // or just close the WebSocket connection if we're using that\n      if (websockets) {\n        ws.onclose = null;\n        ws.close();\n        ws = null;\n      } else {\n        navigator.sendBeacon(server + \"/\" + sessionId, JSON.stringify(request));\n      }\n\n      Janus.log(\"Destroyed session:\");\n      sessionId = null;\n      connected = false;\n      callbacks.success();\n      if (notifyDestroyed) gatewayCallbacks.destroyed();\n      return;\n    }\n\n    if (websockets) {\n      request[\"session_id\"] = sessionId;\n\n      var unbindWebSocket = function unbindWebSocket() {\n        for (var eventName in wsHandlers) {\n          ws.removeEventListener(eventName, wsHandlers[eventName]);\n        }\n\n        ws.removeEventListener('message', onUnbindMessage);\n        ws.removeEventListener('error', onUnbindError);\n\n        if (wsKeepaliveTimeoutId) {\n          clearTimeout(wsKeepaliveTimeoutId);\n        }\n\n        ws.close();\n      };\n\n      var onUnbindMessage = function onUnbindMessage(event) {\n        var data = JSON.parse(event.data);\n\n        if (data.session_id == request.session_id && data.transaction == request.transaction) {\n          unbindWebSocket();\n          callbacks.success();\n          if (notifyDestroyed) gatewayCallbacks.destroyed();\n        }\n      };\n\n      var onUnbindError = function onUnbindError(event) {\n        unbindWebSocket();\n        callbacks.error(\"Failed to destroy the server: Is the server down?\");\n        if (notifyDestroyed) gatewayCallbacks.destroyed();\n      };\n\n      ws.addEventListener('message', onUnbindMessage);\n      ws.addEventListener('error', onUnbindError);\n      ws.send(JSON.stringify(request));\n      return;\n    }\n\n    Janus.httpAPICall(server + \"/\" + sessionId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function success(json) {\n        Janus.log(\"Destroyed session:\");\n        Janus.debug(json);\n        sessionId = null;\n        connected = false;\n\n        if (json[\"janus\"] !== \"success\") {\n          Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n        }\n\n        callbacks.success();\n        if (notifyDestroyed) gatewayCallbacks.destroyed();\n      },\n      error: function error(textStatus, errorThrown) {\n        Janus.error(textStatus + \":\", errorThrown); // FIXME\n        // Reset everything anyway\n\n        sessionId = null;\n        connected = false;\n        callbacks.success();\n        if (notifyDestroyed) gatewayCallbacks.destroyed();\n      }\n    });\n  } // Private method to create a plugin handle\n\n\n  function createHandle(callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    callbacks.consentDialog = typeof callbacks.consentDialog == \"function\" ? callbacks.consentDialog : Janus.noop;\n    callbacks.iceState = typeof callbacks.iceState == \"function\" ? callbacks.iceState : Janus.noop;\n    callbacks.mediaState = typeof callbacks.mediaState == \"function\" ? callbacks.mediaState : Janus.noop;\n    callbacks.webrtcState = typeof callbacks.webrtcState == \"function\" ? callbacks.webrtcState : Janus.noop;\n    callbacks.slowLink = typeof callbacks.slowLink == \"function\" ? callbacks.slowLink : Janus.noop;\n    callbacks.onmessage = typeof callbacks.onmessage == \"function\" ? callbacks.onmessage : Janus.noop;\n    callbacks.onlocalstream = typeof callbacks.onlocalstream == \"function\" ? callbacks.onlocalstream : Janus.noop;\n    callbacks.onremotestream = typeof callbacks.onremotestream == \"function\" ? callbacks.onremotestream : Janus.noop;\n    callbacks.ondata = typeof callbacks.ondata == \"function\" ? callbacks.ondata : Janus.noop;\n    callbacks.ondataopen = typeof callbacks.ondataopen == \"function\" ? callbacks.ondataopen : Janus.noop;\n    callbacks.oncleanup = typeof callbacks.oncleanup == \"function\" ? callbacks.oncleanup : Janus.noop;\n    callbacks.ondetached = typeof callbacks.ondetached == \"function\" ? callbacks.ondetached : Janus.noop;\n\n    if (!connected) {\n      Janus.warn(\"Is the server down? (connected=false)\");\n      callbacks.error(\"Is the server down? (connected=false)\");\n      return;\n    }\n\n    var plugin = callbacks.plugin;\n\n    if (!plugin) {\n      Janus.error(\"Invalid plugin\");\n      callbacks.error(\"Invalid plugin\");\n      return;\n    }\n\n    var opaqueId = callbacks.opaqueId;\n    var handleToken = callbacks.token ? callbacks.token : token;\n    var transaction = Janus.randomString(12);\n    var request = {\n      \"janus\": \"attach\",\n      \"plugin\": plugin,\n      \"opaque_id\": opaqueId,\n      \"transaction\": transaction\n    };\n    if (handleToken) request[\"token\"] = handleToken;\n    if (apisecret) request[\"apisecret\"] = apisecret;\n\n    if (websockets) {\n      transactions[transaction] = function (json) {\n        Janus.debug(json);\n\n        if (json[\"janus\"] !== \"success\") {\n          Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n          callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n          return;\n        }\n\n        var handleId = json.data[\"id\"];\n        Janus.log(\"Created handle: \" + handleId);\n        var pluginHandle = {\n          session: that,\n          plugin: plugin,\n          id: handleId,\n          token: handleToken,\n          detached: false,\n          webrtcStuff: {\n            started: false,\n            myStream: null,\n            streamExternal: false,\n            remoteStream: null,\n            mySdp: null,\n            mediaConstraints: null,\n            pc: null,\n            dataChannel: {},\n            dtmfSender: null,\n            trickle: true,\n            iceDone: false,\n            volume: {\n              value: null,\n              timer: null\n            },\n            bitrate: {\n              value: null,\n              bsnow: null,\n              bsbefore: null,\n              tsnow: null,\n              tsbefore: null,\n              timer: null\n            }\n          },\n          getId: function getId() {\n            return handleId;\n          },\n          getPlugin: function getPlugin() {\n            return plugin;\n          },\n          getVolume: function getVolume() {\n            return _getVolume(handleId, true);\n          },\n          getRemoteVolume: function getRemoteVolume() {\n            return _getVolume(handleId, true);\n          },\n          getLocalVolume: function getLocalVolume() {\n            return _getVolume(handleId, false);\n          },\n          isAudioMuted: function isAudioMuted() {\n            return isMuted(handleId, false);\n          },\n          muteAudio: function muteAudio() {\n            return mute(handleId, false, true);\n          },\n          unmuteAudio: function unmuteAudio() {\n            return mute(handleId, false, false);\n          },\n          isVideoMuted: function isVideoMuted() {\n            return isMuted(handleId, true);\n          },\n          muteVideo: function muteVideo() {\n            return mute(handleId, true, true);\n          },\n          unmuteVideo: function unmuteVideo() {\n            return mute(handleId, true, false);\n          },\n          getBitrate: function getBitrate() {\n            return _getBitrate(handleId);\n          },\n          send: function send(callbacks) {\n            sendMessage(handleId, callbacks);\n          },\n          data: function data(callbacks) {\n            sendData(handleId, callbacks);\n          },\n          dtmf: function dtmf(callbacks) {\n            sendDtmf(handleId, callbacks);\n          },\n          consentDialog: callbacks.consentDialog,\n          iceState: callbacks.iceState,\n          mediaState: callbacks.mediaState,\n          webrtcState: callbacks.webrtcState,\n          slowLink: callbacks.slowLink,\n          onmessage: callbacks.onmessage,\n          createOffer: function createOffer(callbacks) {\n            prepareWebrtc(handleId, true, callbacks);\n          },\n          createAnswer: function createAnswer(callbacks) {\n            prepareWebrtc(handleId, false, callbacks);\n          },\n          handleRemoteJsep: function handleRemoteJsep(callbacks) {\n            prepareWebrtcPeer(handleId, callbacks);\n          },\n          onlocalstream: callbacks.onlocalstream,\n          onremotestream: callbacks.onremotestream,\n          ondata: callbacks.ondata,\n          ondataopen: callbacks.ondataopen,\n          oncleanup: callbacks.oncleanup,\n          ondetached: callbacks.ondetached,\n          hangup: function hangup(sendRequest) {\n            cleanupWebrtc(handleId, sendRequest === true);\n          },\n          detach: function detach(callbacks) {\n            destroyHandle(handleId, callbacks);\n          }\n        };\n        pluginHandles[handleId] = pluginHandle;\n        callbacks.success(pluginHandle);\n      };\n\n      request[\"session_id\"] = sessionId;\n      ws.send(JSON.stringify(request));\n      return;\n    }\n\n    Janus.httpAPICall(server + \"/\" + sessionId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function success(json) {\n        Janus.debug(json);\n\n        if (json[\"janus\"] !== \"success\") {\n          Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n          callbacks.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason);\n          return;\n        }\n\n        var handleId = json.data[\"id\"];\n        Janus.log(\"Created handle: \" + handleId);\n        var pluginHandle = {\n          session: that,\n          plugin: plugin,\n          id: handleId,\n          token: handleToken,\n          detached: false,\n          webrtcStuff: {\n            started: false,\n            myStream: null,\n            streamExternal: false,\n            remoteStream: null,\n            mySdp: null,\n            mediaConstraints: null,\n            pc: null,\n            dataChannel: {},\n            dtmfSender: null,\n            trickle: true,\n            iceDone: false,\n            volume: {\n              value: null,\n              timer: null\n            },\n            bitrate: {\n              value: null,\n              bsnow: null,\n              bsbefore: null,\n              tsnow: null,\n              tsbefore: null,\n              timer: null\n            }\n          },\n          getId: function getId() {\n            return handleId;\n          },\n          getPlugin: function getPlugin() {\n            return plugin;\n          },\n          getVolume: function getVolume() {\n            return _getVolume(handleId, true);\n          },\n          getRemoteVolume: function getRemoteVolume() {\n            return _getVolume(handleId, true);\n          },\n          getLocalVolume: function getLocalVolume() {\n            return _getVolume(handleId, false);\n          },\n          isAudioMuted: function isAudioMuted() {\n            return isMuted(handleId, false);\n          },\n          muteAudio: function muteAudio() {\n            return mute(handleId, false, true);\n          },\n          unmuteAudio: function unmuteAudio() {\n            return mute(handleId, false, false);\n          },\n          isVideoMuted: function isVideoMuted() {\n            return isMuted(handleId, true);\n          },\n          muteVideo: function muteVideo() {\n            return mute(handleId, true, true);\n          },\n          unmuteVideo: function unmuteVideo() {\n            return mute(handleId, true, false);\n          },\n          getBitrate: function getBitrate() {\n            return _getBitrate(handleId);\n          },\n          send: function send(callbacks) {\n            sendMessage(handleId, callbacks);\n          },\n          data: function data(callbacks) {\n            sendData(handleId, callbacks);\n          },\n          dtmf: function dtmf(callbacks) {\n            sendDtmf(handleId, callbacks);\n          },\n          consentDialog: callbacks.consentDialog,\n          iceState: callbacks.iceState,\n          mediaState: callbacks.mediaState,\n          webrtcState: callbacks.webrtcState,\n          slowLink: callbacks.slowLink,\n          onmessage: callbacks.onmessage,\n          createOffer: function createOffer(callbacks) {\n            prepareWebrtc(handleId, true, callbacks);\n          },\n          createAnswer: function createAnswer(callbacks) {\n            prepareWebrtc(handleId, false, callbacks);\n          },\n          handleRemoteJsep: function handleRemoteJsep(callbacks) {\n            prepareWebrtcPeer(handleId, callbacks);\n          },\n          onlocalstream: callbacks.onlocalstream,\n          onremotestream: callbacks.onremotestream,\n          ondata: callbacks.ondata,\n          ondataopen: callbacks.ondataopen,\n          oncleanup: callbacks.oncleanup,\n          ondetached: callbacks.ondetached,\n          hangup: function hangup(sendRequest) {\n            cleanupWebrtc(handleId, sendRequest === true);\n          },\n          detach: function detach(callbacks) {\n            destroyHandle(handleId, callbacks);\n          }\n        };\n        pluginHandles[handleId] = pluginHandle;\n        callbacks.success(pluginHandle);\n      },\n      error: function error(textStatus, errorThrown) {\n        Janus.error(textStatus + \":\", errorThrown); // FIXME\n\n        if (errorThrown === \"\") callbacks.error(textStatus + \": Is the server down?\");else callbacks.error(textStatus + \": \" + errorThrown);\n      }\n    });\n  } // Private method to send a message\n\n\n  function sendMessage(handleId, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n\n    if (!connected) {\n      Janus.warn(\"Is the server down? (connected=false)\");\n      callbacks.error(\"Is the server down? (connected=false)\");\n      return;\n    }\n\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var message = callbacks.message;\n    var jsep = callbacks.jsep;\n    var transaction = Janus.randomString(12);\n    var request = {\n      \"janus\": \"message\",\n      \"body\": message,\n      \"transaction\": transaction\n    };\n    if (pluginHandle.token) request[\"token\"] = pluginHandle.token;\n    if (apisecret) request[\"apisecret\"] = apisecret;\n    if (jsep) request.jsep = jsep;\n    Janus.debug(\"Sending message to plugin (handle=\" + handleId + \"):\");\n    Janus.debug(request);\n\n    if (websockets) {\n      request[\"session_id\"] = sessionId;\n      request[\"handle_id\"] = handleId;\n\n      transactions[transaction] = function (json) {\n        Janus.debug(\"Message sent!\");\n        Janus.debug(json);\n\n        if (json[\"janus\"] === \"success\") {\n          // We got a success, must have been a synchronous transaction\n          var plugindata = json[\"plugindata\"];\n\n          if (!plugindata) {\n            Janus.warn(\"Request succeeded, but missing plugindata...\");\n            callbacks.success();\n            return;\n          }\n\n          Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n          var data = plugindata[\"data\"];\n          Janus.debug(data);\n          callbacks.success(data);\n          return;\n        } else if (json[\"janus\"] !== \"ack\") {\n          // Not a success and not an ack, must be an error\n          if (json[\"error\"]) {\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n            callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n          } else {\n            Janus.error(\"Unknown error\"); // FIXME\n\n            callbacks.error(\"Unknown error\");\n          }\n\n          return;\n        } // If we got here, the plugin decided to handle the request asynchronously\n\n\n        callbacks.success();\n      };\n\n      ws.send(JSON.stringify(request));\n      return;\n    }\n\n    Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function success(json) {\n        Janus.debug(\"Message sent!\");\n        Janus.debug(json);\n\n        if (json[\"janus\"] === \"success\") {\n          // We got a success, must have been a synchronous transaction\n          var plugindata = json[\"plugindata\"];\n\n          if (!plugindata) {\n            Janus.warn(\"Request succeeded, but missing plugindata...\");\n            callbacks.success();\n            return;\n          }\n\n          Janus.log(\"Synchronous transaction successful (\" + plugindata[\"plugin\"] + \")\");\n          var data = plugindata[\"data\"];\n          Janus.debug(data);\n          callbacks.success(data);\n          return;\n        } else if (json[\"janus\"] !== \"ack\") {\n          // Not a success and not an ack, must be an error\n          if (json[\"error\"]) {\n            Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n            callbacks.error(json[\"error\"].code + \" \" + json[\"error\"].reason);\n          } else {\n            Janus.error(\"Unknown error\"); // FIXME\n\n            callbacks.error(\"Unknown error\");\n          }\n\n          return;\n        } // If we got here, the plugin decided to handle the request asynchronously\n\n\n        callbacks.success();\n      },\n      error: function error(textStatus, errorThrown) {\n        Janus.error(textStatus + \":\", errorThrown); // FIXME\n\n        callbacks.error(textStatus + \": \" + errorThrown);\n      }\n    });\n  } // Private method to send a trickle candidate\n\n\n  function sendTrickleCandidate(handleId, candidate) {\n    if (!connected) {\n      Janus.warn(\"Is the server down? (connected=false)\");\n      return;\n    }\n\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      return;\n    }\n\n    var request = {\n      \"janus\": \"trickle\",\n      \"candidate\": candidate,\n      \"transaction\": Janus.randomString(12)\n    };\n    if (pluginHandle.token) request[\"token\"] = pluginHandle.token;\n    if (apisecret) request[\"apisecret\"] = apisecret;\n    Janus.vdebug(\"Sending trickle candidate (handle=\" + handleId + \"):\");\n    Janus.vdebug(request);\n\n    if (websockets) {\n      request[\"session_id\"] = sessionId;\n      request[\"handle_id\"] = handleId;\n      ws.send(JSON.stringify(request));\n      return;\n    }\n\n    Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function success(json) {\n        Janus.vdebug(\"Candidate sent!\");\n        Janus.vdebug(json);\n\n        if (json[\"janus\"] !== \"ack\") {\n          Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n\n          return;\n        }\n      },\n      error: function error(textStatus, errorThrown) {\n        Janus.error(textStatus + \":\", errorThrown); // FIXME\n      }\n    });\n  } // Private method to create a data channel\n\n\n  function createDataChannel(handleId, dclabel, incoming, pendingData) {\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n\n    var onDataChannelMessage = function onDataChannelMessage(event) {\n      Janus.log('Received message on data channel:', event);\n      var label = event.target.label;\n      pluginHandle.ondata(event.data, label);\n    };\n\n    var onDataChannelStateChange = function onDataChannelStateChange(event) {\n      Janus.log('Received state change on data channel:', event);\n      var label = event.target.label;\n      var dcState = config.dataChannel[label] ? config.dataChannel[label].readyState : \"null\";\n      Janus.log('State change on <' + label + '> data channel: ' + dcState);\n\n      if (dcState === 'open') {\n        // Any pending messages to send?\n        if (config.dataChannel[label].pending && config.dataChannel[label].pending.length > 0) {\n          Janus.log(\"Sending pending messages on <\" + label + \">:\", config.dataChannel[label].pending.length);\n\n          var _iterator4 = _createForOfIteratorHelper(config.dataChannel[label].pending),\n              _step4;\n\n          try {\n            for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n              var data = _step4.value;\n              Janus.log(\"Sending data on data channel <\" + label + \">\");\n              Janus.debug(data);\n              config.dataChannel[label].send(data);\n            }\n          } catch (err) {\n            _iterator4.e(err);\n          } finally {\n            _iterator4.f();\n          }\n\n          config.dataChannel[label].pending = [];\n        } // Notify the open data channel\n\n\n        pluginHandle.ondataopen(label);\n      }\n    };\n\n    var onDataChannelError = function onDataChannelError(error) {\n      Janus.error('Got error on data channel:', error); // TODO\n    };\n\n    if (!incoming) {\n      // FIXME Add options (ordered, maxRetransmits, etc.)\n      config.dataChannel[dclabel] = config.pc.createDataChannel(dclabel, {\n        ordered: true\n      });\n    } else {\n      // The channel was created by Janus\n      config.dataChannel[dclabel] = incoming;\n    }\n\n    config.dataChannel[dclabel].onmessage = onDataChannelMessage;\n    config.dataChannel[dclabel].onopen = onDataChannelStateChange;\n    config.dataChannel[dclabel].onclose = onDataChannelStateChange;\n    config.dataChannel[dclabel].onerror = onDataChannelError;\n    config.dataChannel[dclabel].pending = [];\n    if (pendingData) config.dataChannel[dclabel].pending.push(pendingData);\n  } // Private method to send a data channel message\n\n\n  function sendData(handleId, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n    var data = callbacks.text || callbacks.data;\n\n    if (!data) {\n      Janus.warn(\"Invalid data\");\n      callbacks.error(\"Invalid data\");\n      return;\n    }\n\n    var label = callbacks.label ? callbacks.label : Janus.dataChanDefaultLabel;\n\n    if (!config.dataChannel[label]) {\n      // Create new data channel and wait for it to open\n      createDataChannel(handleId, label, false, data);\n      callbacks.success();\n      return;\n    }\n\n    if (config.dataChannel[label].readyState !== \"open\") {\n      config.dataChannel[label].pending.push(data);\n      callbacks.success();\n      return;\n    }\n\n    Janus.log(\"Sending data on data channel <\" + label + \">\");\n    Janus.debug(data);\n    config.dataChannel[label].send(data);\n    callbacks.success();\n  } // Private method to send a DTMF tone\n\n\n  function sendDtmf(handleId, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n\n    if (!config.dtmfSender) {\n      // Create the DTMF sender the proper way, if possible\n      if (config.pc) {\n        var senders = config.pc.getSenders();\n        var audioSender = senders.find(function (sender) {\n          return sender.track && sender.track.kind === 'audio';\n        });\n\n        if (!audioSender) {\n          Janus.warn(\"Invalid DTMF configuration (no audio track)\");\n          callbacks.error(\"Invalid DTMF configuration (no audio track)\");\n          return;\n        }\n\n        config.dtmfSender = audioSender.dtmf;\n\n        if (config.dtmfSender) {\n          Janus.log(\"Created DTMF Sender\");\n\n          config.dtmfSender.ontonechange = function (tone) {\n            Janus.debug(\"Sent DTMF tone: \" + tone.tone);\n          };\n        }\n      }\n\n      if (!config.dtmfSender) {\n        Janus.warn(\"Invalid DTMF configuration\");\n        callbacks.error(\"Invalid DTMF configuration\");\n        return;\n      }\n    }\n\n    var dtmf = callbacks.dtmf;\n\n    if (!dtmf) {\n      Janus.warn(\"Invalid DTMF parameters\");\n      callbacks.error(\"Invalid DTMF parameters\");\n      return;\n    }\n\n    var tones = dtmf.tones;\n\n    if (!tones) {\n      Janus.warn(\"Invalid DTMF string\");\n      callbacks.error(\"Invalid DTMF string\");\n      return;\n    }\n\n    var duration = typeof dtmf.duration === 'number' ? dtmf.duration : 500; // We choose 500ms as the default duration for a tone\n\n    var gap = typeof dtmf.gap === 'number' ? dtmf.gap : 50; // We choose 50ms as the default gap between tones\n\n    Janus.debug(\"Sending DTMF string \" + tones + \" (duration \" + duration + \"ms, gap \" + gap + \"ms)\");\n    config.dtmfSender.insertDTMF(tones, duration, gap);\n    callbacks.success();\n  } // Private method to destroy a plugin handle\n\n\n  function destroyHandle(handleId, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    var noRequest = callbacks.noRequest === true;\n    Janus.log(\"Destroying handle \" + handleId + \" (only-locally=\" + noRequest + \")\");\n    cleanupWebrtc(handleId);\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || pluginHandle.detached) {\n      // Plugin was already detached by Janus, calling detach again will return a handle not found error, so just exit here\n      delete pluginHandles[handleId];\n      callbacks.success();\n      return;\n    }\n\n    if (noRequest) {\n      // We're only removing the handle locally\n      delete pluginHandles[handleId];\n      callbacks.success();\n      return;\n    }\n\n    if (!connected) {\n      Janus.warn(\"Is the server down? (connected=false)\");\n      callbacks.error(\"Is the server down? (connected=false)\");\n      return;\n    }\n\n    var request = {\n      \"janus\": \"detach\",\n      \"transaction\": Janus.randomString(12)\n    };\n    if (pluginHandle.token) request[\"token\"] = pluginHandle.token;\n    if (apisecret) request[\"apisecret\"] = apisecret;\n\n    if (websockets) {\n      request[\"session_id\"] = sessionId;\n      request[\"handle_id\"] = handleId;\n      ws.send(JSON.stringify(request));\n      delete pluginHandles[handleId];\n      callbacks.success();\n      return;\n    }\n\n    Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function success(json) {\n        Janus.log(\"Destroyed handle:\");\n        Janus.debug(json);\n\n        if (json[\"janus\"] !== \"success\") {\n          Janus.error(\"Ooops: \" + json[\"error\"].code + \" \" + json[\"error\"].reason); // FIXME\n        }\n\n        delete pluginHandles[handleId];\n        callbacks.success();\n      },\n      error: function error(textStatus, errorThrown) {\n        Janus.error(textStatus + \":\", errorThrown); // FIXME\n        // We cleanup anyway\n\n        delete pluginHandles[handleId];\n        callbacks.success();\n      }\n    });\n  } // WebRTC stuff\n\n\n  function streamsDone(handleId, jsep, media, callbacks, stream) {\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n    Janus.debug(\"streamsDone:\", stream);\n\n    if (stream) {\n      Janus.debug(\"  -- Audio tracks:\", stream.getAudioTracks());\n      Janus.debug(\"  -- Video tracks:\", stream.getVideoTracks());\n    } // We're now capturing the new stream: check if we're updating or if it's a new thing\n\n\n    var addTracks = false;\n\n    if (!config.myStream || !media.update || config.streamExternal) {\n      config.myStream = stream;\n      addTracks = true;\n    } else {\n      // We only need to update the existing stream\n      if ((!media.update && isAudioSendEnabled(media) || media.update && (media.addAudio || media.replaceAudio)) && stream.getAudioTracks() && stream.getAudioTracks().length) {\n        config.myStream.addTrack(stream.getAudioTracks()[0]);\n\n        if (Janus.unifiedPlan) {\n          // Use Transceivers\n          Janus.log((media.replaceAudio ? \"Replacing\" : \"Adding\") + \" audio track:\", stream.getAudioTracks()[0]);\n          var audioTransceiver = null;\n          var transceivers = config.pc.getTransceivers();\n\n          if (transceivers && transceivers.length > 0) {\n            var _iterator5 = _createForOfIteratorHelper(transceivers),\n                _step5;\n\n            try {\n              for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                var t = _step5.value;\n\n                if (t.sender && t.sender.track && t.sender.track.kind === \"audio\" || t.receiver && t.receiver.track && t.receiver.track.kind === \"audio\") {\n                  audioTransceiver = t;\n                  break;\n                }\n              }\n            } catch (err) {\n              _iterator5.e(err);\n            } finally {\n              _iterator5.f();\n            }\n          }\n\n          if (audioTransceiver && audioTransceiver.sender) {\n            audioTransceiver.sender.replaceTrack(stream.getAudioTracks()[0]);\n          } else {\n            config.pc.addTrack(stream.getAudioTracks()[0], stream);\n          }\n        } else {\n          Janus.log((media.replaceAudio ? \"Replacing\" : \"Adding\") + \" audio track:\", stream.getAudioTracks()[0]);\n          config.pc.addTrack(stream.getAudioTracks()[0], stream);\n        }\n      }\n\n      if ((!media.update && isVideoSendEnabled(media) || media.update && (media.addVideo || media.replaceVideo)) && stream.getVideoTracks() && stream.getVideoTracks().length) {\n        config.myStream.addTrack(stream.getVideoTracks()[0]);\n\n        if (Janus.unifiedPlan) {\n          // Use Transceivers\n          Janus.log((media.replaceVideo ? \"Replacing\" : \"Adding\") + \" video track:\", stream.getVideoTracks()[0]);\n          var videoTransceiver = null;\n          var transceivers = config.pc.getTransceivers();\n\n          if (transceivers && transceivers.length > 0) {\n            var _iterator6 = _createForOfIteratorHelper(transceivers),\n                _step6;\n\n            try {\n              for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                var t = _step6.value;\n\n                if (t.sender && t.sender.track && t.sender.track.kind === \"video\" || t.receiver && t.receiver.track && t.receiver.track.kind === \"video\") {\n                  videoTransceiver = t;\n                  break;\n                }\n              }\n            } catch (err) {\n              _iterator6.e(err);\n            } finally {\n              _iterator6.f();\n            }\n          }\n\n          if (videoTransceiver && videoTransceiver.sender) {\n            videoTransceiver.sender.replaceTrack(stream.getVideoTracks()[0]);\n          } else {\n            config.pc.addTrack(stream.getVideoTracks()[0], stream);\n          }\n        } else {\n          Janus.log((media.replaceVideo ? \"Replacing\" : \"Adding\") + \" video track:\", stream.getVideoTracks()[0]);\n          config.pc.addTrack(stream.getVideoTracks()[0], stream);\n        }\n      }\n    } // If we still need to create a PeerConnection, let's do that\n\n\n    if (!config.pc) {\n      var pc_config = {\n        \"iceServers\": iceServers,\n        \"iceTransportPolicy\": iceTransportPolicy,\n        \"bundlePolicy\": bundlePolicy\n      };\n\n      if (Janus.webRTCAdapter.browserDetails.browser === \"chrome\") {\n        // For Chrome versions before 72, we force a plan-b semantic, and unified-plan otherwise\n        pc_config[\"sdpSemantics\"] = Janus.webRTCAdapter.browserDetails.version < 72 ? \"plan-b\" : \"unified-plan\";\n      }\n\n      var pc_constraints = {\n        \"optional\": [{\n          \"DtlsSrtpKeyAgreement\": true\n        }]\n      };\n\n      if (ipv6Support) {\n        pc_constraints.optional.push({\n          \"googIPv6\": true\n        });\n      } // Any custom constraint to add?\n\n\n      if (callbacks.rtcConstraints && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(callbacks.rtcConstraints) === 'object') {\n        Janus.debug(\"Adding custom PeerConnection constraints:\", callbacks.rtcConstraints);\n\n        for (var i in callbacks.rtcConstraints) {\n          pc_constraints.optional.push(callbacks.rtcConstraints[i]);\n        }\n      }\n\n      if (Janus.webRTCAdapter.browserDetails.browser === \"edge\") {\n        // This is Edge, enable BUNDLE explicitly\n        pc_config.bundlePolicy = \"max-bundle\";\n      }\n\n      Janus.log(\"Creating PeerConnection\");\n      Janus.debug(pc_constraints);\n      config.pc = new RTCPeerConnection(pc_config, pc_constraints);\n      Janus.debug(config.pc);\n\n      if (config.pc.getStats) {\n        // FIXME\n        config.volume = {};\n        config.bitrate.value = \"0 kbits/sec\";\n      }\n\n      Janus.log(\"Preparing local SDP and gathering candidates (trickle=\" + config.trickle + \")\");\n\n      config.pc.oniceconnectionstatechange = function (e) {\n        if (config.pc) pluginHandle.iceState(config.pc.iceConnectionState);\n      };\n\n      config.pc.onicecandidate = function (event) {\n        if (!event.candidate || Janus.webRTCAdapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0) {\n          Janus.log(\"End of candidates.\");\n          config.iceDone = true;\n\n          if (config.trickle === true) {\n            // Notify end of candidates\n            sendTrickleCandidate(handleId, {\n              \"completed\": true\n            });\n          } else {\n            // No trickle, time to send the complete SDP (including all candidates)\n            sendSDP(handleId, callbacks);\n          }\n        } else {\n          // JSON.stringify doesn't work on some WebRTC objects anymore\n          // See https://code.google.com/p/chromium/issues/detail?id=467366\n          var candidate = {\n            \"candidate\": event.candidate.candidate,\n            \"sdpMid\": event.candidate.sdpMid,\n            \"sdpMLineIndex\": event.candidate.sdpMLineIndex\n          };\n\n          if (config.trickle === true) {\n            // Send candidate\n            sendTrickleCandidate(handleId, candidate);\n          }\n        }\n      };\n\n      config.pc.ontrack = function (event) {\n        Janus.log(\"Handling Remote Track\");\n        Janus.debug(event);\n        if (!event.streams) return;\n        config.remoteStream = event.streams[0];\n        pluginHandle.onremotestream(config.remoteStream);\n        if (event.track.onended) return;\n        var trackMutedTimeoutId = null;\n        Janus.log(\"Adding onended callback to track:\", event.track);\n\n        event.track.onended = function (ev) {\n          Janus.log(\"Remote track removed:\", ev);\n\n          if (config.remoteStream) {\n            clearTimeout(trackMutedTimeoutId);\n            config.remoteStream.removeTrack(ev.target);\n            pluginHandle.onremotestream(config.remoteStream);\n          }\n        };\n\n        event.track.onmute = function (ev) {\n          Janus.log(\"Remote track muted:\", ev);\n\n          if (config.remoteStream && trackMutedTimeoutId == null) {\n            trackMutedTimeoutId = setTimeout(function () {\n              Janus.log(\"Removing remote track\");\n\n              if (config.remoteStream) {\n                config.remoteStream.removeTrack(ev.target);\n                pluginHandle.onremotestream(config.remoteStream);\n                trackMutedTimeoutId = null;\n              } // Chrome seems to raise mute events only at multiples of 834ms;\n              // we set the timeout to three times this value (rounded to 840ms)\n\n            }, 3 * 840);\n          }\n        };\n\n        event.track.onunmute = function (ev) {\n          Janus.log(\"Remote track flowing again:\", ev);\n\n          if (trackMutedTimeoutId != null) {\n            clearTimeout(trackMutedTimeoutId);\n            trackMutedTimeoutId = null;\n          } else {\n            try {\n              config.remoteStream.addTrack(ev.target);\n              pluginHandle.onremotestream(config.remoteStream);\n            } catch (e) {\n              Janus.error(e);\n            }\n          }\n        };\n      };\n    }\n\n    if (addTracks && stream) {\n      Janus.log('Adding local stream');\n      var simulcast2 = callbacks.simulcast2 === true;\n      stream.getTracks().forEach(function (track) {\n        Janus.log('Adding local track:', track);\n\n        if (!simulcast2) {\n          config.pc.addTrack(track, stream);\n        } else {\n          if (track.kind === \"audio\") {\n            config.pc.addTrack(track, stream);\n          } else {\n            Janus.log('Enabling rid-based simulcasting:', track);\n            var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates);\n            config.pc.addTransceiver(track, {\n              direction: \"sendrecv\",\n              streams: [stream],\n              sendEncodings: [{\n                rid: \"h\",\n                active: true,\n                maxBitrate: maxBitrates.high\n              }, {\n                rid: \"m\",\n                active: true,\n                maxBitrate: maxBitrates.medium,\n                scaleResolutionDownBy: 2\n              }, {\n                rid: \"l\",\n                active: true,\n                maxBitrate: maxBitrates.low,\n                scaleResolutionDownBy: 4\n              }]\n            });\n          }\n        }\n      });\n    } // Any data channel to create?\n\n\n    if (isDataEnabled(media) && !config.dataChannel[Janus.dataChanDefaultLabel]) {\n      Janus.log(\"Creating data channel\");\n      createDataChannel(handleId, Janus.dataChanDefaultLabel, false);\n\n      config.pc.ondatachannel = function (event) {\n        Janus.log(\"Data channel created by Janus:\", event);\n        createDataChannel(handleId, event.channel.label, event.channel);\n      };\n    } // If there's a new local stream, let's notify the application\n\n\n    if (config.myStream) {\n      pluginHandle.onlocalstream(config.myStream);\n    } // Create offer/answer now\n\n\n    if (!jsep) {\n      createOffer(handleId, media, callbacks);\n    } else {\n      config.pc.setRemoteDescription(jsep).then(function () {\n        Janus.log(\"Remote description accepted!\");\n        config.remoteSdp = jsep.sdp; // Any trickle candidate we cached?\n\n        if (config.candidates && config.candidates.length > 0) {\n          for (var i = 0; i < config.candidates.length; i++) {\n            var candidate = config.candidates[i];\n            Janus.debug(\"Adding remote candidate:\", candidate);\n\n            if (!candidate || candidate.completed === true) {\n              // end-of-candidates\n              config.pc.addIceCandidate(Janus.endOfCandidates);\n            } else {\n              // New candidate\n              config.pc.addIceCandidate(candidate);\n            }\n          }\n\n          config.candidates = [];\n        } // Create the answer now\n\n\n        createAnswer(handleId, media, callbacks);\n      }, callbacks.error);\n    }\n  }\n\n  function prepareWebrtc(handleId, offer, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : webrtcError;\n    var jsep = callbacks.jsep;\n\n    if (offer && jsep) {\n      Janus.error(\"Provided a JSEP to a createOffer\");\n      callbacks.error(\"Provided a JSEP to a createOffer\");\n      return;\n    } else if (!offer && (!jsep || !jsep.type || !jsep.sdp)) {\n      Janus.error(\"A valid JSEP is required for createAnswer\");\n      callbacks.error(\"A valid JSEP is required for createAnswer\");\n      return;\n    }\n    /* Check that callbacks.media is a (not null) Object */\n\n\n    callbacks.media = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(callbacks.media) === 'object' && callbacks.media ? callbacks.media : {\n      audio: true,\n      video: true\n    };\n    var media = callbacks.media;\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n    config.trickle = isTrickleEnabled(callbacks.trickle); // Are we updating a session?\n\n    if (!config.pc) {\n      // Nope, new PeerConnection\n      media.update = false;\n      media.keepAudio = false;\n      media.keepVideo = false;\n    } else {\n      Janus.log(\"Updating existing media session\");\n      media.update = true; // Check if there's anything to add/remove/replace, or if we\n      // can go directly to preparing the new SDP offer or answer\n\n      if (callbacks.stream) {\n        // External stream: is this the same as the one we were using before?\n        if (callbacks.stream !== config.myStream) {\n          Janus.log(\"Renegotiation involves a new external stream\");\n        }\n      } else {\n        // Check if there are changes on audio\n        if (media.addAudio) {\n          media.keepAudio = false;\n          media.replaceAudio = false;\n          media.removeAudio = false;\n          media.audioSend = true;\n\n          if (config.myStream && config.myStream.getAudioTracks() && config.myStream.getAudioTracks().length) {\n            Janus.error(\"Can't add audio stream, there already is one\");\n            callbacks.error(\"Can't add audio stream, there already is one\");\n            return;\n          }\n        } else if (media.removeAudio) {\n          media.keepAudio = false;\n          media.replaceAudio = false;\n          media.addAudio = false;\n          media.audioSend = false;\n        } else if (media.replaceAudio) {\n          media.keepAudio = false;\n          media.addAudio = false;\n          media.removeAudio = false;\n          media.audioSend = true;\n        }\n\n        if (!config.myStream) {\n          // No media stream: if we were asked to replace, it's actually an \"add\"\n          if (media.replaceAudio) {\n            media.keepAudio = false;\n            media.replaceAudio = false;\n            media.addAudio = true;\n            media.audioSend = true;\n          }\n\n          if (isAudioSendEnabled(media)) {\n            media.keepAudio = false;\n            media.addAudio = true;\n          }\n        } else {\n          if (!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n            // No audio track: if we were asked to replace, it's actually an \"add\"\n            if (media.replaceAudio) {\n              media.keepAudio = false;\n              media.replaceAudio = false;\n              media.addAudio = true;\n              media.audioSend = true;\n            }\n\n            if (isAudioSendEnabled(media)) {\n              media.keepAudio = false;\n              media.addAudio = true;\n            }\n          } else {\n            // We have an audio track: should we keep it as it is?\n            if (isAudioSendEnabled(media) && !media.removeAudio && !media.replaceAudio) {\n              media.keepAudio = true;\n            }\n          }\n        } // Check if there are changes on video\n\n\n        if (media.addVideo) {\n          media.keepVideo = false;\n          media.replaceVideo = false;\n          media.removeVideo = false;\n          media.videoSend = true;\n\n          if (config.myStream && config.myStream.getVideoTracks() && config.myStream.getVideoTracks().length) {\n            Janus.error(\"Can't add video stream, there already is one\");\n            callbacks.error(\"Can't add video stream, there already is one\");\n            return;\n          }\n        } else if (media.removeVideo) {\n          media.keepVideo = false;\n          media.replaceVideo = false;\n          media.addVideo = false;\n          media.videoSend = false;\n        } else if (media.replaceVideo) {\n          media.keepVideo = false;\n          media.addVideo = false;\n          media.removeVideo = false;\n          media.videoSend = true;\n        }\n\n        if (!config.myStream) {\n          // No media stream: if we were asked to replace, it's actually an \"add\"\n          if (media.replaceVideo) {\n            media.keepVideo = false;\n            media.replaceVideo = false;\n            media.addVideo = true;\n            media.videoSend = true;\n          }\n\n          if (isVideoSendEnabled(media)) {\n            media.keepVideo = false;\n            media.addVideo = true;\n          }\n        } else {\n          if (!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n            // No video track: if we were asked to replace, it's actually an \"add\"\n            if (media.replaceVideo) {\n              media.keepVideo = false;\n              media.replaceVideo = false;\n              media.addVideo = true;\n              media.videoSend = true;\n            }\n\n            if (isVideoSendEnabled(media)) {\n              media.keepVideo = false;\n              media.addVideo = true;\n            }\n          } else {\n            // We have a video track: should we keep it as it is?\n            if (isVideoSendEnabled(media) && !media.removeVideo && !media.replaceVideo) {\n              media.keepVideo = true;\n            }\n          }\n        } // Data channels can only be added\n\n\n        if (media.addData) {\n          media.data = true;\n        }\n      } // If we're updating and keeping all tracks, let's skip the getUserMedia part\n\n\n      if (isAudioSendEnabled(media) && media.keepAudio && isVideoSendEnabled(media) && media.keepVideo) {\n        pluginHandle.consentDialog(false);\n        streamsDone(handleId, jsep, media, callbacks, config.myStream);\n        return;\n      }\n    } // If we're updating, check if we need to remove/replace one of the tracks\n\n\n    if (media.update && !config.streamExternal) {\n      if (media.removeAudio || media.replaceAudio) {\n        if (config.myStream && config.myStream.getAudioTracks() && config.myStream.getAudioTracks().length) {\n          var at = config.myStream.getAudioTracks()[0];\n          Janus.log(\"Removing audio track:\", at);\n          config.myStream.removeTrack(at);\n\n          try {\n            at.stop();\n          } catch (e) {}\n        }\n\n        if (config.pc.getSenders() && config.pc.getSenders().length) {\n          var ra = true;\n\n          if (media.replaceAudio && Janus.unifiedPlan) {\n            // We can use replaceTrack\n            ra = false;\n          }\n\n          if (ra) {\n            var _iterator7 = _createForOfIteratorHelper(config.pc.getSenders()),\n                _step7;\n\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var asnd = _step7.value;\n\n                if (asnd && asnd.track && asnd.track.kind === \"audio\") {\n                  Janus.log(\"Removing audio sender:\", asnd);\n                  config.pc.removeTrack(asnd);\n                }\n              }\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n          }\n        }\n      }\n\n      if (media.removeVideo || media.replaceVideo) {\n        if (config.myStream && config.myStream.getVideoTracks() && config.myStream.getVideoTracks().length) {\n          var vt = config.myStream.getVideoTracks()[0];\n          Janus.log(\"Removing video track:\", vt);\n          config.myStream.removeTrack(vt);\n\n          try {\n            vt.stop();\n          } catch (e) {}\n        }\n\n        if (config.pc.getSenders() && config.pc.getSenders().length) {\n          var rv = true;\n\n          if (media.replaceVideo && Janus.unifiedPlan) {\n            // We can use replaceTrack\n            rv = false;\n          }\n\n          if (rv) {\n            var _iterator8 = _createForOfIteratorHelper(config.pc.getSenders()),\n                _step8;\n\n            try {\n              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                var vsnd = _step8.value;\n\n                if (vsnd && vsnd.track && vsnd.track.kind === \"video\") {\n                  Janus.log(\"Removing video sender:\", vsnd);\n                  config.pc.removeTrack(vsnd);\n                }\n              }\n            } catch (err) {\n              _iterator8.e(err);\n            } finally {\n              _iterator8.f();\n            }\n          }\n        }\n      }\n    } // Was a MediaStream object passed, or do we need to take care of that?\n\n\n    if (callbacks.stream) {\n      var stream = callbacks.stream;\n      Janus.log(\"MediaStream provided by the application\");\n      Janus.debug(stream); // If this is an update, let's check if we need to release the previous stream\n\n      if (media.update) {\n        if (config.myStream && config.myStream !== callbacks.stream && !config.streamExternal) {\n          // We're replacing a stream we captured ourselves with an external one\n          try {\n            // Try a MediaStreamTrack.stop() for each track\n            var tracks = config.myStream.getTracks();\n\n            var _iterator9 = _createForOfIteratorHelper(tracks),\n                _step9;\n\n            try {\n              for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                var mst = _step9.value;\n                Janus.log(mst);\n                if (mst) mst.stop();\n              }\n            } catch (err) {\n              _iterator9.e(err);\n            } finally {\n              _iterator9.f();\n            }\n          } catch (e) {// Do nothing if this fails\n          }\n\n          config.myStream = null;\n        }\n      } // Skip the getUserMedia part\n\n\n      config.streamExternal = true;\n      pluginHandle.consentDialog(false);\n      streamsDone(handleId, jsep, media, callbacks, stream);\n      return;\n    }\n\n    if (isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n      if (!Janus.isGetUserMediaAvailable()) {\n        callbacks.error(\"getUserMedia not available\");\n        return;\n      }\n\n      var constraints = {\n        mandatory: {},\n        optional: []\n      };\n      pluginHandle.consentDialog(true);\n      var audioSupport = isAudioSendEnabled(media);\n      if (audioSupport && media && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(media.audio) === 'object') audioSupport = media.audio;\n      var videoSupport = isVideoSendEnabled(media);\n\n      if (videoSupport && media) {\n        var simulcast = callbacks.simulcast === true;\n        var simulcast2 = callbacks.simulcast2 === true;\n        if ((simulcast || simulcast2) && !jsep && !media.video) media.video = \"hires\";\n\n        if (media.video && media.video != 'screen' && media.video != 'window') {\n          if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(media.video) === 'object') {\n            videoSupport = media.video;\n          } else {\n            var width = 0;\n            var height = 0;\n\n            if (media.video === 'lowres') {\n              // Small resolution, 4:3\n              height = 240;\n              width = 320;\n            } else if (media.video === 'lowres-16:9') {\n              // Small resolution, 16:9\n              height = 180;\n              width = 320;\n            } else if (media.video === 'hires' || media.video === 'hires-16:9' || media.video === 'hdres') {\n              // High(HD) resolution is only 16:9\n              height = 720;\n              width = 1280;\n            } else if (media.video === 'fhdres') {\n              // Full HD resolution is only 16:9\n              height = 1080;\n              width = 1920;\n            } else if (media.video === '4kres') {\n              // 4K resolution is only 16:9\n              height = 2160;\n              width = 3840;\n            } else if (media.video === 'stdres') {\n              // Normal resolution, 4:3\n              height = 480;\n              width = 640;\n            } else if (media.video === 'stdres-16:9') {\n              // Normal resolution, 16:9\n              height = 360;\n              width = 640;\n            } else {\n              Janus.log(\"Default video setting is stdres 4:3\");\n              height = 480;\n              width = 640;\n            }\n\n            Janus.log(\"Adding media constraint:\", media.video);\n            videoSupport = {\n              'height': {\n                'ideal': height\n              },\n              'width': {\n                'ideal': width\n              }\n            };\n            Janus.log(\"Adding video constraint:\", videoSupport);\n          }\n        } else if (media.video === 'screen' || media.video === 'window') {\n          // We're going to try and use the extension for Chrome 34+, the old approach\n          // for older versions of Chrome, or the experimental support in Firefox 33+\n          var callbackUserMedia = function callbackUserMedia(error, stream) {\n            pluginHandle.consentDialog(false);\n\n            if (error) {\n              callbacks.error(error);\n            } else {\n              streamsDone(handleId, jsep, media, callbacks, stream);\n            }\n          };\n\n          var getScreenMedia = function getScreenMedia(constraints, gsmCallback, useAudio) {\n            Janus.log(\"Adding media constraint (screen capture)\");\n            Janus.debug(constraints);\n            navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n              if (useAudio) {\n                navigator.mediaDevices.getUserMedia({\n                  audio: true,\n                  video: false\n                }).then(function (audioStream) {\n                  stream.addTrack(audioStream.getAudioTracks()[0]);\n                  gsmCallback(null, stream);\n                });\n              } else {\n                gsmCallback(null, stream);\n              }\n            })[\"catch\"](function (error) {\n              pluginHandle.consentDialog(false);\n              gsmCallback(error);\n            });\n          };\n\n          if (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {\n            // The new experimental getDisplayMedia API is available, let's use that\n            // https://groups.google.com/forum/#!topic/discuss-webrtc/Uf0SrR4uxzk\n            // https://webrtchacks.com/chrome-screensharing-getdisplaymedia/\n            constraints.video = {};\n\n            if (media.screenshareFrameRate) {\n              constraints.video.frameRate = media.screenshareFrameRate;\n            }\n\n            if (media.screenshareHeight) {\n              constraints.video.height = media.screenshareHeight;\n            }\n\n            if (media.screenshareWidth) {\n              constraints.video.width = media.screenshareWidth;\n            }\n\n            constraints.audio = media.captureDesktopAudio;\n            navigator.mediaDevices.getDisplayMedia(constraints).then(function (stream) {\n              pluginHandle.consentDialog(false);\n\n              if (isAudioSendEnabled(media) && !media.keepAudio) {\n                navigator.mediaDevices.getUserMedia({\n                  audio: true,\n                  video: false\n                }).then(function (audioStream) {\n                  stream.addTrack(audioStream.getAudioTracks()[0]);\n                  streamsDone(handleId, jsep, media, callbacks, stream);\n                });\n              } else {\n                streamsDone(handleId, jsep, media, callbacks, stream);\n              }\n            }, function (error) {\n              pluginHandle.consentDialog(false);\n              callbacks.error(error);\n            });\n            return;\n          }\n\n          if (Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n            var chromever = Janus.webRTCAdapter.browserDetails.version;\n            var maxver = 33;\n            if (window.navigator.userAgent.match('Linux')) maxver = 35; // \"known\" crash in chrome 34 and 35 on linux\n\n            if (chromever >= 26 && chromever <= maxver) {\n              // Chrome 26->33 requires some awkward chrome://flags manipulation\n              constraints = {\n                video: {\n                  mandatory: {\n                    googLeakyBucket: true,\n                    maxWidth: window.screen.width,\n                    maxHeight: window.screen.height,\n                    minFrameRate: media.screenshareFrameRate,\n                    maxFrameRate: media.screenshareFrameRate,\n                    chromeMediaSource: 'screen'\n                  }\n                },\n                audio: isAudioSendEnabled(media) && !media.keepAudio\n              };\n              getScreenMedia(constraints, callbackUserMedia);\n            } else {\n              // Chrome 34+ requires an extension\n              Janus.extension.getScreen(function (error, sourceId) {\n                if (error) {\n                  pluginHandle.consentDialog(false);\n                  return callbacks.error(error);\n                }\n\n                constraints = {\n                  audio: false,\n                  video: {\n                    mandatory: {\n                      chromeMediaSource: 'desktop',\n                      maxWidth: window.screen.width,\n                      maxHeight: window.screen.height,\n                      minFrameRate: media.screenshareFrameRate,\n                      maxFrameRate: media.screenshareFrameRate\n                    },\n                    optional: [{\n                      googLeakyBucket: true\n                    }, {\n                      googTemporalLayeredScreencast: true\n                    }]\n                  }\n                };\n                constraints.video.mandatory.chromeMediaSourceId = sourceId;\n                getScreenMedia(constraints, callbackUserMedia, isAudioSendEnabled(media) && !media.keepAudio);\n              });\n            }\n          } else if (Janus.webRTCAdapter.browserDetails.browser === 'firefox') {\n            if (Janus.webRTCAdapter.browserDetails.version >= 33) {\n              // Firefox 33+ has experimental support for screen sharing\n              constraints = {\n                video: {\n                  mozMediaSource: media.video,\n                  mediaSource: media.video\n                },\n                audio: isAudioSendEnabled(media) && !media.keepAudio\n              };\n              getScreenMedia(constraints, function (err, stream) {\n                callbackUserMedia(err, stream); // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n\n                if (!err) {\n                  var lastTime = stream.currentTime;\n                  var polly = window.setInterval(function () {\n                    if (!stream) window.clearInterval(polly);\n\n                    if (stream.currentTime == lastTime) {\n                      window.clearInterval(polly);\n\n                      if (stream.onended) {\n                        stream.onended();\n                      }\n                    }\n\n                    lastTime = stream.currentTime;\n                  }, 500);\n                }\n              });\n            } else {\n              var error = new Error('NavigatorUserMediaError');\n              error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)';\n              pluginHandle.consentDialog(false);\n              callbacks.error(error);\n              return;\n            }\n          }\n\n          return;\n        }\n      } // If we got here, we're not screensharing\n\n\n      if (!media || media.video !== 'screen') {\n        // Check whether all media sources are actually available or not\n        navigator.mediaDevices.enumerateDevices().then(function (devices) {\n          var audioExist = devices.some(function (device) {\n            return device.kind === 'audioinput';\n          }),\n              videoExist = isScreenSendEnabled(media) || devices.some(function (device) {\n            return device.kind === 'videoinput';\n          }); // Check whether a missing device is really a problem\n\n          var audioSend = isAudioSendEnabled(media);\n          var videoSend = isVideoSendEnabled(media);\n          var needAudioDevice = isAudioSendRequired(media);\n          var needVideoDevice = isVideoSendRequired(media);\n\n          if (audioSend || videoSend || needAudioDevice || needVideoDevice) {\n            // We need to send either audio or video\n            var haveAudioDevice = audioSend ? audioExist : false;\n            var haveVideoDevice = videoSend ? videoExist : false;\n\n            if (!haveAudioDevice && !haveVideoDevice) {\n              // FIXME Should we really give up, or just assume recvonly for both?\n              pluginHandle.consentDialog(false);\n              callbacks.error('No capture device found');\n              return false;\n            } else if (!haveAudioDevice && needAudioDevice) {\n              pluginHandle.consentDialog(false);\n              callbacks.error('Audio capture is required, but no capture device found');\n              return false;\n            } else if (!haveVideoDevice && needVideoDevice) {\n              pluginHandle.consentDialog(false);\n              callbacks.error('Video capture is required, but no capture device found');\n              return false;\n            }\n          }\n\n          var gumConstraints = {\n            audio: audioExist && !media.keepAudio ? audioSupport : false,\n            video: videoExist && !media.keepVideo ? videoSupport : false\n          };\n          Janus.debug(\"getUserMedia constraints\", gumConstraints);\n\n          if (!gumConstraints.audio && !gumConstraints.video) {\n            pluginHandle.consentDialog(false);\n            streamsDone(handleId, jsep, media, callbacks, stream);\n          } else {\n            navigator.mediaDevices.getUserMedia(gumConstraints).then(function (stream) {\n              pluginHandle.consentDialog(false);\n              streamsDone(handleId, jsep, media, callbacks, stream);\n            })[\"catch\"](function (error) {\n              pluginHandle.consentDialog(false);\n              callbacks.error({\n                code: error.code,\n                name: error.name,\n                message: error.message\n              });\n            });\n          }\n        })[\"catch\"](function (error) {\n          pluginHandle.consentDialog(false);\n          callbacks.error('enumerateDevices error', error);\n        });\n      }\n    } else {\n      // No need to do a getUserMedia, create offer/answer right away\n      streamsDone(handleId, jsep, media, callbacks);\n    }\n  }\n\n  function prepareWebrtcPeer(handleId, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : webrtcError;\n    var jsep = callbacks.jsep;\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n\n    if (jsep) {\n      if (!config.pc) {\n        Janus.warn(\"Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep\");\n        callbacks.error(\"No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep\");\n        return;\n      }\n\n      config.pc.setRemoteDescription(jsep).then(function () {\n        Janus.log(\"Remote description accepted!\");\n        config.remoteSdp = jsep.sdp; // Any trickle candidate we cached?\n\n        if (config.candidates && config.candidates.length > 0) {\n          for (var i = 0; i < config.candidates.length; i++) {\n            var candidate = config.candidates[i];\n            Janus.debug(\"Adding remote candidate:\", candidate);\n\n            if (!candidate || candidate.completed === true) {\n              // end-of-candidates\n              config.pc.addIceCandidate(Janus.endOfCandidates);\n            } else {\n              // New candidate\n              config.pc.addIceCandidate(candidate);\n            }\n          }\n\n          config.candidates = [];\n        } // Done\n\n\n        callbacks.success();\n      }, callbacks.error);\n    } else {\n      callbacks.error(\"Invalid JSEP\");\n    }\n  }\n\n  function createOffer(handleId, media, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    callbacks.customizeSdp = typeof callbacks.customizeSdp == \"function\" ? callbacks.customizeSdp : Janus.noop;\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n    var simulcast = callbacks.simulcast === true;\n\n    if (!simulcast) {\n      Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \")\");\n    } else {\n      Janus.log(\"Creating offer (iceDone=\" + config.iceDone + \", simulcast=\" + simulcast + \")\");\n    } // https://code.google.com/p/webrtc/issues/detail?id=3508\n\n\n    var mediaConstraints = {};\n\n    if (Janus.unifiedPlan) {\n      // We can use Transceivers\n      var audioTransceiver = null,\n          videoTransceiver = null;\n      var transceivers = config.pc.getTransceivers();\n\n      if (transceivers && transceivers.length > 0) {\n        var _iterator10 = _createForOfIteratorHelper(transceivers),\n            _step10;\n\n        try {\n          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n            var t = _step10.value;\n\n            if (t.sender && t.sender.track && t.sender.track.kind === \"audio\" || t.receiver && t.receiver.track && t.receiver.track.kind === \"audio\") {\n              if (!audioTransceiver) {\n                audioTransceiver = t;\n              }\n\n              continue;\n            }\n\n            if (t.sender && t.sender.track && t.sender.track.kind === \"video\" || t.receiver && t.receiver.track && t.receiver.track.kind === \"video\") {\n              if (!videoTransceiver) {\n                videoTransceiver = t;\n              }\n\n              continue;\n            }\n          }\n        } catch (err) {\n          _iterator10.e(err);\n        } finally {\n          _iterator10.f();\n        }\n      } // Handle audio (and related changes, if any)\n\n\n      var audioSend = isAudioSendEnabled(media);\n      var audioRecv = isAudioRecvEnabled(media);\n\n      if (!audioSend && !audioRecv) {\n        // Audio disabled: have we removed it?\n        if (media.removeAudio && audioTransceiver) {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection(\"inactive\");\n          } else {\n            audioTransceiver.direction = \"inactive\";\n          }\n\n          Janus.log(\"Setting audio transceiver to inactive:\", audioTransceiver);\n        }\n      } else {\n        // Take care of audio m-line\n        if (audioSend && audioRecv) {\n          if (audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection(\"sendrecv\");\n            } else {\n              audioTransceiver.direction = \"sendrecv\";\n            }\n\n            Janus.log(\"Setting audio transceiver to sendrecv:\", audioTransceiver);\n          }\n        } else if (audioSend && !audioRecv) {\n          if (audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection(\"sendonly\");\n            } else {\n              audioTransceiver.direction = \"sendonly\";\n            }\n\n            Janus.log(\"Setting audio transceiver to sendonly:\", audioTransceiver);\n          }\n        } else if (!audioSend && audioRecv) {\n          if (audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection(\"recvonly\");\n            } else {\n              audioTransceiver.direction = \"recvonly\";\n            }\n\n            Janus.log(\"Setting audio transceiver to recvonly:\", audioTransceiver);\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            audioTransceiver = config.pc.addTransceiver(\"audio\", {\n              direction: \"recvonly\"\n            });\n            Janus.log(\"Adding recvonly audio transceiver:\", audioTransceiver);\n          }\n        }\n      } // Handle video (and related changes, if any)\n\n\n      var videoSend = isVideoSendEnabled(media);\n      var videoRecv = isVideoRecvEnabled(media);\n\n      if (!videoSend && !videoRecv) {\n        // Video disabled: have we removed it?\n        if (media.removeVideo && videoTransceiver) {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection(\"inactive\");\n          } else {\n            videoTransceiver.direction = \"inactive\";\n          }\n\n          Janus.log(\"Setting video transceiver to inactive:\", videoTransceiver);\n        }\n      } else {\n        // Take care of video m-line\n        if (videoSend && videoRecv) {\n          if (videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection(\"sendrecv\");\n            } else {\n              videoTransceiver.direction = \"sendrecv\";\n            }\n\n            Janus.log(\"Setting video transceiver to sendrecv:\", videoTransceiver);\n          }\n        } else if (videoSend && !videoRecv) {\n          if (videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection(\"sendonly\");\n            } else {\n              videoTransceiver.direction = \"sendonly\";\n            }\n\n            Janus.log(\"Setting video transceiver to sendonly:\", videoTransceiver);\n          }\n        } else if (!videoSend && videoRecv) {\n          if (videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection(\"recvonly\");\n            } else {\n              videoTransceiver.direction = \"recvonly\";\n            }\n\n            Janus.log(\"Setting video transceiver to recvonly:\", videoTransceiver);\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            videoTransceiver = config.pc.addTransceiver(\"video\", {\n              direction: \"recvonly\"\n            });\n            Janus.log(\"Adding recvonly video transceiver:\", videoTransceiver);\n          }\n        }\n      }\n    } else {\n      mediaConstraints[\"offerToReceiveAudio\"] = isAudioRecvEnabled(media);\n      mediaConstraints[\"offerToReceiveVideo\"] = isVideoRecvEnabled(media);\n    }\n\n    var iceRestart = callbacks.iceRestart === true;\n\n    if (iceRestart) {\n      mediaConstraints[\"iceRestart\"] = true;\n    }\n\n    Janus.debug(mediaConstraints); // Check if this is Firefox and we've been asked to do simulcasting\n\n    var sendVideo = isVideoSendEnabled(media);\n\n    if (sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === \"firefox\") {\n      // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n      Janus.log(\"Enabling Simulcasting for Firefox (RID)\");\n      var sender = config.pc.getSenders().find(function (s) {\n        return s.track.kind === \"video\";\n      });\n\n      if (sender) {\n        var parameters = sender.getParameters();\n\n        if (!parameters) {\n          parameters = {};\n        }\n\n        var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates);\n        parameters.encodings = [{\n          rid: \"h\",\n          active: true,\n          maxBitrate: maxBitrates.high\n        }, {\n          rid: \"m\",\n          active: true,\n          maxBitrate: maxBitrates.medium,\n          scaleResolutionDownBy: 2\n        }, {\n          rid: \"l\",\n          active: true,\n          maxBitrate: maxBitrates.low,\n          scaleResolutionDownBy: 4\n        }];\n        sender.setParameters(parameters);\n      }\n    }\n\n    config.pc.createOffer(mediaConstraints).then(function (offer) {\n      Janus.debug(offer); // JSON.stringify doesn't work on some WebRTC objects anymore\n      // See https://code.google.com/p/chromium/issues/detail?id=467366\n\n      var jsep = {\n        \"type\": offer.type,\n        \"sdp\": offer.sdp\n      };\n      callbacks.customizeSdp(jsep);\n      offer.sdp = jsep.sdp;\n      Janus.log(\"Setting local description\");\n\n      if (sendVideo && simulcast) {\n        // This SDP munging only works with Chrome (Safari STP may support it too)\n        if (Janus.webRTCAdapter.browserDetails.browser === \"chrome\" || Janus.webRTCAdapter.browserDetails.browser === \"safari\") {\n          Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n          offer.sdp = mungeSdpForSimulcasting(offer.sdp);\n        } else if (Janus.webRTCAdapter.browserDetails.browser !== \"firefox\") {\n          Janus.warn(\"simulcast=true, but this is not Chrome nor Firefox, ignoring\");\n        }\n      }\n\n      config.mySdp = offer.sdp;\n      config.pc.setLocalDescription(offer)[\"catch\"](callbacks.error);\n      config.mediaConstraints = mediaConstraints;\n\n      if (!config.iceDone && !config.trickle) {\n        // Don't do anything until we have all candidates\n        Janus.log(\"Waiting for all candidates...\");\n        return;\n      }\n\n      Janus.log(\"Offer ready\");\n      Janus.debug(callbacks);\n      callbacks.success(offer);\n    }, callbacks.error);\n  }\n\n  function createAnswer(handleId, media, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    callbacks.customizeSdp = typeof callbacks.customizeSdp == \"function\" ? callbacks.customizeSdp : Janus.noop;\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      callbacks.error(\"Invalid handle\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n    var simulcast = callbacks.simulcast === true;\n\n    if (!simulcast) {\n      Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \")\");\n    } else {\n      Janus.log(\"Creating answer (iceDone=\" + config.iceDone + \", simulcast=\" + simulcast + \")\");\n    }\n\n    var mediaConstraints = null;\n\n    if (Janus.unifiedPlan) {\n      // We can use Transceivers\n      mediaConstraints = {};\n      var audioTransceiver = null,\n          videoTransceiver = null;\n      var transceivers = config.pc.getTransceivers();\n\n      if (transceivers && transceivers.length > 0) {\n        var _iterator11 = _createForOfIteratorHelper(transceivers),\n            _step11;\n\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var t = _step11.value;\n\n            if (t.sender && t.sender.track && t.sender.track.kind === \"audio\" || t.receiver && t.receiver.track && t.receiver.track.kind === \"audio\") {\n              if (!audioTransceiver) audioTransceiver = t;\n              continue;\n            }\n\n            if (t.sender && t.sender.track && t.sender.track.kind === \"video\" || t.receiver && t.receiver.track && t.receiver.track.kind === \"video\") {\n              if (!videoTransceiver) videoTransceiver = t;\n              continue;\n            }\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n      } // Handle audio (and related changes, if any)\n\n\n      var audioSend = isAudioSendEnabled(media);\n      var audioRecv = isAudioRecvEnabled(media);\n\n      if (!audioSend && !audioRecv) {\n        // Audio disabled: have we removed it?\n        if (media.removeAudio && audioTransceiver) {\n          try {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection(\"inactive\");\n            } else {\n              audioTransceiver.direction = \"inactive\";\n            }\n\n            Janus.log(\"Setting audio transceiver to inactive:\", audioTransceiver);\n          } catch (e) {\n            Janus.error(e);\n          }\n        }\n      } else {\n        // Take care of audio m-line\n        if (audioSend && audioRecv) {\n          if (audioTransceiver) {\n            try {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection(\"sendrecv\");\n              } else {\n                audioTransceiver.direction = \"sendrecv\";\n              }\n\n              Janus.log(\"Setting audio transceiver to sendrecv:\", audioTransceiver);\n            } catch (e) {\n              Janus.error(e);\n            }\n          }\n        } else if (audioSend && !audioRecv) {\n          try {\n            if (audioTransceiver) {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection(\"sendonly\");\n              } else {\n                audioTransceiver.direction = \"sendonly\";\n              }\n\n              Janus.log(\"Setting audio transceiver to sendonly:\", audioTransceiver);\n            }\n          } catch (e) {\n            Janus.error(e);\n          }\n        } else if (!audioSend && audioRecv) {\n          if (audioTransceiver) {\n            try {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection(\"recvonly\");\n              } else {\n                audioTransceiver.direction = \"recvonly\";\n              }\n\n              Janus.log(\"Setting audio transceiver to recvonly:\", audioTransceiver);\n            } catch (e) {\n              Janus.error(e);\n            }\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            audioTransceiver = config.pc.addTransceiver(\"audio\", {\n              direction: \"recvonly\"\n            });\n            Janus.log(\"Adding recvonly audio transceiver:\", audioTransceiver);\n          }\n        }\n      } // Handle video (and related changes, if any)\n\n\n      var videoSend = isVideoSendEnabled(media);\n      var videoRecv = isVideoRecvEnabled(media);\n\n      if (!videoSend && !videoRecv) {\n        // Video disabled: have we removed it?\n        if (media.removeVideo && videoTransceiver) {\n          try {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection(\"inactive\");\n            } else {\n              videoTransceiver.direction = \"inactive\";\n            }\n\n            Janus.log(\"Setting video transceiver to inactive:\", videoTransceiver);\n          } catch (e) {\n            Janus.error(e);\n          }\n        }\n      } else {\n        // Take care of video m-line\n        if (videoSend && videoRecv) {\n          if (videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection(\"sendrecv\");\n              } else {\n                videoTransceiver.direction = \"sendrecv\";\n              }\n\n              Janus.log(\"Setting video transceiver to sendrecv:\", videoTransceiver);\n            } catch (e) {\n              Janus.error(e);\n            }\n          }\n        } else if (videoSend && !videoRecv) {\n          if (videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection(\"sendonly\");\n              } else {\n                videoTransceiver.direction = \"sendonly\";\n              }\n\n              Janus.log(\"Setting video transceiver to sendonly:\", videoTransceiver);\n            } catch (e) {\n              Janus.error(e);\n            }\n          }\n        } else if (!videoSend && videoRecv) {\n          if (videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection(\"recvonly\");\n              } else {\n                videoTransceiver.direction = \"recvonly\";\n              }\n\n              Janus.log(\"Setting video transceiver to recvonly:\", videoTransceiver);\n            } catch (e) {\n              Janus.error(e);\n            }\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            videoTransceiver = config.pc.addTransceiver(\"video\", {\n              direction: \"recvonly\"\n            });\n            Janus.log(\"Adding recvonly video transceiver:\", videoTransceiver);\n          }\n        }\n      }\n    } else {\n      if (Janus.webRTCAdapter.browserDetails.browser === \"firefox\" || Janus.webRTCAdapter.browserDetails.browser === \"edge\") {\n        mediaConstraints = {\n          offerToReceiveAudio: isAudioRecvEnabled(media),\n          offerToReceiveVideo: isVideoRecvEnabled(media)\n        };\n      } else {\n        mediaConstraints = {\n          mandatory: {\n            OfferToReceiveAudio: isAudioRecvEnabled(media),\n            OfferToReceiveVideo: isVideoRecvEnabled(media)\n          }\n        };\n      }\n    }\n\n    Janus.debug(mediaConstraints); // Check if this is Firefox and we've been asked to do simulcasting\n\n    var sendVideo = isVideoSendEnabled(media);\n\n    if (sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === \"firefox\") {\n      // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n      Janus.log(\"Enabling Simulcasting for Firefox (RID)\");\n      var sender = config.pc.getSenders()[1];\n      Janus.log(sender);\n      var parameters = sender.getParameters();\n      Janus.log(parameters);\n      var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates);\n      sender.setParameters({\n        encodings: [{\n          rid: \"high\",\n          active: true,\n          priority: \"high\",\n          maxBitrate: maxBitrates.high\n        }, {\n          rid: \"medium\",\n          active: true,\n          priority: \"medium\",\n          maxBitrate: maxBitrates.medium\n        }, {\n          rid: \"low\",\n          active: true,\n          priority: \"low\",\n          maxBitrate: maxBitrates.low\n        }]\n      });\n    }\n\n    config.pc.createAnswer(mediaConstraints).then(function (answer) {\n      Janus.debug(answer); // JSON.stringify doesn't work on some WebRTC objects anymore\n      // See https://code.google.com/p/chromium/issues/detail?id=467366\n\n      var jsep = {\n        \"type\": answer.type,\n        \"sdp\": answer.sdp\n      };\n      callbacks.customizeSdp(jsep);\n      answer.sdp = jsep.sdp;\n      Janus.log(\"Setting local description\");\n\n      if (sendVideo && simulcast) {\n        // This SDP munging only works with Chrome\n        if (Janus.webRTCAdapter.browserDetails.browser === \"chrome\") {\n          // FIXME Apparently trying to simulcast when answering breaks video in Chrome...\n          //~ Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n          //~ answer.sdp = mungeSdpForSimulcasting(answer.sdp);\n          Janus.warn(\"simulcast=true, but this is an answer, and video breaks in Chrome if we enable it\");\n        } else if (Janus.webRTCAdapter.browserDetails.browser !== \"firefox\") {\n          Janus.warn(\"simulcast=true, but this is not Chrome nor Firefox, ignoring\");\n        }\n      }\n\n      config.mySdp = answer.sdp;\n      config.pc.setLocalDescription(answer)[\"catch\"](callbacks.error);\n      config.mediaConstraints = mediaConstraints;\n\n      if (!config.iceDone && !config.trickle) {\n        // Don't do anything until we have all candidates\n        Janus.log(\"Waiting for all candidates...\");\n        return;\n      }\n\n      callbacks.success(answer);\n    }, callbacks.error);\n  }\n\n  function sendSDP(handleId, callbacks) {\n    callbacks = callbacks || {};\n    callbacks.success = typeof callbacks.success == \"function\" ? callbacks.success : Janus.noop;\n    callbacks.error = typeof callbacks.error == \"function\" ? callbacks.error : Janus.noop;\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle, not sending anything\");\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n    Janus.log(\"Sending offer/answer SDP...\");\n\n    if (!config.mySdp) {\n      Janus.warn(\"Local SDP instance is invalid, not sending anything...\");\n      return;\n    }\n\n    config.mySdp = {\n      \"type\": config.pc.localDescription.type,\n      \"sdp\": config.pc.localDescription.sdp\n    };\n    if (config.trickle === false) config.mySdp[\"trickle\"] = false;\n    Janus.debug(callbacks);\n    config.sdpSent = true;\n    callbacks.success(config.mySdp);\n  }\n\n  function _getVolume(handleId, remote) {\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      return 0;\n    }\n\n    var stream = remote ? \"remote\" : \"local\";\n    var config = pluginHandle.webrtcStuff;\n    if (!config.volume[stream]) config.volume[stream] = {\n      value: 0\n    }; // Start getting the volume, if audioLevel in getStats is supported (apparently\n    // they're only available in Chrome/Safari right now: https://webrtc-stats.callstats.io/)\n\n    if (config.pc.getStats && (Janus.webRTCAdapter.browserDetails.browser === \"chrome\" || Janus.webRTCAdapter.browserDetails.browser === \"safari\")) {\n      if (remote && !config.remoteStream) {\n        Janus.warn(\"Remote stream unavailable\");\n        return 0;\n      } else if (!remote && !config.myStream) {\n        Janus.warn(\"Local stream unavailable\");\n        return 0;\n      }\n\n      if (!config.volume[stream].timer) {\n        Janus.log(\"Starting \" + stream + \" volume monitor\");\n        config.volume[stream].timer = setInterval(function () {\n          config.pc.getStats().then(function (stats) {\n            stats.forEach(function (res) {\n              if (!res || res.kind !== \"audio\") return;\n              if (remote && !res.remoteSource || !remote && res.type !== \"media-source\") return;\n              config.volume[stream].value = res.audioLevel ? res.audioLevel : 0;\n            });\n          });\n        }, 200);\n        return 0; // We don't have a volume to return yet\n      }\n\n      return config.volume[stream].value;\n    } else {\n      // audioInputLevel and audioOutputLevel seem only available in Chrome? audioLevel\n      // seems to be available on Chrome and Firefox, but they don't seem to work\n      Janus.warn(\"Getting the \" + stream + \" volume unsupported by browser\");\n      return 0;\n    }\n  }\n\n  function isMuted(handleId, video) {\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      return true;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n\n    if (!config.pc) {\n      Janus.warn(\"Invalid PeerConnection\");\n      return true;\n    }\n\n    if (!config.myStream) {\n      Janus.warn(\"Invalid local MediaStream\");\n      return true;\n    }\n\n    if (video) {\n      // Check video track\n      if (!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n        Janus.warn(\"No video track\");\n        return true;\n      }\n\n      return !config.myStream.getVideoTracks()[0].enabled;\n    } else {\n      // Check audio track\n      if (!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n        Janus.warn(\"No audio track\");\n        return true;\n      }\n\n      return !config.myStream.getAudioTracks()[0].enabled;\n    }\n  }\n\n  function mute(handleId, video, mute) {\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      return false;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n\n    if (!config.pc) {\n      Janus.warn(\"Invalid PeerConnection\");\n      return false;\n    }\n\n    if (!config.myStream) {\n      Janus.warn(\"Invalid local MediaStream\");\n      return false;\n    }\n\n    if (video) {\n      // Mute/unmute video track\n      if (!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n        Janus.warn(\"No video track\");\n        return false;\n      }\n\n      config.myStream.getVideoTracks()[0].enabled = !mute;\n      return true;\n    } else {\n      // Mute/unmute audio track\n      if (!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n        Janus.warn(\"No audio track\");\n        return false;\n      }\n\n      config.myStream.getAudioTracks()[0].enabled = !mute;\n      return true;\n    }\n  }\n\n  function _getBitrate(handleId) {\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn(\"Invalid handle\");\n      return \"Invalid handle\";\n    }\n\n    var config = pluginHandle.webrtcStuff;\n    if (!config.pc) return \"Invalid PeerConnection\"; // Start getting the bitrate, if getStats is supported\n\n    if (config.pc.getStats) {\n      if (!config.bitrate.timer) {\n        Janus.log(\"Starting bitrate timer (via getStats)\");\n        config.bitrate.timer = setInterval(function () {\n          config.pc.getStats().then(function (stats) {\n            stats.forEach(function (res) {\n              if (!res) return;\n              var inStats = false; // Check if these are statistics on incoming media\n\n              if ((res.mediaType === \"video\" || res.id.toLowerCase().indexOf(\"video\") > -1) && res.type === \"inbound-rtp\" && res.id.indexOf(\"rtcp\") < 0) {\n                // New stats\n                inStats = true;\n              } else if (res.type == 'ssrc' && res.bytesReceived && (res.googCodecName === \"VP8\" || res.googCodecName === \"\")) {\n                // Older Chromer versions\n                inStats = true;\n              } // Parse stats now\n\n\n              if (inStats) {\n                config.bitrate.bsnow = res.bytesReceived;\n                config.bitrate.tsnow = res.timestamp;\n\n                if (config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                  // Skip this round\n                  config.bitrate.bsbefore = config.bitrate.bsnow;\n                  config.bitrate.tsbefore = config.bitrate.tsnow;\n                } else {\n                  // Calculate bitrate\n                  var timePassed = config.bitrate.tsnow - config.bitrate.tsbefore;\n                  if (Janus.webRTCAdapter.browserDetails.browser === \"safari\") timePassed = timePassed / 1000; // Apparently the timestamp is in microseconds, in Safari\n\n                  var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / timePassed);\n                  if (Janus.webRTCAdapter.browserDetails.browser === \"safari\") bitRate = parseInt(bitRate / 1000);\n                  config.bitrate.value = bitRate + ' kbits/sec'; //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n\n                  config.bitrate.bsbefore = config.bitrate.bsnow;\n                  config.bitrate.tsbefore = config.bitrate.tsnow;\n                }\n              }\n            });\n          });\n        }, 1000);\n        return \"0 kbits/sec\"; // We don't have a bitrate value yet\n      }\n\n      return config.bitrate.value;\n    } else {\n      Janus.warn(\"Getting the video bitrate unsupported by browser\");\n      return \"Feature unsupported by browser\";\n    }\n  }\n\n  function webrtcError(error) {\n    Janus.error(\"WebRTC error:\", error);\n  }\n\n  function cleanupWebrtc(handleId, hangupRequest) {\n    Janus.log(\"Cleaning WebRTC stuff\");\n    var pluginHandle = pluginHandles[handleId];\n\n    if (!pluginHandle) {\n      // Nothing to clean\n      return;\n    }\n\n    var config = pluginHandle.webrtcStuff;\n\n    if (config) {\n      if (hangupRequest === true) {\n        // Send a hangup request (we don't really care about the response)\n        var request = {\n          \"janus\": \"hangup\",\n          \"transaction\": Janus.randomString(12)\n        };\n        if (pluginHandle.token) request[\"token\"] = pluginHandle.token;\n        if (apisecret) request[\"apisecret\"] = apisecret;\n        Janus.debug(\"Sending hangup request (handle=\" + handleId + \"):\");\n        Janus.debug(request);\n\n        if (websockets) {\n          request[\"session_id\"] = sessionId;\n          request[\"handle_id\"] = handleId;\n          ws.send(JSON.stringify(request));\n        } else {\n          Janus.httpAPICall(server + \"/\" + sessionId + \"/\" + handleId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request\n          });\n        }\n      } // Cleanup stack\n\n\n      config.remoteStream = null;\n\n      if (config.volume) {\n        if (config.volume[\"local\"] && config.volume[\"local\"].timer) clearInterval(config.volume[\"local\"].timer);\n        if (config.volume[\"remote\"] && config.volume[\"remote\"].timer) clearInterval(config.volume[\"remote\"].timer);\n      }\n\n      config.volume = {};\n      if (config.bitrate.timer) clearInterval(config.bitrate.timer);\n      config.bitrate.timer = null;\n      config.bitrate.bsnow = null;\n      config.bitrate.bsbefore = null;\n      config.bitrate.tsnow = null;\n      config.bitrate.tsbefore = null;\n      config.bitrate.value = null;\n\n      try {\n        // Try a MediaStreamTrack.stop() for each track\n        if (!config.streamExternal && config.myStream) {\n          Janus.log(\"Stopping local stream tracks\");\n          var tracks = config.myStream.getTracks();\n\n          var _iterator12 = _createForOfIteratorHelper(tracks),\n              _step12;\n\n          try {\n            for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n              var mst = _step12.value;\n              Janus.log(mst);\n              if (mst) mst.stop();\n            }\n          } catch (err) {\n            _iterator12.e(err);\n          } finally {\n            _iterator12.f();\n          }\n        }\n      } catch (e) {// Do nothing if this fails\n      }\n\n      config.streamExternal = false;\n      config.myStream = null; // Close PeerConnection\n\n      try {\n        config.pc.close();\n      } catch (e) {// Do nothing\n      }\n\n      config.pc = null;\n      config.candidates = null;\n      config.mySdp = null;\n      config.remoteSdp = null;\n      config.iceDone = false;\n      config.dataChannel = {};\n      config.dtmfSender = null;\n    }\n\n    pluginHandle.oncleanup();\n  } // Helper method to munge an SDP to enable simulcasting (Chrome only)\n\n\n  function mungeSdpForSimulcasting(sdp) {\n    // Let's munge the SDP to add the attributes for enabling simulcasting\n    // (based on https://gist.github.com/ggarber/a19b4c33510028b9c657)\n    var lines = sdp.split(\"\\r\\n\");\n    var video = false;\n    var ssrc = [-1],\n        ssrc_fid = [-1];\n    var cname = null,\n        msid = null,\n        mslabel = null,\n        label = null;\n    var insertAt = -1;\n\n    for (var i = 0; i < lines.length; i++) {\n      var mline = lines[i].match(/m=(\\w+) */);\n\n      if (mline) {\n        var medium = mline[1];\n\n        if (medium === \"video\") {\n          // New video m-line: make sure it's the first one\n          if (ssrc[0] < 0) {\n            video = true;\n          } else {\n            // We're done, let's add the new attributes here\n            insertAt = i;\n            break;\n          }\n        } else {\n          // New non-video m-line: do we have what we were looking for?\n          if (ssrc[0] > -1) {\n            // We're done, let's add the new attributes here\n            insertAt = i;\n            break;\n          }\n        }\n\n        continue;\n      }\n\n      if (!video) continue;\n      var fid = lines[i].match(/a=ssrc-group:FID (\\d+) (\\d+)/);\n\n      if (fid) {\n        ssrc[0] = fid[1];\n        ssrc_fid[0] = fid[2];\n        lines.splice(i, 1);\n        i--;\n        continue;\n      }\n\n      if (ssrc[0]) {\n        var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)');\n\n        if (match) {\n          cname = match[1];\n        }\n\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)');\n\n        if (match) {\n          msid = match[1];\n        }\n\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)');\n\n        if (match) {\n          mslabel = match[1];\n        }\n\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' label:(.+)');\n\n        if (match) {\n          label = match[1];\n        }\n\n        if (lines[i].indexOf('a=ssrc:' + ssrc_fid[0]) === 0) {\n          lines.splice(i, 1);\n          i--;\n          continue;\n        }\n\n        if (lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n          lines.splice(i, 1);\n          i--;\n          continue;\n        }\n      }\n\n      if (lines[i].length == 0) {\n        lines.splice(i, 1);\n        i--;\n        continue;\n      }\n    }\n\n    if (ssrc[0] < 0) {\n      // Couldn't find a FID attribute, let's just take the first video SSRC we find\n      insertAt = -1;\n      video = false;\n\n      for (var i = 0; i < lines.length; i++) {\n        var mline = lines[i].match(/m=(\\w+) */);\n\n        if (mline) {\n          var medium = mline[1];\n\n          if (medium === \"video\") {\n            // New video m-line: make sure it's the first one\n            if (ssrc[0] < 0) {\n              video = true;\n            } else {\n              // We're done, let's add the new attributes here\n              insertAt = i;\n              break;\n            }\n          } else {\n            // New non-video m-line: do we have what we were looking for?\n            if (ssrc[0] > -1) {\n              // We're done, let's add the new attributes here\n              insertAt = i;\n              break;\n            }\n          }\n\n          continue;\n        }\n\n        if (!video) continue;\n\n        if (ssrc[0] < 0) {\n          var value = lines[i].match(/a=ssrc:(\\d+)/);\n\n          if (value) {\n            ssrc[0] = value[1];\n            lines.splice(i, 1);\n            i--;\n            continue;\n          }\n        } else {\n          var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)');\n\n          if (match) {\n            cname = match[1];\n          }\n\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)');\n\n          if (match) {\n            msid = match[1];\n          }\n\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)');\n\n          if (match) {\n            mslabel = match[1];\n          }\n\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' label:(.+)');\n\n          if (match) {\n            label = match[1];\n          }\n\n          if (lines[i].indexOf('a=ssrc:' + ssrc_fid[0]) === 0) {\n            lines.splice(i, 1);\n            i--;\n            continue;\n          }\n\n          if (lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n            lines.splice(i, 1);\n            i--;\n            continue;\n          }\n        }\n\n        if (lines[i].length === 0) {\n          lines.splice(i, 1);\n          i--;\n          continue;\n        }\n      }\n    }\n\n    if (ssrc[0] < 0) {\n      // Still nothing, let's just return the SDP we were asked to munge\n      Janus.warn(\"Couldn't find the video SSRC, simulcasting NOT enabled\");\n      return sdp;\n    }\n\n    if (insertAt < 0) {\n      // Append at the end\n      insertAt = lines.length;\n    } // Generate a couple of SSRCs (for retransmissions too)\n    // Note: should we check if there are conflicts, here?\n\n\n    ssrc[1] = Math.floor(Math.random() * 0xFFFFFFFF);\n    ssrc[2] = Math.floor(Math.random() * 0xFFFFFFFF);\n    ssrc_fid[1] = Math.floor(Math.random() * 0xFFFFFFFF);\n    ssrc_fid[2] = Math.floor(Math.random() * 0xFFFFFFFF); // Add attributes to the SDP\n\n    for (var i = 0; i < ssrc.length; i++) {\n      if (cname) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' cname:' + cname);\n        insertAt++;\n      }\n\n      if (msid) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' msid:' + msid);\n        insertAt++;\n      }\n\n      if (mslabel) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' mslabel:' + mslabel);\n        insertAt++;\n      }\n\n      if (label) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' label:' + label);\n        insertAt++;\n      } // Add the same info for the retransmission SSRC\n\n\n      if (cname) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' cname:' + cname);\n        insertAt++;\n      }\n\n      if (msid) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' msid:' + msid);\n        insertAt++;\n      }\n\n      if (mslabel) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' mslabel:' + mslabel);\n        insertAt++;\n      }\n\n      if (label) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' label:' + label);\n        insertAt++;\n      }\n    }\n\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[2] + ' ' + ssrc_fid[2]);\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[1] + ' ' + ssrc_fid[1]);\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[0] + ' ' + ssrc_fid[0]);\n    lines.splice(insertAt, 0, 'a=ssrc-group:SIM ' + ssrc[0] + ' ' + ssrc[1] + ' ' + ssrc[2]);\n    sdp = lines.join(\"\\r\\n\");\n    if (!sdp.endsWith(\"\\r\\n\")) sdp += \"\\r\\n\";\n    return sdp;\n  } // Helper methods to parse a media object\n\n\n  function isAudioSendEnabled(media) {\n    Janus.debug(\"isAudioSendEnabled:\", media);\n    if (!media) return true; // Default\n\n    if (media.audio === false) return false; // Generic audio has precedence\n\n    if (media.audioSend === undefined || media.audioSend === null) return true; // Default\n\n    return media.audioSend === true;\n  }\n\n  function isAudioSendRequired(media) {\n    Janus.debug(\"isAudioSendRequired:\", media);\n    if (!media) return false; // Default\n\n    if (media.audio === false || media.audioSend === false) return false; // If we're not asking to capture audio, it's not required\n\n    if (media.failIfNoAudio === undefined || media.failIfNoAudio === null) return false; // Default\n\n    return media.failIfNoAudio === true;\n  }\n\n  function isAudioRecvEnabled(media) {\n    Janus.debug(\"isAudioRecvEnabled:\", media);\n    if (!media) return true; // Default\n\n    if (media.audio === false) return false; // Generic audio has precedence\n\n    if (media.audioRecv === undefined || media.audioRecv === null) return true; // Default\n\n    return media.audioRecv === true;\n  }\n\n  function isVideoSendEnabled(media) {\n    Janus.debug(\"isVideoSendEnabled:\", media);\n    if (!media) return true; // Default\n\n    if (media.video === false) return false; // Generic video has precedence\n\n    if (media.videoSend === undefined || media.videoSend === null) return true; // Default\n\n    return media.videoSend === true;\n  }\n\n  function isVideoSendRequired(media) {\n    Janus.debug(\"isVideoSendRequired:\", media);\n    if (!media) return false; // Default\n\n    if (media.video === false || media.videoSend === false) return false; // If we're not asking to capture video, it's not required\n\n    if (media.failIfNoVideo === undefined || media.failIfNoVideo === null) return false; // Default\n\n    return media.failIfNoVideo === true;\n  }\n\n  function isVideoRecvEnabled(media) {\n    Janus.debug(\"isVideoRecvEnabled:\", media);\n    if (!media) return true; // Default\n\n    if (media.video === false) return false; // Generic video has precedence\n\n    if (media.videoRecv === undefined || media.videoRecv === null) return true; // Default\n\n    return media.videoRecv === true;\n  }\n\n  function isScreenSendEnabled(media) {\n    Janus.debug(\"isScreenSendEnabled:\", media);\n    if (!media) return false;\n    if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(media.video) !== 'object' || _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(media.video.mandatory) !== 'object') return false;\n    var constraints = media.video.mandatory;\n    if (constraints.chromeMediaSource) return constraints.chromeMediaSource === 'desktop' || constraints.chromeMediaSource === 'screen';else if (constraints.mozMediaSource) return constraints.mozMediaSource === 'window' || constraints.mozMediaSource === 'screen';else if (constraints.mediaSource) return constraints.mediaSource === 'window' || constraints.mediaSource === 'screen';\n    return false;\n  }\n\n  function isDataEnabled(media) {\n    Janus.debug(\"isDataEnabled:\", media);\n\n    if (Janus.webRTCAdapter.browserDetails.browser === \"edge\") {\n      Janus.warn(\"Edge doesn't support data channels yet\");\n      return false;\n    }\n\n    if (media === undefined || media === null) return false; // Default\n\n    return media.data === true;\n  }\n\n  function isTrickleEnabled(trickle) {\n    Janus.debug(\"isTrickleEnabled:\", trickle);\n    return trickle === false ? false : true;\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Janus);\n\n//# sourceURL=webpack:///./client/src/webrtc/sfu/janus.js?");

/***/ }),

/***/ "./client/src/webrtc/sfu/pluginAttachment.js":
/*!***************************************************!*\
  !*** ./client/src/webrtc/sfu/pluginAttachment.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return janusAttachment; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"../../node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _janus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./janus */ \"./client/src/webrtc/sfu/janus.js\");\n\n\nvar plugin = {\n  oneToOneCall: 'janus.plugin.videocall',\n  conferenceCall: 'janus.plugin.videoroom',\n  streaming: 'janus.plugin.streaming'\n};\nfunction janusAttachment(janus, pluginType, onMessageHandler, onErrorHandler, onLocalStreamHandler, onRemoteStreamHandler, onDataHandler, onDataChannelAvailable) {\n  var attachRes = new Promise(function (resolve) {\n    janus.attach({\n      plugin: plugin[pluginType],\n      success: function success(pluginHandle) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log('Puligin attachment Success', pluginType);\n        resolve(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, pluginType, pluginHandle));\n      },\n      error: function error(cause) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].error('Faild to attach plugin', cause);\n        onErrorHandler(cause);\n        resolve({\n          error: cause,\n          errorCode: 120\n        });\n      },\n      consentDialog: function consentDialog(on) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log('consetDialog', on);\n      },\n      mediaState: function mediaState(medium, on) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log(\"Janus  \".concat(on ? 'started' : 'stopped', \" receiving our \\\" + \").concat(medium));\n      },\n      webrtcState: function webrtcState(on) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log(\"Janus says our WebRTC PeerConnection is \".concat(on ? 'up' : 'down', \"  now\"));\n      },\n      onmessage: function onmessage(msg, jsep) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log(pluginType, 'Message', msg, jsep);\n        onMessageHandler(msg, jsep);\n      },\n      ondataopen: function ondataopen(data) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log('The DataChannel is available!', data);\n        onDataChannelAvailable(data);\n      },\n      ondata: function ondata(data) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].debug('We got data from the DataChannel! ', data);\n        onDataHandler(data);\n      },\n      onlocalstream: function onlocalstream(stream) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log('onLocal Stream', stream);\n        onLocalStreamHandler(stream);\n      },\n      onremotestream: function onremotestream(stream) {\n        _janus__WEBPACK_IMPORTED_MODULE_1__[\"default\"].log('OnRemote Stream', stream);\n        onRemoteStreamHandler(stream);\n      },\n      oncleanup: function oncleanup() {},\n      detached: function detached() {}\n    });\n  });\n  return attachRes;\n}\n\n//# sourceURL=webpack:///./client/src/webrtc/sfu/pluginAttachment.js?");

/***/ })

}]);