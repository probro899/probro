(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a.p+"static/media/imageUploadIcon.f4e15013.png"},112:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.login=void 0;var n=c(a(186)),r=c(a(187));function c(e){return e&&e.__esModule?e:{default:e}}t.login=n.default,t.logout=r.default},132:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAI6AAACOgH+NilRAAACI0lEQVR4nO2bQU7CQBSGH4bIFDuRG8jKNTeQlWtvIEfwBnIEvAFewxW9AW5d4Q0wRTorMJNMTDMOtS3TeQ/6voQQWob876PlDUzp7Pd7wEDGcgIAUwBY6ft0ky4wcgQXIGM5NoXfWbsSAHhKN+kyZJ5gAgoKt3k1R8QqRK7GBchYDk3hjxWHBhHRmIAjCs/zBQAzfUs36dp/ygYEyFgO9LlsbteeXrYxEd4ENFS4zac5Lea+XtCLgFxLu/GS6n+8iThKgIzlgzk0QxVu825aZ+05RC0BFVpaKJK6k6lKAmQsR+Ydp1K4jRYxqdI6Swnw1NJCUnoOUSjAfLLPTqhwmxcj4mDrdAoI1NJCUTiHcAro96/eAOD2xAu3+dhuv+/tjV3XM3e73SVia2sK5+fBxVmUdgQsgEAGVFovAO03QSq0/ghovQDnPMBGiEh/F5g4ds2Vypz9teYY/S1zbG9XKpsWZKs8Jk8pAQCgi3l2bF8cmmDUHDM+MKaomDpjfmn9KcACCGRAhQUQyIAKCyCQARUWQCADKiyAQAZUWACBDKiwAAIZUGEBBDKgwgIIZECFBRDIgAoLIJABldYLKLU4KkSkrxkaOXYtlcq8XbtrVpOG9nalssb+TMGrwwQyoOJcGxQiWhC+GrQuiVLZn0XU1h8BLIBABlRYAIEMqHSFiPQEZ2CFsB+fAwNzOU2edafXE+fY8sqStP4UYAEEMqDSbgEA8APWFsDV0MiozQAAAABJRU5ErkJggg=="},133:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAALCAAACwgHbktmQAAACQElEQVR4nO2bu04CQRSGD8ZCagqxxEt8AREq5AWIhWEBjdFWE02gFkVMNFoQExNtQaNBfQmkEcEHwAZKsVhbCM2YtSABNrszsMscmPmSKSY5w/zzZ65ng4MQAkY4HI4qALQMg+zjghDybGcH0xQxyzYP0og5uzuYsrsD7AhvAM0S6LC3fwA+v980rlarQTqV7NRDoXXYCCum7X5VFRLxQxZJQ8NkgMvlgp3tTdO43MNTV33G6aRqV/qoWD0+U4RfAtIABBq4wrQHFN8KoESqpnGtZrOr/lkpgxKJoTSA5iZoHGAvcULItZ09CL8EpAEINHBFeANA2wSNihYyISWvN06mYzAW24KFxSXTOFVV4e72plMPBIIQWAuatmu323B1ec4iiQX9nAbLDDhKpggN2fvHrlkTVqJU7d5LZTtnW1ZvfMLvAUxLgDdhJQqJRIJKRSaTgdeX/GQZoOH3eS39PeHfAmwGFAsDdVKv1/4LRsZqCWgzqzfbZBRLhUAXIXkM6iENQKCBKyK9BfSRbwHBkQYg0MAV4d8C2L8LdOHxzMOKd5UqVjO95/2RI4Ts9gWO01WY9jTR0GLlKUCBNACBBq6MVT7gp9GA5PEpdSwNlp8CNPd+7TgdNLs0BLqngOUzYNbthrP0iWEMzV1iVAi/B0gDEGjgijQAgQauSAMQaOCKNACBBq5IAxBo4Io0AIEGrkgDEGjgivAG9GWEhv0OQJO718nZ8yJuuQFjRlz4JSANQKCBK3pZ4S+Of5cfLQDff0KbAPdutvZ1AAAAAElFTkSuQmCC"},168:function(e,t,a){e.exports=a(357)},177:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="schema.init";function r(e,t){return{type:n,schema:e,payload:t}}r.TYPE=n,t.default=r},178:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="schema.add";function r(e,t){return{schema:e,type:n,payload:t}}r.TYPE=n,t.default=r},179:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="schema.remove";function r(e,t){return{schema:e,type:n,payload:t}}r.TYPE=n,t.default=r},180:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="schema.update";function r(e,t){return{type:n,schema:e,payload:t}}r.TYPE=n,t.default=r},181:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.allIds.map(function(t){return e.byId[t]})}},182:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.allIds.map(function(a){return t(e.byId[a])})}},183:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.byId[t]}},186:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return{type:"LOGIN",payload:e}};n.TYPE="LOGIN",t.default=n},187:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return{type:"LOGOUT"}};n.TYPE="LOGOUT",t.default=n},258:function(e,t,a){e.exports=a.p+"static/media/ringtone.da570d5f.mp3"},260:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAU9AAAFPQFsmqclAAAKfUlEQVR4Ae2dW2wjVxnH52aP7bHXuTi2s5us7WT3odsVDRepEgh4QCsqCmLbp4qV2qLCPiBALbcHhHho+1AkEIjyUFWq2CItKqISElTVcnkoLELqQ9EKLbQiiT1OsolvcWLHY8/YPjPoc+xlN7tJfBv7m5nze221/n85//nOmXPOfB9rGAZDcS4cHXtnQw3gcKgBHA41gMOhBnA41AAOhxrA4VADOBxqAIdDDeBwqAEcDjWAw6EGcDjUAA6HGsDhUAM4HGoAh0MN4HCoARwONYDDEZwU/vr6xudVVV1yi+4zjXo9fud/c7ndcl2rr3g8nhvz83NvjU/laLH1rWA5nb5s6PolQsicqqqntFpN1HWdqVar9/3/fT4fw3EcI3q9msfjucXz/AbLcVfjsdirIxc/ImxngNXV5Id4nv9xs9n86F65NFXZ22Ng0PsBzOAPBJjAiWBREIT3CCHfWVxc+Ne4YxwmtjEADDzHsa8qirJULpXERr0+1H/f5XYzJ4JBTZKkG7puXLaLESxvgEw2N1GrKldUVXukkMuK/T7t3QJZIRSOaB6PeM3rk56ORsK7pv6gyVjaAMvLK58TBOH1bGYrpKnqSH9b9HiYSHS2wDDGNxKJxBsj/fEhYlkDJJOp1zRNu5TLbInj1BGOzmqiKF5dWEg8M04d/WJJA6RSqb/u7ux8qlwqIVDDwNqAmZic/Fsikfg0Ajk9YTkDrKys/qeQzz0w6pR/HDAlhGbC7585s3gOlbBjsNROINbBB0ATaAONCOR0jWUMAGkf6+B36JgAtOJQdDyWMAAs+GDOxzz4HUAjaAXNOBQdDXoDwKserPaxLPi6AbSCZtCOXSvqReD+Jk91eU1OhRDI6ZnT8UTB6/OdxbxZhDoDwA4fbPIgkNIXoB1iwKwRrQFgbx+2d60w7x8GaIcYIBacChEbAA52YG8fgZSBgBggFqz6UBoAnhg41TP7YGcUQAwQC9YsgNIAHMe+vLO9bfmnvwPEAjHhUHM36AwAK39Nq3/YDk9/B4gFYoLYcCj6P+gMoNaq39zdKQYQSBkqEBPEhk0XOgMQoj9m5ZX/YUBMEBs2XegM0Gg0FhHIMAWMsaEyQCqVekLZK9su/XeA2CBGHGr2wZYBnjjsyrYdaMdGDXAEUTut/g/Sji2KSRMqA9QbjTkEMkwFW4yoDGAQ0kQgw1SwxYjKAI0miSGQYSrYYkRjAIy7ZGaBKVZMGWBJrSoIZJhLO8YlLHpofQCHg8kAu4LLhUCGubRjRHNFDI0BopHwDcHlRqDEXCBGiBWLHlRTAMex1rn62yfYYkRlAMHlqiCQYSrYYsS1CDSYAgIV5oIsRlQGcLtd9rsIcABsMaIygG4Y78BXtnYFYoMYMYWHygCS5H/F6/UiUGIOEBvEiEkTKgNEI2FZ8vuTCKSYAsQGMWLShG4nUBBcq1CIyW5ATBAbtrDw/aVZ5gWozWc3WjGxzAvYwkJngHgsdn1ichLdkzIok9PT6xAbNl0oc61uGG9C2Va7ALEQQn6NMRy09QFWV5OZjbV0BIGUgZk7HcsuLi6gugvYAe9qi2Wu2CELtGJgGbQ1AlBXCJFleSudSqF8crollkhk4vH4LFZ9qN+3DMN4bnpmRkMgpS9AO8SAWSNqA0ANXkmS3rXi9jBoBu3Y6whbolIoTAXr6bRlPhqBTZ/5WAx16u9giS03QvTPzp2OWeayCGgFzQikHIslDADNGZrN5pegMjcCOUcCGkGrVRpKWGbT/ezZM2/rhv4UZhOANtAIWhHI6QpLnbo8eO7cb+APHJk9uYfpwAi0gCbQBhoRSOoaS/YLkNPpTxq68YetzVvBYfcG6hXoJTR78lSJ5dgvYNzrPw7Ldgxpl5H9R7GQf6BSGc89S7/fz0yFZt73+nwft2rvIMs3jUql5F8Q0nwql836R5UN4KkPRyIVnhdeTyTiXx/Jj5qELdrGtTuHXYOCjFCTz6z9ApjrJ6enW63jvD7pEat3DGPs1jiy0zuQEPJgIZ/3D6va2H47mJkKz/P/tlPPQMaurWMhI1QV5Sccz12oVWvhSrkk9lp7CE7x/CeCmtfnzelE/7NPkr5thyf+ILbuHcy0zaAoypcZw4CduUiTNGegSsfBQg0ugU+zPC8IvJCHSu8My/5RkqRf2nHQ78T2BqAcDa0P4HCoARyOYNfw23V4lnaL20suUYwKghDVCZkghBxZn8fldrc+3Kgpyg3R48l4fdIHmL7nHzaWXwPAtjAh5FHGaNXdaS3yms2moBM90qk5RKBcew+vhPC+72lfQoGKHi63W3O53QVD1yuiKO6yLCs36o2/BILBN2n38BHSWdFzLHOxXm8EDcNYqFWVgKZpPQ3woHQM4vFJjFt034I3B5Zl/8nx3BWrnQegN8B+i3j+sm4wH6lVlXBNUXp+px8FsD0MH3/6JKngdot53dB/L0n+l7BnCJQGgIraHMd/S1VriaqihCp7e4zVagjD7mFwYhL9RhIaA7S3cZ+vNxofq1Yqp6w46IfRMYPL5UoKAv9GPB5/Hou2sRtATqcvG7r+PUVR5sqlkjju832zgSPk4ORUkee5616f9Oy4PxcfmwFWk8mXGIN5ulzajVipL/CwgDXDiWCwdbLIctx3x7V4HKkB9juCqT/Tif5oIZcN2bk5RLd0jpj9gUAOMuGovyMYmQE6T3yxkI/Qgb+X20bwBz4ghDw5qiNn0w2w3yOHfZk+8d1xx6WTd70+6YtmvzmYZgBY1fM8/6ud4vZDTpzjB2VU185MMQDc09M07cl8NhOwcw+gUbB/8TS0quvG42ZMC0M1QKtBMsu+Vczn5mm6Hx4wLYTCEU0UxasLC4lnhvlvD80AsMhr1Btfo0+9ecA1tXB0NtlsNh8bVjYY2ACdG7m7OzsP07nefCAbzJ6aK7Ic9+LiQuKng/7gQAZoHcU2yW/zuWzEjv1+MQPFJyRJupZIJC4OIrNvAyz/d/krLMf9aOvWxhRN+eMBpoRQODLQl0l9GQDm+7pWfzaX2RJR/mUcBBw0RaLRVUVRPnP+/Pl0r5H3bABZTv9pp7h9gc73eIB1ARSl6OcD1Z4MsLa2/vftQv4TdPDx0a8JujYAPPn5bOYCfb/HTfTkyYLo8TzerQm6MgAMfmZr8wJd6VuDXkxw7HcBkPZhzqeDbx0ym5shhmHehtf040QfaYCVlZWf0znfmqzLsh+qqNy8efPIZtWHGkCW5R9WFeWrdPCtCezNbKylg/5A4PpRzarvawBIHbWa+v2dYtG+HZwcAJggs7k5D1v1h0V7jwHALZA66CaPPYC1W7FQeFiW5fteNbvHAJqqvgfVt5z+h7MTUESrUqlc3L+ddTd3GSCZTL2Wy2wt2P1qthPZzudFhmFfObgeuG0AmPc1TbtEN3rsC2R2tVa7q3HlbQMQol8t5LJ03rcxkNm387mHlpdXftCJsmUAWCDANS56rGt/YD3AsuxznamAg3t8tZp6kaZ+55DLZqY6r4acIAi/o6nfWcBUAEU1W19hl8vlBZr6ncf+WwHzIi0S5WAqFWWRGsDhUAM4HGoAh0MN4HAEn8+XdUWj9LqPA3G5Rc//APahc62IWCuAAAAAAElFTkSuQmCC"},288:function(e,t,a){e.exports=a.p+"static/media/index.376f8c73.png"},289:function(e,t,a){e.exports=a.p+"static/media/class.5cc5b3ac.png"},290:function(e,t,a){e.exports=a.p+"static/media/insight.ad1b3a0f.png"},308:function(e,t){},309:function(e,t){},310:function(e,t){},311:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEaZJREFUeNrs3T9aW9kdx2EJp0g3Sjcd1ytAswLL3XSDVxBYQSYrSLIErwBSpjJTpbSygsg7kFcA6ZwG5VwjbAeDQOLeq3PO732fR48nfwYjyfbny5EuHo0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADKNvYQANTl4OBgmn5ob0frH5v17SFX6bZIt2W6fUi3+fX19cIjaQAAkH/0j9MPv6Tb7JHYP1U7Ci7S7bc0Bi48wgYAAPlEf5J++DXd/thR9DeNgfN0e5vGwNIjDwB7Cn+6/TXdLtNtNfDtLN0az0L5XngIAIqKf/sV/7t0+zndfr+HT6F9T8Gv4xuL1Wr1ybNSJi8BAJQR/ja8Z+sA52KZbqfX19dzz5ATAAC6j/9J+uGf6fZjZp9a+x6Ek/YoYLVaGQFOAADoMP7tV/0nBXyq7QB4c319feVZMwAA2D387VfX70d5Hfk/pv3eAa+NAAMAgDjxNwIMAACCxt8IMAAACBp/I8AAACBo/I0AAwCAoPE3AgwAAILG3wgwAAAIGn8jwAAAIGj8jQADAICg8TcCDAAA8Q8afyPAAAAQ/+CMAAMAQPyNAAwAAPE3AjAAAMTfCMAAABB/IwADAED8jQAMAADxNwIwAADE3wjAAAAQfyMAAwBA/I0AAwAA8TcCDAAAxN8IMAAAEH8jwAAA4PMA+Lf4GwHF/vr1EADs/NU/w2rH1nuPvRMAgBxGgJcAnAQYAABGAEaAAQBgBGAEGAAARgBGgAEAYARgBBgAAEYARoABAGAEYAQYAABGAEaAAQBgBGAEGAAARgBGwJa/Nj0EADehTrfjrj/uOkCv10FiOL5tsAEA8OSv0t+lfz4xAoyACLwEAIj/90f0pyna5wP9XPTPywEGAMCTg2wEGAEGAECw+BsBRoABABA0/kaAEWAAAASNvxFgBBgAAEHjbwQYAXX+fvBrABD/JzlziWBV2l8H7yI/AC/8GgDE/8mOx+Pxx9Vq1Wms08f7lD7uP9I//pxuP3rGBtOkx32cHv95xDvvJQBA/Lfn5YC6tC8FhBsBBgAg/kZAdMt0+yna+wG8BACI/268HFCP9tfKf6O9FOBNgID47+6ojw/qjYF78Zf066YxAADE/zHnKdR/7uuDGwH7GQGR7qz3AADiv1v8Tyu7T9x4mZ7bpRMAAPHfW/ydBOzFn5wAAIj/XuPvJGAvrtJz/AcnAADiv/f4OwkY1CT9mjo2AADEf+/xNwIG90uEO+klAED8C4j/nu57VCFeBnACAIh/QfF3EjCI9mWA6seVAQCIf0HxNwIGMzMAAMTfCIjnqPrfT55jQPzLi78R0LvGAAAQ/67ux7SPS8yMgF54DwCA+HcT//X9eJf++cQIyN7EAAAQ/67ifxuVMyMAAwAgVvxHRgAGAEDM+BsBGAAAQeNvBGAAAASNvxGAAQCIf9D4GwEYAID4B42/EZCfpQEAIP5DxN8IMAAMAED8g8bfCMhH9Y+RAQCIf17xNwLy8MEAABD/oeNvBDgB6N3YcwyIf5bx/9Zpui/nBT8XpVmmx/ulEwAA8d9n/J0EDG8e4vej5xkQ/6zjbwQM77cId9JLAID45x//b3k5oF8hjv+dAADiX1b8nQT07+9R7qgTAED8y4m/k4B+tSPo5XoMOQEAEP/s4u8koB9vo8TfCQAg/mXG30mAr/6dAADiHzj+TgK687dI8XcCAIh/2fF3EtCNRXrsfgr3+9UfWYD4Fx9/JwHPHE8hf8/6YwsQ/+LjbwQ8I/7p/oW89NEAAMS/jvgbAbv9mjqP+nvXewAA8a8n/ne/sj0v+Dnv2zw9Pq9D//71Rxgg/tXF30nAZu3n/ib672EnAID41xd/JwGb4/862iV/BgAg/rHibwSIvwEAiH/Q+BsB4m8AAOIfNP7RR4D4GwCA+IeNf9QRIP4GACD+4eMfbQSIvwEAiL/4BxsB4m8AAOIv/sFGgPgbAID4i3+wESD+BgAg/uIfbASIvwEAiL/4BxsB4m8AAOIv/sFGgPgbAID4i3+wESD+BgAg/uIfbASIvwEAiL/4BxsB4m8AAOIv/sFGgPgbAID4i3+wESD+BgAg/uIfbASIvwEAiL/4BxsB4m8AAOIv/sFGgPgbAID4i3+wESD+BgAg/uIfbASIvwEAiL/4BxsBI/E3AADxF/9gI0D4+/fCQwDiL/7s6Hg8Hn9crVaLLj9o+nifPLQGACD+4h9wBGAAAOKPEYABAIg/RgAGACD+GAEYACD+4o8RgAEA4i/+GAEYACD+4o8RgAEA4i/+GAEGACD+4o8REIlvBQziL/4M4U36NXXhYcjozxMPAYi/+NOz9qv/uYfBCQAg/uIfK/7+Vj8DABB/8Rd/DABA/BF/DABA/BF/DAAQf/FH/DEAQPzFH/HHAADxF3/EHwMAxF/8EX8MABB/8Uf8MQBA/MUf8ccAAPEXf8TfAADEX/wRfwMAEH/xR/wNAED8xR/xNwAA8Rd/8ccAAMQf8ccAAMQf8ccAAMQf8ccAAPEXf8QfAwDEX/wRfwwAEH/xR/wxAED8xR/xxwAA8Rd/xB8DAMRf/BF/DAAQf/FH/DEAQPzFH/HHAADxF3/EHwMAxF/8xV/8MQBA/MVf/DEAAPFH/DEAAPFH/DEAQPzFH/HHAADxF3/EHwMAxF/8EX8MABB/8Uf8MQBA/MUf8ccAAPEXf8QfAwDEX/wRfwwAEH/xR/wxAED8xR/xxwAA8Rd/xB8DAMRf/MXfQ4EBAOKP+IMBAOKP+IMBAOKP+IMBgPiLP+KPAQDiL/6IPwYAiL/4I/4YACD+4o/4YwCA+Is/4o8BAOIv/og/BgCIv/gj/hgAIP7ij/hjAID4iz/ijwEA4i/+iD8GAIi/+Is/GAAg/og/GAAg/og/GACIv/gj/mAAIP7ij/iDAYD4iz/iDwYA4i/+iD8YAIi/+CP+GAAg/uKP+GMAgPiLP+KPAQDiL/6IPwYAiL/4I/4YACD+4o/4YwCA+Iu/+Is/BgCIv2dV/MEAAPFH/MEAAPFH/MEAQPzFH/EHAwDxF3/EHwwAxF/8EX8wABB/8Uf8wQBA/MUf8QcDAPEXf8QfDADEX/wRfzAAEH/xR/wxAED8xR/xxwAA8Rd/xB8DAMRf/MUfDAAQf8QfDAAQf8QfDAAQf8QfDADEX/wRfzAAEH/xR/zBAED8xR/xBwMA8Rd/xB8MAMRf/BF/MAAQf/FH/MEAQPzFH/EHAwDxF3/EHwwAxF/8EX8wABB/8Rd/8QcDAPEXf/EHAwDEH/EHAwDEH/EHAwDxF3/EHwwAxF/8EX8wABB/8Uf8wQBA/MUf8QcDAPEXf8QfDADEX/wRfzAAEH/xR/zBAED8xR/xBwMA8Rd/xB8MAMRf/BF/MAAQf/EXf8AAQPwRf8AAQPwRf8AAQPwRf8AAEH/xR/wBA0D8xR/xBwMA8Rd/xB8MAMRf/BF/MAAQf/FH/MEAQPzFH/EHAwDxF3/EHwwAxF/8EX8wABB/8Uf8wQBA/MUf8QcDAPEXf/EHDADEH/EHDADEH/EHDADxF3/EHzAAxF/8EX/AABB/8Uf8AQNA/MUf8QcMAPEXf8QfMADEX/wRfzAAEH/xR/zBAED8xR/xBwMA8Rd/xB8MAMRf/BF/MAAQf/EXf/EHAwDxR/wBAwDxR/wBAwDxR/wBA0D8xR/xBwwA8Rd/xB8wAMRf/BF/wAAQf/FH/AEDQPzFH/EHDADxF3/EHzAAxF/8EX/AABB/8Uf8AQNA/MUf8QcDAPEXf8QfDADEX/zFHzAAEH/EHzAAEH/EHzAAxF/8EX+gsHZ5CDoxGyD+rbfij/gDBkAm0h+gF+mH0wF+qvfrUIs/4g88i5cAug3pSfrhrOef5mr9B/dC/BF/wAAwAsQf8QcMACNA/BF/wAAwAsRf/MUfMADijgDxF38AAyDYCBB/8QcwAIKNAPEXfwADINgIEH/xBzAAgo0A8Rd/AANg+2BPu/qGO/sYAet/Fn/xBzAAtoz1Kv1wmv4wPS90BIzEX/wBDIDtIt2G83L9H0sdAYg/wP0d8hA86Nu/dOdsHezOrAfFqYcZ8QcMgHwHgBGA+AMGQBD3vXZuBCD+gAFQuVcP/PdGAOIPGAAVazb8b0YA4g8UzVUADy2jm0sAH+PqAMQfcAJQUfynT/y/OglA/AEDoCLbfPMcIwDxBwyASsy2/P8bAYg/YABU4HCHf8cIQPwBA6BwzY7/nhGA+ANFcBXAfavo4KD9OwCe85fouDoA8QcMgAIHwKqDD2MEIP5Avq3zEHwX2VlHH8rLAYg/YAAUpOnwYxkBiD9gAAQcAEYA4g8YAIU46uFjGgGIP2AABDsBMAIQfyA7rgK4u4i6uQJgE1cHIP6AE4DM4t8M8NM4CUD8AQMgM81AP48RIP7iDxgAGZkO+HMZAeIPYABk4nDgn88IEH8AAyDYCYARIP4ABkAmmj39vEaA+AMMymWA366h/i8BfIxLBMUfwAnAwPGfZfBpOAkQfwADYGCTTD4PI0D8AQyAAU0z+lyMAPEHMAAGcpjZ52MEiD+AATCAJsPPyQgQf4BeuArgdgnt/wqATVwdIP4ATgB6iP8k80/RSYD4AxgAPZgW8DkaAeIPYAB0rCnk8zQCxB/AAAg4AIwA8QcwADr0qrDP1wgQfwADoAOTAj9nI0D8AXbmMsBR9pcAPsYlguIP4ARgh9hNC78LTgLEH8AA2MGkgvtgBIg/gAGwpVkl98MIEH8AA2ALP1R0X4wA8QcwAJ5oWtn9MQLEH+BR4a8CSLG8HNXxPoC7XB0g/gAGwIaorSq+e0aA+APc/+d58PjPKr+LXg4QfwAD4B5NgPtoBIg/gAEQcAAYAeIPYADccRTovhoB4g9gAKxNgt1fI0D8AT4LfRVA5VcAbOLqAPEHnACEjX8T+HmPfhIg/oABEPi+N8Gf+6gjQPwBgg+Aqac/3AgQfwADINwbAKOPAPEHMAA+e+XpDzMCxB/AAPii8fSHGAHiD3CPsJcBBr4E8DE1XSIo/gBOAP4vSN4AWP9JgPgDGADfaTz1VY8A8QcwAO7lBKDeESD+AAbAgw499VWOAPEHMAA2ajz11Y0A8QfYQsirAFLQLke+EdC2cr46QPwBnAA8Gp2J+Fd1EiD+AAbAk3gDYD0jQPwBDIAnazztVYwA8QcwAAyAYCNA/AEMgK35S4DKHgHiD2AA7MQbAMsdAeIP0JFwlwH6S4B6McQlguIP4ARg56g0nvIiTwLEH6Bjvwt2fw2AfkfAqMuTgPZjpY/ZRn8u/gAGwHPMPOXFjYALDytA96K9CfAHT/kgI+DEwwBgAOTEdwE0AgAIOAAaT7kRAECwywBdArgXnV8iCIATgG3iP/N0OwkAINgAGPkOgEYAACEHgDcAGgEABBwAR55uIwCAeAPASwD5jACnMQB7FuYqAFcADG65vv0r3dpv49t+P/+Fb+kLkIcQ3wo4xd9X//24DXsb+o/pNm//uxT5hYcGwADIgSPn57mN/Ifbr+xT5OceFgADwAAo33J9W6y/ml+sQ7/00AAYAKXyEsBX89HXI/s28le+mgcwAGr1Ktjz+jnso5s34H35yt4b8ACINgCaCu/Tl3fWp9t/Rt6AB8AWQlwGWPglgPN17L0BDwAnAFvEv4Q3AC5H318z7w14ABgAz5DLGwDvXjN/G3lH9gAYAD2YDfzzeQMeAAZABg57+Jhfwj76+gY8R/YAGAAZaZ7x785HX9+A55p5AKpR/VUABwcHl6PN7wO4/WreX1oDgAFQ0QBYjfylNQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQlf8JMABoqn7t+jVZwQAAAABJRU5ErkJggg=="},354:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"updateNav",function(){return Q}),a.d(n,"updateWebRtc",function(){return Y}),a.d(n,"addDatabaseSchema",function(){return G}),a.d(n,"updateDatabaseSchema",function(){return W}),a.d(n,"deleteDatabaseSchema",function(){return F});var r=a(0),c=a.n(r),i=a(21),o=a.n(i),s=a(4),l=a(5),u=a(7),d=a(6),m=a(8),p=a(18),f=a(49),b=a(150),h=a(35),v=a(17),g=a(10),E=a(52),A=a.n(E);var y=a(151),w=a.n(y),O=a(112),C=function(e,t){document.cookie="".concat(e.trim(),"=").concat(t)},j=function(e){document.cookie="".concat(e.trim(),"= ;expires=").concat(new Date(Date.now()-1).toUTCString())},k={sessionId:function(e){var t="".concat(e.trim(),"="),a=document.cookie.split(";").find(function(e){return 0===e.trim().indexOf(t)});return a?a.trim().substr(t.length):null}("pc-session"),slug:w()().substring(1,10),online:!1,user:null},x={sideNav:{name:""},mainNav:{name:""}},I={showCommunication:null,showIncommingCall:!1,showOutgoingCall:!1,communicationContainer:"list",peerType:"",outGoingCallType:null,messages:[{timeStamp:1564478946313,userId:2,name:"Bhagya Sah",text:"The introduction of the Mandarin Chinese language to East African school curricula signals China\u2019s growing influence in Africa as a global superpower"},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",imageUrl:"https://images.pexels.com/photos/460621/pexels-photo-460621.jpeg",text:"Hlw Rajiv how are you"},{timeStamp:1564478946313,userId:2,name:"Bhagya Sah",text:"As China strengthens its already robust trade and infrastructural ties with Africa, Chinese-government funded Confucius Institutes (CIs) and Confucius Classrooms (CCs) are on the rise in East Africa. As of 2018, China has established 27 CCs and at least 51 CIs all over Africa."},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",imageUrl:"https://images.pexels.com/photos/460621/pexels-photo-460621.jpeg"},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",text:"test one"},{timeStamp:1564478946313,userId:2,name:"Bhagya Sah",text:"The introduction of the Mandarin Chinese language to East African school curricula signals China\u2019s growing influence in Africa as a global superpower"},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",imageUrl:"https://images.pexels.com/photos/460621/pexels-photo-460621.jpeg",text:"Hlw Rajiv how are you"},{timeStamp:1564478946313,userId:2,name:"Bhagya Sah",text:"As China strengthens its already robust trade and infrastructural ties with Africa, Chinese-government funded Confucius Institutes (CIs) and Confucius Classrooms (CCs) are on the rise in East Africa. As of 2018, China has established 27 CCs and at least 51 CIs all over Africa."},{timeStamp:1564478946313,userId:2,name:"Bhagya Sah",imageUrl:"https://images.pexels.com/photos/460621/pexels-photo-460621.jpeg"},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",text:"test one"},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",text:"The introduction of the Mandarin Chinese language to East African school curricula signals China\u2019s growing influence in Africa as a global superpower"},{timeStamp:1564478946313,userId:2,name:"Bhagya Sah",imageUrl:"https://images.pexels.com/photos/460621/pexels-photo-460621.jpeg",text:"Hlw Rajiv how are you"},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",text:"As China strengthens its already robust trade and infrastructural ties with Africa, Chinese-government funded Confucius Institutes (CIs) and Confucius Classrooms (CCs) are on the rise in East Africa. As of 2018, China has established 27 CCs and at least 51 CIs all over Africa."},{timeStamp:1564478946313,userId:2,name:"Bhagya Sah",imageUrl:"https://images.pexels.com/photos/460621/pexels-photo-460621.jpeg"},{timeStamp:1564478946313,userId:1,name:"Bhagya Sah",text:"test one"}],peerConnections:{},pendingOffers:[],streams:{},currentOffer:null,iceCandidates:{},liveIncomingCall:!1,isLive:!1,mediaRecording:null,recordedBlobs:[],lastStreamId:null},N=Object(f.c)({account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VERIFIED":return Object(g.a)({},e,{sessionId:t.payload,user:null});case O.login.TYPE:return Object(g.a)({},e,{user:t.payload});case O.logout.TYPE:return j("pc-session"),Object(g.a)({},e,{user:null,online:!1,sessionId:null});case"CONNECT":return Object(g.a)({},e,{online:!0});case"DISCONNECT":return Object(g.a)({},e,{online:!1});default:return e}},webRtc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateWebRtc":return Object(g.a)({},e,Object(v.a)({},t.schema,t.payload));default:return e}},navigate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateNav":return Object(g.a)({},e,Object(v.a)({},t.payload.schema,Object(g.a)({},e[t.payload.schema],t.payload.data)));default:return e}},database:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.reduce(function(e,t){return e[t]={byId:{},allIds:[]},e},{});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0,a=t.schema;if(!a||!e[a])return e;switch(t.type){case A.a.init.TYPE:return Object(g.a)({},e,Object(v.a)({},a,t.payload.reduce(function(e,t){return e.byId[t.id]=t,e.allIds.push(t.id),e},{byId:{},allIds:[]})));case A.a.add.TYPE:return console.log("payload type",typeof t.payload,t.payload),Array.isArray(t.payload)?Object(g.a)({},e,Object(v.a)({},a,{allIds:[].concat(Object(h.a)(e[a].allIds),Object(h.a)(t.payload.map(function(e){return e.id}))),byId:Object(g.a)({},e[a].byId,t.payload.reduce(function(e,t){return e[t.id]=t,e},{}))})):Object(g.a)({},e,Object(v.a)({},a,{byId:Object(g.a)({},e[a].byId,Object(v.a)({},t.payload.id,t.payload)),allIds:e[a].allIds.concat(t.payload.id)}));case A.a.remove.TYPE:var r=Object.assign({},e[a].byId);return delete r[t.payload.id],Object(g.a)({},e,Object(v.a)({},a,{allIds:e[a].allIds.filter(function(e){return e!==t.payload.id}),byId:r}));case A.a.update.TYPE:return Object(g.a)({},e,Object(v.a)({},a,{byId:Object(g.a)({},e[a].byId,Object(v.a)({},t.payload.id,Object(g.a)({},e[a].byId[t.payload.id],t.payload))),allIds:e[a].allIds}));default:return e}}}("User","UserDetail","Board","BoardColumn","BoardColumnCard","BoardColumnCardAttachment","BoardColumnCardComment","BoardColumnCardDescription","BoardColumnCardTag","Blog","BlogDetail","BlogComment","BlogLike","Notification","BoardMember","UserEducation","UserWorkExperience","UserSkill","UserPortal","BoardMessage","UserConnection","UserMessage")}),S=[b.a],D=Object(f.e)(N,{},f.a.apply(void 0,S)),B=a(379),R=a(381),P=a(380),M=a(1),T=a.n(M),H=a(9),U=a(20),L=a.n(U),Q=function(e){return{type:"updateNav",payload:e}},Y=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"updateWebRtc",payload:t,schema:e});case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},G=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n(A.a.add(e,t));case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},W=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n(A.a.update(e,t));case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},F=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n(A.a.remove(e,t));case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},z=a(378),X=a(370),K=a(358),q=a(283),V=a(33),J=a(24),Z=a(58),_=a(25),$=a(80),ee=function(e,t){return e},te=function(){},ae=function(e,t){var a=WebSocket,n=Object($.createParser)(),r=0,c=0,i={},o={},s={},l={},u=[],d=function(e,t){var a=l[e];a&&a.forEach(function(e){return e.call(b,t)})},m=function(e){return u.push(e),function(){var t=u.indexOf(e);t>=0&&u.splice(t,1)}},p=function(e){if(null===e)return null;var t=new a(e);return t.onopen=function(){u.forEach(function(e){return t.send(e)}),u.length=0,d("connect")},t.onmessage=function(e){n.parse(e.data)},t.onclose=function(){u.length=0,Object.values(i).concat(Object.values(o)),i={},o={},s={},d("disconnect")},t.onerror=function(e){var t=Object.values(i).concat(Object.values(o));i={},o={},u.length=0,t.forEach(function(t){(0,ee(t)[1])(e.message)}),d("error",e.message)},t};n.onEvent=d,n.onAction=function(e){t.dispatch(e)},n.onRpcResponse=function(e,t,a){var n=ee(i[e]),r=n[0],c=n[1];delete i[e],t?r(a):c(a)},n.onScopeResponse=function(e,t,a){var n=ee(o[e]),r=n[0],c=n[1],i=n[2],l=n[3];if(delete o[e],t){var u=(a||l.api).reduce(function(e,t){return e[t]=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];for(var r=[a].length,c=Array(r),o=0;o<r;o+=1)c[o]=a[o];return b.rpc.apply(b,[i,t].concat(c))},e},{});s[i]=u,r(u)}else c(a)};var f=p(e),b={isConnected:function(){return f&&f.readyState===a.OPEN},reconnect:function(){var e=arguments.length>0&&void 0!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:null;if(null===e&&null===f)return!1;var t=e||f.url;return(null===f||f.url!==t||f.readyState!==a.OPEN)&&(null!==f&&f.close(),f=p(t),!0)},close:function(){f.close(),f=null},on:function(e,t){var a=l[e];return a?a.push(t):l[e]=[t],function(){l[e]=l[e].filter(function(e){return e===t})}},call:function(e,t){for(var a=arguments.length<=2?0:arguments.length-2,n=Array(a>2?a-2:0),r=2;r<a;r+=1)n[r-2]=r+2<2||arguments.length<=r+2?void 0:arguments[r+2];var c=Object($.PKT_CALL)(e,t,n);return b.isConnected()?(f.send(c),te):m(c)},rpc:function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),c=2;c<a;c++)n[c-2]=arguments[c];for(var o=n.length,s=Array(o>2?o-2:0),l=2;l<o;l+=1)s[l-2]=n[l];return new Promise(function(a,c){i[r+=1]=[a,c];var o=Object($.PKT_RPC_REQUEST)(r,e,t,n);if(!b.isConnected())return m(o);f.send(o)})},scope:function(e){var t=(arguments.length<=1?0:arguments.length-1)>1&&void 0!==(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:null;return new Promise(function(a,n){if(s[e])return a(s[e]);o[c+=1]=[a,n,e,t];var r=Object($.PKT_SCOPE_REQUEST)(c,e,!t);return b.isConnected()?(f.send(r),te):m(r)})}};return b},ne="http://localhost:4001",re=(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOCKET_HOST||window.location.hostname,function(){var e=D.getState().account.sessionId;return e?"".concat("ws","://").concat("localhost",":").concat(4001,"/shocked/web/").concat(e):null}),ce=ae(re(),D),ie=!0,oe=null;ce.on("connect",function(){ie=!0,D.dispatch({type:"CONNECT"})});ce.on("disconnect",function(){console.log("disconnetct called"),D.dispatch({type:"DISSCONNECT"}),ie&&(oe||(oe=setTimeout(function(){oe=null,console.log("reconnect try"),ce.reconnect()},1e3)))}),ce.on("logout",function(){ie=!1}),ce.on("error",function(e){console.error("socket Error",e)});var se=ce,le=a(371),ue=a(61),de=a.n(ue),me=a(60),pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.database;return console.log(e.Notification),c.a.createElement("div",{className:"notification-list"},e.Notification.allIds.map(function(t,a){var n=e.Notification.byId[t];return c.a.createElement("div",{className:"pc-noti-wrapper",key:a},c.a.createElement("div",{className:"pc-noti-img"},c.a.createElement("img",{alt:"Notification sender",src:me})),c.a.createElement("div",{className:"pc-noti-body"},c.a.createElement("p",{className:"pc-noti-desc"},n.body),c.a.createElement("p",{className:"pc-ago-date"},de()(n.timeStamp).fromNow())))}))}}]),t}(c.a.Component),fe=Object(p.b)(function(e){return e})(pe),be=a(368),he=a(113),ve=a(75),ge=a(362),Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={hidden:!1},a.componentWillMount=function(){var e=a.props.data;a.setState({hidden:e.hidden})},a.handleLockClick=function(){var e=a.state.hidden;a.setState({hidden:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.hidden,t=this.props,a=t.data,n=t.onChange,r=t.value,i={};return a.icon&&(i=function(e,t,a){return"left"===e.side?{leftIcon:c.a.createElement(J.a,{onClick:t,icon:e.name,iconSize:J.a.SIZE_LARGE}),rightIcon:null}:"right"===e.side?{leftIcon:null,rightIcon:c.a.createElement(he.a,{content:!0===a?"show":"hide",position:_.a.RIGHT},c.a.createElement(J.a,{style:{marginTop:3,marginRight:5,color:"#757575"},icon:e.name,onClick:t,iconSize:"20"}))}:{leftIcon:null,rightIcon:null}}(a.icon,this.handleLockClick,e)),c.a.createElement(ve.c,null,c.a.createElement("span",{className:"label-text"},a.name),a.required&&c.a.createElement("span",{style:{color:"red"}}," *"),c.a.createElement(ge.a,Object.assign({onChange:function(e){return n(a.id,e.target.value)},value:r,type:e?"password":"text",leftIcon:i.leftIcon,rightElement:i.rightIcon},a)))}}]),t}(c.a.Component);Ee.defaultProps={value:""};var Ae=Ee,ye=a(217),we=a(57),Oe=function(e){var t=e.onSubmit,a=e.data,n=e.state;return c.a.createElement("div",{className:"btn-group"},c.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",alignItems:"center"}},n.loading&&c.a.createElement(ye.a,{intent:V.a.PRIMARY,size:40}),n.error&&c.a.createElement(ve.c,{style:{fontSize:16,color:"red"}},n.error),n.message&&c.a.createElement(ve.c,{style:{fontSize:16,color:"green"}},n.message)),c.a.createElement(we.b,Object.assign({fill:!0,large:!0,onClick:t,disabled:n.loading},a)))},Ce=a(367),je=a(363),ke=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onChange,n=e.value;return c.a.createElement(ve.c,null,c.a.createElement("span",{className:"label-text"},t.name),t.required&&c.a.createElement("span",{style:{color:"red"}}," *"),c.a.createElement(je.a,Object.assign({onAdd:function(e){return a(t.id,e)},onChange:function(e){return a(t.id,e)}},t,{className:"tag-input",values:n})))}}]),t}(c.a.Component),xe=a(364),Ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onChange,n=e.value;return c.a.createElement(ve.c,null,c.a.createElement("span",{className:"label-text"},t.name),t.required&&c.a.createElement("span",{style:{color:"red"}}," *"),c.a.createElement(xe.a,Object.assign({onChange:function(e){return a(t.id,e.target.value)},value:n,options:t.options},t)))}}]),t}(c.a.Component);Ie.defaultProps={value:""};var Ne=Ie,Se=a(377),De=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onChange,n=e.value;return c.a.createElement(ve.c,null,c.a.createElement("span",{className:"label-text"},t.name),t.required&&c.a.createElement("span",{style:{color:"red"}}," *"),c.a.createElement(Se.a,Object.assign({formatDate:function(e){return e.toLocaleDateString()},parseDate:function(e){return new Date(e)},placeholder:"M/D/YYYY",onChange:function(e){return a(t.id,e)},value:n,popoverProps:{usePortal:!1},rightElement:c.a.createElement(J.a,{icon:"calendar",intent:"primary"})},t)))}}]),t}(c.a.Component);De.defaultProps={value:new Date};var Be=De,Re=a(365),Pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onChange,n=e.value;return c.a.createElement(ve.c,null,c.a.createElement("span",{className:"label-text"},t.name),t.required&&c.a.createElement("span",{style:{color:"red"}}," *"),c.a.createElement(Re.a,Object.assign({growVertically:!0,large:!0,onChange:function(e){return a(t.id,e.target.value)},value:n,options:t.options,fill:!0,style:{resize:"none"}},t)))}}]),t}(c.a.Component);Pe.defaultProps={value:""};var Me=Pe,Te=a(366),He=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onChange,n=e.value;return c.a.createElement(ve.c,null,c.a.createElement("span",{className:"label-text"},t.name),t.required&&c.a.createElement("span",{style:{color:"red"}}," *"),c.a.createElement("br",null),c.a.createElement(Te.a,Object.assign({onInputChange:function(e){return a(t.id,e.target.files[0])},value:n,options:t.options},t)))}}]),t}(c.a.Component);He.defaultProps={value:{}};var Ue=He,Le=function(e){var t=e.data;if(!t.fieldtype)return null;switch(t.fieldtype){case"input":return c.a.createElement(Ae,e);case"button":return c.a.createElement(Oe,e);case"tagInput":return c.a.createElement(ke,e);case"select":return c.a.createElement(Ne,e);case"date":return c.a.createElement(Be,e);case"textarea":return c.a.createElement(Me,e);case"image":return c.a.createElement(Ue,e);default:return null}},Qe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,message:null,fields:{},data:[]},a.componentWillMount=function(){var e=a.props.data,t=e.filter(function(e){if("input"===e.fieldtype||"select"===e.fieldtype||"tagInput"===e.fieldtype||"textarea"===e.fieldtype||"date"===e.fieldtype)return e}).map(function(e){return"tagInput"===e.fieldtype?Object(v.a)({},e.id,e.val?e.val:[]):"date"===e.fieldtype?Object(v.a)({},e.id,e.val?e.val:new Date):"image"===e.fieldtype?Object(v.a)({},e.id,e.val?e.val:{}):Object(v.a)({},e.id,e.val?e.val:"")}).reduce(function(e,t){return e[Object.keys(t)[0]]=Object.values(t)[0],e},{});a.setState({fields:t,data:e})},a.onChange=function(e,t){var n=a.state.fields;a.setState({fields:Object(g.a)({},n,Object(v.a)({},e,t))})},a.onSubmit=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.props.callback,r=a.state,c=r.fields,i=r.data,o=!1,i.map(function(e){return e.required&&0===c[e.id].replace(/\s/g,"").length&&(o=!0,a.setState({error:"Fill the required field(*)"})),e}),!o){e.next=7;break}return e.abrupt("return");case 7:return a.setState({loading:!0}),e.next=10,n(c);case 10:200===(s=e.sent).response?a.setState({loading:!1,error:null,message:s.message}):a.setState({loading:!1,error:s.error});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.fields;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement(Ce.a,null,a.map(function(t,a){return c.a.createElement(Le,{key:a,data:t,onChange:e.onChange,onSubmit:e.onSubmit,value:n[t.id],state:e.state})})))}}]),t}(c.a.Component),Ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.isOpen,n=e.name;return c.a.createElement(be.a,{isOpen:a,onClose:function(){return t("cancle")}},c.a.createElement("div",{className:"delete-popover"},c.a.createElement("div",{className:"top"},"Are you sure you want to delete"," ",c.a.createElement("span",{style:{color:"red"}},n),"?"),c.a.createElement("div",{className:"popover-button"},c.a.createElement(we.b,{text:"Delete",intent:"danger",onClick:function(){return t("confirm")}}),c.a.createElement(we.b,{text:"Cancle",onClick:function(){return t("cancle")}}))))}}]),t}(c.a.Component),Ge=function(e,t){return e.position>t.position?1:e.position<t.position?-1:void 0},We=function(e,t){return e.timeStamp<t.timeStamp?1:-1},Fe=function(e,t){return e.timeStamp>t.timeStamp?1:-1},ze=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.getChatList=function(){var e=a.props,t=e.database,n=e.webRtc,r=e.account,c=[];if(n.showCommunication){var i=r.user.id;t.UserMessage.allIds.map(function(e){var a=t.UserMessage.byId[e],n=!1;a.tuserId===i&&(c.map(function(e){return"user"===e.type&&e.id===a.fuserId&&(n=!0,e.timeStamp<a.timeStamp&&(e.message=a.message,e.timeStamp=a.timeStamp)),e}),n||c.push({type:"user",id:a.fuserId,timeStamp:a.timeStamp,message:a.message})),a.fuserId===i&&(c.map(function(e){return"user"===e.type&&e.id===a.tuserId&&(n=!0,e.timeStamp<a.timeStamp&&(e.message=a.message,e.timeStamp=a.timeStamp)),e}),n||c.push({type:"user",id:a.tuserId,timeStamp:a.timeStamp,message:a.message}))}),t.BoardMessage.allIds.map(function(e){var a=t.BoardMessage.byId[e],n=!1;c.map(function(e){return"board"===e.type&&e.id===a.boardId&&(n=!0,e.timeStamp<a.timeStamp&&(e.message=a.message,e.timeStamp=a.timeStamp)),e}),n||c.push({type:"board",id:a.boardId,timeStamp:a.timeStamp,message:a.message})})}return c},a.onClick=function(e,t){var n=a.props,r=n.change,c=n.updateWebRtc;r("history"),c("peerType",e),c("showCommunication",t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.database,r=this.getChatList();return c.a.createElement("div",{style:a,className:"chat-list"},r.sort(We).map(function(t,a){var r="";return"user"===t.type&&n.User.allIds.map(function(e){t.id===e&&(r=n.User.byId[e].middleName?"".concat(n.User.byId[e].firstName," ").concat(n.User.byId[e].middleName," ").concat(n.User.byId[e].lastName):"".concat(n.User.byId[e].firstName," ").concat(n.User.byId[e].lastName))}),"board"===t.type&&n.Board.allIds.map(function(e){t.id===e&&(r=n.Board.byId[e].name)}),c.a.createElement("div",{key:a,className:"i-chat unseen",onClick:function(){return e.onClick(t.type,t.id)}},c.a.createElement("div",{className:"name"},r),c.a.createElement("div",{className:"short-msg"},t.message))}))}}]),t}(c.a.Component),Xe=a(70),Ke=a.n(Xe),qe=function(){var e=Object(H.a)(T.a.mark(function e(t){var a,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("check media type",t),a=document.getElementById("mainCanvas"),console.log("white boardelement",a),n=null,e.prev=4,navigator.getWebcam=navigator.getUserMedia||navigator.webKitGetUserMedia||navigator.moxGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,e.t0=t,e.next="audio"===e.t0?9:"video"===e.t0?20:"screenshare"===e.t0?30:"whiteBoard"===e.t0?34:40;break;case 9:if(!navigator.mediaDevices.getUserMedia){e.next=15;break}return e.next=12,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 12:n=e.sent,e.next=18;break;case 15:return e.next=17,navigator.getWebcam({audio:!0,video:!1});case 17:n=e.sent;case 18:return console.log("final stream",n),e.abrupt("return",n);case 20:if(!navigator.mediaDevices.getUserMedia){e.next=26;break}return e.next=23,navigator.mediaDevices.getUserMedia({audio:!0,video:!0});case 23:n=e.sent,e.next=29;break;case 26:return e.next=28,navigator.getWebcam({audio:!0,video:!0});case 28:n=e.sent;case 29:return e.abrupt("return",n);case 30:return e.next=32,navigator.mediaDevices.getDisplayMedia({video:!0});case 32:return n=e.sent,e.abrupt("return",n);case 34:return console.log("inside white board element"),e.next=37,a.captureStream(10);case 37:return n=e.sent,console.log("stream of white Board",n),e.abrupt("return",n);case 40:return e.abrupt("return",n);case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(4),console.error("Media Selector error",e.t1);case 46:case"end":return e.stop()}},e,null,[[4,43]])}));return function(t){return e.apply(this,arguments)}}(),Ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={message:""},a.onMessageType=function(e){a.setState({message:e.target.value})},a.handleKeyPress=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=21;break}if(0!==(n=a.state.message).replace(/\s/g,"").length){e.next=4;break}return e.abrupt("return");case 4:if(r=a.props,c=r.account,i=r.apis,o=r.peerType,s=r.peerId,l=r.appendNewMessage,e.prev=5,"board"!==o){e.next=12;break}return e.next=9,i.addBoardMessage({boardId:s,message:n,userId:c.user.id,timeStamp:Date.now(),url:null,remarks:null,broadCastId:"Board-".concat(s),readStatus:0});case 9:l("BoardMessage",{id:Date.now(),boardId:s,message:n,userId:c.user.id,timeStamp:Date.now(),url:null,remarks:null,readStatus:0}),e.next=15;break;case 12:return e.next=14,i.addUserMessage({tuserId:s,fuserId:c.user.id,timeStamp:Date.now(),message:n,url:null,readStatus:0,broadCastId:"UserConnection-".concat(c.user.id),broadCastUserList:[{userId:s}]});case 14:l("UserMessage",{id:Date.now(),tuserId:s,fuserId:c.user.id,timeStamp:Date.now(),message:n,url:null,readStatus:0});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.error("Error in sending message",e.t0);case 20:a.setState({message:""});case 21:case"end":return e.stop()}},e,null,[[5,17]])}));return function(t){return e.apply(this,arguments)}}(),a.sendMessage=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=a.state.message).replace(/\s/g,"").length){e.next=3;break}return e.abrupt("return");case 3:if(n=a.props,r=n.account,c=n.apis,i=n.peerType,o=n.peerId,s=n.appendNewMessage,e.prev=4,"board"!==i){e.next=11;break}return e.next=8,c.addBoardMessage({boardId:o,message:t,userId:r.user.id,timeStamp:Date.now(),url:null,remarks:null,readStatus:0,broadCastId:"Board-".concat(o)});case 8:s("BoardMessage",{id:Date.now(),boardId:o,message:t,userId:r.user.id,timeStamp:Date.now(),url:null,remarks:null,readStatus:0}),e.next=14;break;case 11:return e.next=13,c.addUserMessage({tuserId:o,fuserId:r.user.id,timeStamp:Date.now(),message:t,url:null,readStatus:0,broadCastId:"UserConnection-".concat(r.user.id),broadCastUserList:[{userId:o}]});case 13:s("UserMessage",{id:Date.now(),tuserId:o,fuserId:r.user.id,timeStamp:Date.now(),message:t,url:null,readStatus:0});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.error("Error in sending message",e.t0);case 19:a.setState({message:""});case 20:case"end":return e.stop()}},e,null,[[4,16]])})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.message;return c.a.createElement("div",{className:"chat-box"},c.a.createElement(Re.a,{placeholder:"Type here something...",onChange:this.onMessageType,value:e,onKeyPress:this.handleKeyPress}),c.a.createElement(we.b,{icon:"send-to",intent:"primary",text:"send",onClick:this.sendMessage}))}}]),t}(c.a.Component);Ve.defaultProps={peerId:0};var Je=Ve,Ze=a(62),_e=a.n(Ze),$e=a(110),et=function(e){var t=e.own,a=e.obj;return c.a.createElement("div",{className:t?"i-chat right":"i-chat left"},c.a.createElement("div",{className:"img-wrap"},c.a.createElement("img",{src:a.imageUrl?"https://amp.businessinsider.com/images/5d0251196fc920014b1ed907-1920-1380.jpg":$e,height:"50px",width:"50px",alt:"profile of the user"})),c.a.createElement("div",{className:"text-contain"},c.a.createElement(_e.a,{format:"YYYY-MM-DD hh:mm"},a.timeStamp),c.a.createElement("div",{className:"text"},a.message)))};et.defaultProps={own:!1};var tt=et,at=function(e){var t=e.pc;return t.user?c.a.createElement("div",{style:{width:100,height:100,background:"black",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",border:"solid",borderWidth:2,borderColor:t.online?"yellow":"green",borderRadius:20,margin:10}},c.a.createElement("video",{muted:!!t.online,controls:!0,id:"video-".concat(t.user.id),playsInline:!0,autoPlay:!0,style:{height:90,width:90,background:"black",borderRadius:20}}),c.a.createElement("div",{style:{position:"absolute",marginTop:20,marginLeft:20,width:100,height:100}},c.a.createElement("div",null,c.a.createElement("span",{style:{color:"yellow"}},t.online?"You":"".concat(t.user.firstName))),c.a.createElement("div",null,c.a.createElement("span",{style:{color:"yellow"}},t.iceCandidateStatus)))):null},nt=function(){return c.a.createElement("div",{style:{width:"98%",height:"98%",background:"black",minHeight:"90%",minWidth:"98%",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",border:"solid",borderWidth:2,borderColor:"green",borderRadius:5,margin:10}},c.a.createElement("div",null,c.a.createElement("video",{controls:!0,id:"video-mentor",playsInline:!0,autoPlay:!0,style:{height:"100%",width:"100%",background:"black"}})))},rt=function(e){var t=e.webRtc,a=e.account,n=Object.values(t.peerConnections).map(function(e){return c.a.createElement(at,{pc:e,key:e.user.id})});return[].concat(Object(h.a)(n),[c.a.createElement(at,{pc:a,key:a.user.id})])},ct=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",position:"absolute",zIndex:12}},c.a.createElement(rt,this.props)),c.a.createElement("div",{style:{height:"100%",width:"100%"}},c.a.createElement(nt,this.props)))}}]),t}(c.a.Component),it=a(258),ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("audio",{autoPlay:!0,src:it,loop:!0,type:"audio/mpeg"})}}]),t}(c.a.Component),st=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.getMessages=function(){var e=a.props,t=e.database,n=e.webRtc,r=e.account,c=[];if(n.showCommunication){var i=r.user.id;"user"===n.peerType&&t.UserMessage.allIds.map(function(e){var a=t.UserMessage.byId[e];a.tuserId!==i&&a.fuserId!==i||c.push(a)}),"board"===n.peerType&&t.BoardMessage.allIds.map(function(e){var a=t.BoardMessage.byId[e];a.boardId===n.showCommunication&&c.push(a)})}return c},a.goBack=function(){(0,a.props.change)("list")},a.toCallScreen=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n._callHandler,c=n.apis,i=n.change,e.next=3,qe(t);case 3:o=e.sent,r(c,o),i("connecting");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.appendNewMessage=function(e,t){(0,a.props.addDatabaseSchema)(e,t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.webRtc,r=t.account,i=t.apis,o=t.database,s="";if(n.showCommunication){if("user"===n.peerType){var l=n.showCommunication;s=o.User.byId[l].middleName?"".concat(o.User.byId[l].firstName," ").concat(o.User.byId[l].middleName," ").concat(o.User.byId[l].lastName):"".concat(o.User.byId[l].firstName," ").concat(o.User.byId[l].lastName)}"board"===n.peerType&&(s=o.Board.byId[n.showCommunication].name)}var u=this.getMessages();return n.showCommunication?c.a.createElement("div",{style:a,className:"chat-history"},c.a.createElement("div",{className:"top"},c.a.createElement("div",null,c.a.createElement(we.b,{minimal:!0,intent:"default",icon:"double-chevron-left",onClick:this.goBack})),c.a.createElement("div",{className:"op-name"},s),c.a.createElement("div",{className:"call-control"},c.a.createElement(we.b,{icon:"phone",intent:"success",onClick:function(){return e.toCallScreen("audio")}}),c.a.createElement(we.b,{icon:"mobile-video",intent:"danger",onClick:function(){return e.toCallScreen("video")}}))),c.a.createElement(Ke.a,{className:"chats"},u.sort(Fe).map(function(e,t){var a=r.user&&e.fuserId===r.user.id;return c.a.createElement(tt,{key:t,own:a,obj:e})})),c.a.createElement(Je,{apis:i,account:r,peerId:n.showCommunication,peerType:n.peerType,appendNewMessage:this.appendNewMessage})):c.a.createElement("div",null)}}]),t}(c.a.Component),lt=function(e,t){se.on("offer",function(){var a=Object(H.a)(T.a.mark(function a(n){var r,c,i,o,s,l,u,d,m,p,f,b;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("Offer arrived",n),r=e.updateWebRtc,c=D.getState(),i=c.webRtc,o=c.account,s=t.apis,!i.showCommunication){a.next=32;break}if(r("currentOffer",n),r("pendingOffers",[].concat(Object(h.a)(i.pendingOffers),[n])),!i.isLive){a.next=29;break}if(a.prev=8,l=n.uid,u=n.offer,d=n.boardId,m=i.peerConnections[n.uid],p=m.pc,f=m.iceCandidateStatus,b=null,"connected"!==f){a.next=18;break}return a.next=15,p.createAnswer(u,null);case 15:b=a.sent,a.next=21;break;case 18:return a.next=20,p.createAnswer(u,i.outGoingCallType);case 20:b=a.sent;case 21:s.createAnswer({answerDetail:{answer:b,uid:o.user.id,boardId:d},userList:[{userId:l}]}),a.next=27;break;case 24:a.prev=24,a.t0=a.catch(8),console.error("erro in answerHandler",a.t0);case 27:a.next=30;break;case 29:r("liveIncomingCall",!0);case 30:a.next=35;break;case 32:r("showIncommingCall",!0),r("currentOffer",n),r("pendingOffers",[].concat(Object(h.a)(i.pendingOffers),[n]));case 35:case"end":return a.stop()}},a,null,[[8,24]])}));return function(e){return a.apply(this,arguments)}}()),se.on("answer",function(){var a=Object(H.a)(T.a.mark(function a(n){var r,c,i,o,s,l,u,d,m;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log("answer arrived",n),r=t.apis,c=e.updateWebRtc,i=D.getState(),o=i.webRtc,s=i.account,console.log("Total candidateFor this pc",o.iceCandidates),l=n.uid,u=n.answer,n.boardId,d=o.peerConnections[l].pc,m=o.iceCandidates[l],n&&(console.log("sending All candidate during answer",m),d.setRemoteDescription(u),m.candidates.forEach(function(e){r.addIceCandidate({iceCandidateDetail:{iceCandidate:JSON.stringify(e.candidate),uid:s.user.id,boardId:o.currentOffer?o.currentOffer.boardId:o.showCommunication},userList:[{userId:l}]})}),c("iceCandidates",Object(g.a)({},o.iceCandidates,Object(v.a)({},l,Object(g.a)({},o.iceCandidates[l],{sendStatus:!0})))));case 9:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()),se.on("icecandidate",function(){var a=Object(H.a)(T.a.mark(function a(n){var r,c,i,o,s,l,u,d,m;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log("icecandidate Arrived",n),r=t.apis,c=n.uid,i=n.iceCandidate,o=e.updateWebRtc,s=D.getState(),l=s.webRtc,u=s.account,d=l.peerConnections[c].pc,m=l.iceCandidates[c],i&&(d.addCandidate(i),m?m.sendStatus||(console.log("sending All ICe candidate to remote of iceCandidate arrive",m),m.candidates.forEach(function(e){r.addIceCandidate({iceCandidateDetail:{iceCandidate:JSON.stringify(e.candidate),uid:u.user.id,boardId:l.currentOffer?l.currentOffer.boardId:l.showCommunication},userList:[{userId:c}]})}),o("iceCandidates",Object(g.a)({},l.iceCandidates,Object(v.a)({},c,Object(g.a)({},l.iceCandidates[c],{sendStatus:!0}))))):o("iceCandidates",Object(g.a)({},l.iceCandidates,Object(v.a)({},c,{preFetch:!0}))));case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())};function ut(e,t,a){a(e,t);var n=document.getElementById("video-".concat(D.getState().account.user.id));e&&(n.srcObject=e)}function dt(e,t,a){console.log("got remote stream",e,t),a(e.streams[0],t);var n=document.getElementById("video-".concat(t)),r=document.getElementById("video-mentor");n.srcObject!==e.streams[0]&&(n.srcObject=e.streams[0],r.srcObject=e.streams[0])}function mt(e,t,a,n,r,c){return pt.apply(this,arguments)}function pt(){return(pt=Object(H.a)(T.a.mark(function e(t,a,n,r,c,i){var o,s,l,u,d,m,p,f,b;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a,s={iceServers:[{urls:["stun:stun.l.google.com:19302"]},{urls:["turn:properclass.com:3478?transport=udp"],username:"properclass",credential:"proper199201"}]},e.prev=2,(l=new RTCPeerConnection(s)).addEventListener("icecandidate",function(e){return t(e,o)}),l.addEventListener("iceconnectionstatechange",function(e){return r(e,l,o)}),l.addEventListener("track",function(e){return dt(e,o,n)}),l.onicecandidateerror=function(e){return console.error("Error on onIceCandidate",e)},l.onicegatheringstatechange=function(e){return console.info("OnICeGatheringsStateChange",e)},u=function(e){l.setLocalDescription(e)},d=function(e){l.addIceCandidate(new RTCIceCandidate(JSON.parse(e)))},m=function(e){console.log("setRemote description called for anser",e),l.setRemoteDescription(e)},p=function(){var e=Object(H.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ut(t,o,i),t.getTracks().forEach(function(e){return l.addTrack(e,t)}),l.createOffer(function(e){u(e),c(e,o)},function(e){console.error("error in create offer",e)},{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(H.a)(T.a.mark(function e(t,a){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("createAnswer called",t,a),a&&(a.getTracks().forEach(function(e){return l.addTrack(e,a)}),ut(a,o,i)),m(t),e.next=5,l.createAnswer();case 5:return n=e.sent,u(n),e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),b=function(e){l.addIceCandidate(new RTCIceCandidate(JSON.parse(e)))},e.abrupt("return",{pc:l,createOffer:p,createAnswer:f,addIceCandidate:b,setRemoteDescription:m,addCandidate:d});case 18:e.prev=18,e.t0=e.catch(2),console.error("Error in Creating turn server",e.t0);case 21:case"end":return e.stop()}},e,null,[[2,18]])}))).apply(this,arguments)}var ft=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){var c,i,o,s,l,u;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("OnIceCandidate local",n),c=e.account,i=e.updateWebRtc,o=D.getState(),s=o.webRtc,l=t.apis,a.prev=4,!n.candidate){a.next=16;break}if(!(u=s.iceCandidates[r])){a.next=15;break}if(i("iceCandidates",Object(g.a)({},s.iceCandidates,Object(v.a)({},r,{candidates:[].concat(Object(h.a)(s.iceCandidates[r].candidates),[n]),sendStatus:!1,preFetch:!1}))),!u.preFetch){a.next=13;break}return i("iceCandidates",Object(g.a)({},s.iceCandidates,Object(v.a)({},r,{e:n,sendStatus:!0,preFetch:!1}))),a.next=13,l.addIceCandidate({iceCandidateDetail:{iceCandidate:JSON.stringify(n.candidate),uid:c.user.id,boardId:s.currentOffer?s.currentOffer.boardId:s.showCommunication},userList:[{userId:r}]});case 13:a.next=16;break;case 15:i("iceCandidates",Object(g.a)({},s.iceCandidates,Object(v.a)({},r,{candidates:[n],sendStatus:!1,preFetch:!1})));case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(4),console.error("Error in add local iCe candidate",a.t0);case 21:case"end":return a.stop()}},a,null,[[4,18]])}));return function(e,t){return a.apply(this,arguments)}}()},bt=function(e,t){return ht.apply(this,arguments)};function ht(){return(ht=Object(H.a)(T.a.mark(function e(t,a){var n,r,i,o,s,l,u,d;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("video-".concat(t)).captureStream(),i=[],o=function(e){e.data&&e.data.size>0&&i.push(e.data)},s={mimeType:"video/webm;codecs=vp9"},MediaRecorder.isTypeSupported(s.mimeType)||(console.error("".concat(s.mimeType," is not Supported")),s={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(s.mimeType)||(console.error("".concat(s.mimeType," is not supported")),s={mimeType:"video/webm"},MediaRecorder.isTypeSupported(s.mimeType)||(console.error("".concat(s.mimeType," is not supported")),s={mimeType:""})));try{r=new MediaRecorder(n,s)}catch(m){console.error("Media recorder error",m)}return r.onstop=function(e){console.log("Recorder stopped",e)},r.onpause=function(e){console.log("Recoder Paused",e)},r.onresume=function(e){console.log("Recoder resumed",e)},r.ondataavailable=o,r.start(10),l=function(e){var t=a.updateWebRtc;console.log("downloadButton Click handler",e),t("recordedBlobs",D.getState().webRtc.recordedBlobs.filter(function(t){return Object.keys(t)[0]!==e}))},u=function(){var e=a.updateWebRtc,t=D.getState(),r=t.webRtc,o=t.database,s=new Blob(i,{type:"video/webm"}),u=window.URL.createObjectURL(s),d="".concat((new Date).getDate(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getFullYear());e("recordedBlobs",[].concat(Object(h.a)(D.getState().webRtc.recordedBlobs),[Object(v.a)({},n.id,c.a.createElement("a",{id:n.id,href:u,style:{margin:5},download:"".concat(o.Board.byId[r.showCommunication].name,"-").concat(d)},c.a.createElement(we.b,{onClick:function(){return l(n.id)},style:{background:"green",color:"white"},rightIcon:"download"},"".concat(o.Board.byId[r.showCommunication].name,"-").concat(d))))]))},d=function(){r.stop(),u()},e.abrupt("return",{stopRecording:d,mediaRecorder:r,stream:n});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var vt=function(){var e=Object(H.a)(T.a.mark(function e(t,a,n){var r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("stopAndRecordStream",n.id),r=D.getState(),c=r.webRtc,i=t.updateWebRtc,!c.mediaRecording||1!==a||n.id===c.mediaRecording.stream.id){e.next=11;break}return console.log("stopAndRecordStream inisde",c.mediaRecording.stream.id,n.id),c.mediaRecording.stopRecording(),e.next=8,bt(1,t);case 8:return o=e.sent,e.next=11,i("mediaRecording",o);case 11:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),gt=function(e){return function(){var t=Object(H.a)(T.a.mark(function t(a,n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("remote stream handler",a,n),r=e.updateWebRtc,t.next=4,r("streams",Object(g.a)({},D.getState().webRtc.streams,Object(v.a)({},n,a)));case 4:return t.next=6,r("lastStreamId",n);case 6:return t.next=8,r("isLive",!0);case 8:return t.next=10,vt(e,n,a);case 10:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},Et=function(e){return function(t,a,n){var r=e.updateWebRtc,c=D.getState().webRtc;r("peerConnections",Object(g.a)({},c.peerConnections,Object(v.a)({},n,Object(g.a)({},c.peerConnections[n],{iceCandidateStatus:a.iceConnectionState}))))}},At=function(e,t){return function(){var e=Object(H.a)(T.a.mark(function e(a,n){var r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=D.getState(),c=r.account,i=r.webRtc,console.log("offer handler called",a,n,i),t.apis.createOffer({offerDetail:{offer:a,uid:c.user.id,boardId:i.showCommunication},userList:[{userId:n}]});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},yt=function(e){return function(t,a){console.log("local stream handler",t,a),(0,e.updateWebRtc)("streams",Object(g.a)({},D.getState().webRtc.streams,Object(v.a)({},a,t)))}},wt=function(){var e=Object(H.a)(T.a.mark(function e(t,a,n){var r,c,i,o,s,l,u,d,m;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.database,c=a.updateWebRtc,i=a.account,o=Object.values(r.BoardMember.byId).filter(function(e){return e.boardId===t}),s=o.map(function(e){return r.User.byId[e.tuserId]}),l=s.filter(function(e){return e.id!==i.user.id}),u=l.map(function(e){return mt(ft(a,n),e.id,gt(a),Et(a),At(0,n),yt(a))}),e.next=8,Promise.all(u);case 8:return d=e.sent,m=l.reduce(function(e,t,a){return e[t.id]={pc:d[a],user:t},e},{}),c("peerConnections",m),e.abrupt("return",l);case 14:e.prev=14,e.t0=e.catch(0),console.error("Error in creating pc",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t,a,n){return e.apply(this,arguments)}}(),Ot=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){var c,i,o,s,l;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("call handler called",r),c=D.getState(),i=c.webRtc,o=e.updateWebRtc,e.account,i.isLive){a.next=6;break}return a.next=6,wt(i.showCommunication,e,t);case 6:return i=D.getState().webRtc,console.log("webRtc value after creating pc",i),o("communicationContainer","connecting"),o("showOutgoingCall",!0),s=Object.values(i.peerConnections),Object.keys(i.peerConnections),l=s.map(function(e){return e.pc.createOffer(r)}),a.next=15,Promise.all(l);case 15:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},Ct=function(e){return Object(H.a)(T.a.mark(function t(){var a,n,r,c;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.updateWebRtc,n=D.getState(),r=n.webRtc,c=Object.values(r.peerConnections),r.showCommunication?(r.mediaRecording&&(r.mediaRecording.stopRecording(),a("mediaRecording",null)),c.forEach(function(e){return e.pc.pc.close()}),a("communicationContainer","chat"),a("outGoingCallType",null),a("showOutgoingCall",!1),a("peerConnections",{}),a("pendingOffers",[]),a("remoteStream",{}),a("currentOffer",null),a("iceCandidates",{}),a("liveIncomingCall",!1),a("isLive",!1)):a("showIncommingCall",!1);case 4:case"end":return t.stop()}},t)}))},jt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={startRecording:!1,showWhiteBoard:!1},a.goBack=function(){(0,a.props.change)("history")},a.callHandle=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n._callHandler,c=n.apis,"whiteBoard"!==t){e.next=4;break}return e.next=4,a.setState({showWhiteBoard:!0});case 4:return e.next=6,qe(t);case 6:i=e.sent,r(c,i);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.callReject=function(){var e=a.props,t=e.closeHandler,n=e.change;t(),n("history")},a.recordingHandler=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.startRecording,n=a.props,r=n.updateWebRtc,c=n.webRtc,t){e.next=10;break}return e.next=5,bt(1,a.props);case 5:i=e.sent,r("mediaRecording",i),a.setState({startRecording:!0}),e.next=13;break;case 10:c.mediaRecording.stopRecording(),r("mediaRecording",null),a.setState({startRecording:!1});case 13:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.webRtc,r=t.account,i=this.state.showWhiteBoard;return n.showCommunication?c.a.createElement("div",{className:"call-screen",style:a},i&&c.a.createElement(z.a,{to:"/".concat(r.sessionId,"/drawing-board")}),c.a.createElement("div",{className:"top"},c.a.createElement("div",null,c.a.createElement(we.b,{minimal:!0,intent:"default",icon:"double-chevron-left",onClick:this.goBack})),c.a.createElement("div",{className:"op-name"},"Subject 1"),c.a.createElement("div",null)),c.a.createElement("div",{className:"video-container"},c.a.createElement(ct,{account:r,webRtc:n})),c.a.createElement("div",{className:"controllers",style:{zIndex:20}},c.a.createElement(we.b,{icon:"phone",intent:"success",onClick:function(){return e.callHandle("audio")}}),c.a.createElement(we.b,{icon:"mobile-video",onClick:function(){return e.callHandle("video")},intent:"success"}),c.a.createElement(we.b,{icon:"cross",intent:"danger",onClick:this.callReject}),c.a.createElement(we.b,{icon:"duplicate",onClick:function(){return e.callHandle("screenshare")},intent:"success"}),c.a.createElement(we.b,{icon:"record",onClick:function(){return e.recordingHandler()},intent:"success"}),c.a.createElement(we.b,{icon:"headset",intent:"success"}),c.a.createElement(we.b,{icon:"edit",onClick:function(){return e.callHandle("whiteBoard")},intent:"success"})),c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"scrollX",width:"100%"}},n.recordedBlobs.map(function(e){return Object.values(e)[0]}))):c.a.createElement("div",null)}}]),t}(c.a.Component),kt=a(260),xt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.callAccept=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.answerHandler,c=n.apis,n.updateWebRtc,e.next=3,qe(t);case 3:return i=e.sent,e.next=6,r(c,i);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.callReject=function(){var e=a.props,t=e.closeHandler,n=e.change;t(),n("list")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.webRtc;return c.a.createElement("div",{style:a,className:"incoming-call-screen"},n.showIncommingCall&&c.a.createElement(ot,null),c.a.createElement("div",{className:"person-icon-container"},c.a.createElement("img",{src:kt,alt:"calling person"}),c.a.createElement("div",{className:"controllers"},c.a.createElement(we.b,{icon:"phone",onClick:function(){return e.callAccept("audio")},large:!0,intent:"success"}),c.a.createElement(we.b,{icon:"mobile-video",onClick:function(){return e.callAccept("video")},large:!0,intent:"success"}),c.a.createElement(we.b,{icon:"cross",onClick:this.callReject,large:!0,intent:"danger"}))))}}]),t}(c.a.Component),It=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={minimize:!1,apis:{}},a.toggleMinMax=function(){var e=a.state.minimize;a.setState({minimize:!e})},a.cutWindow=function(){var e=a.props.updateWebRtc;e("showCommunication",!1),e("showIncommingCall",!1)},a.switchScreen=function(e){(0,a.props.updateWebRtc)("communicationContainer",e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.scope("Mentee");case 2:t=e.sent,this.setState({apis:t}),lt(this.props,this.state);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.state,n=a.minimize,r=a.apis,i=this.props,o=i.webRtc,s=i.database,l=i.account,u=i.updateWebRtc,d=i.addDatabaseSchema;return c.a.createElement("div",{className:"communicate",style:{height:n?"31px":"75%",animationName:n?"slideDown":"slideUp",animationDuration:"0.3s",display:o.showCommunication||o.showIncommingCall?"block":"none"}},c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"win-title"},"Messaging"),c.a.createElement("div",{className:"control-icons"},n?c.a.createElement(J.a,{icon:"expand-all",style:{cursor:"pointer"},onClick:this.toggleMinMax}):c.a.createElement(J.a,{icon:"minus",style:{cursor:"pointer"},onClick:this.toggleMinMax}),c.a.createElement(J.a,{icon:"maximize",style:{cursor:"pointer"},iconSize:14}),c.a.createElement(J.a,{icon:"small-cross",style:{cursor:"pointer"},onClick:this.cutWindow}))),c.a.createElement("div",{className:"content"},c.a.createElement(ze,{style:o.showIncommingCall||"list"!==o.communicationContainer?{display:"none"}:{display:"block"},change:this.switchScreen,database:s,account:l,webRtc:o,updateWebRtc:u}),c.a.createElement(st,{style:o.showIncommingCall||"history"!==o.communicationContainer?{display:"none"}:{display:"flex"},change:this.switchScreen,_callHandler:Ot(this.props,this.state),apis:r,webRtc:o,account:l,database:s,addDatabaseSchema:d}),c.a.createElement(jt,{style:o.showIncommingCall||"connecting"!==o.communicationContainer?{display:"none"}:{display:"block"},change:this.switchScreen,webRtc:o,account:l,apis:r,updateWebRtc:u,closeHandler:Ct(this.props,this.state),_callHandler:Ot(this.props,this.state)}),c.a.createElement(xt,{style:o.showIncommingCall?{display:"flex"}:{display:"none"},change:this.switchScreen,webRtc:o,answerHandler:(e=this.props,t=this.state,function(){var a=Object(H.a)(T.a.mark(function a(n,r){var c,i,o,s,l,u,d,m,p,f,b,h,v,g;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("answer handler called",r),a.prev=1,c=D.getState(),i=c.webRtc,o=e.account,s=e.updateWebRtc,l=i.currentOffer.boardId,s("liveIncomingCall",!1),a.next=8,wt(l,e,t);case 8:return i=D.getState().webRtc,s("outGoingCallType",r),s("showIncommingCall",!1),s("showCommunication",l),s("communicationContainer","connecting"),s("showOutgoingCall",!0),u=i.pendingOffers,d=Object.values(i.peerConnections),m=d.filter(function(e){return u.find(function(t){return t.uid===e.user.id})}),p=m.map(function(e){return e.pc.createAnswer(u.find(function(t){return t.uid===e.user.id}).offer,r)}),a.next=20,Promise.all(p);case 20:return f=a.sent,console.log("answer list",f),f.forEach(function(e,t){return n.createAnswer({answerDetail:{answer:e,uid:o.user.id,boardId:l},userList:[{userId:m[t].user.id}]})}),b=i.pendingOffers,h=Object.values(i.peerConnections),v=h.filter(function(e){return!b.find(function(t){return t.uid===e.user.id})}),g=v.map(function(e){return e.pc.createOffer(r)}),a.next=29,Promise.all(g);case 29:a.sent,a.next=35;break;case 32:a.prev=32,a.t0=a.catch(1),console.error("error in create answer",a.t0);case 35:case"end":return a.stop()}},a,null,[[1,32]])}));return function(e,t){return a.apply(this,arguments)}}()),apis:r,updateWebRtc:u,closeHandler:Ct(this.props,this.state)})))}}]),t}(c.a.Component),Nt=Object(p.b)(function(e){return e},Object(g.a)({},n))(It),St=a(154),Dt={left:"50%",top:"50%",position:"absolute"},Bt=function(){return c.a.createElement(St.ScaleLoader,{css:Dt,sizeUnit:"10px",size:1,color:"#36D7B7",loading:!0})},Rt=a(369),Pt=function(e){var t=e.data;if(!t.fieldtype)return null;switch(t.fieldtype){case"input":return c.a.createElement(Ae,e);case"button":return c.a.createElement(Oe,e);case"tagInput":return c.a.createElement(ke,e);case"select":return c.a.createElement(Ne,e);case"date":return c.a.createElement(Be,e);case"textarea":return c.a.createElement(Me,e);case"image":return c.a.createElement(Ue,e);default:return null}},Mt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,message:null,fields:{},data:[]},a.componentWillMount=function(){var e=a.props.data,t=e.filter(function(e){if("input"===e.fieldtype||"select"===e.fieldtype||"tagInput"===e.fieldtype||"textarea"===e.fieldtype||"date"===e.fieldtype)return e}).map(function(e){return"tagInput"===e.fieldtype?Object(v.a)({},e.id,e.val?e.val:[]):"date"===e.fieldtype?Object(v.a)({},e.id,e.val?e.val:new Date):"image"===e.fieldtype?Object(v.a)({},e.id,e.val?e.val:{}):Object(v.a)({},e.id,e.val?e.val:"")}).reduce(function(e,t){return e[Object.keys(t)[0]]=Object.values(t)[0],e},{});a.setState({fields:t,data:e})},a.onChange=function(e,t){var n=a.state.fields;a.setState({fields:Object(g.a)({},n,Object(v.a)({},e,t))})},a.onSubmit=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.props.callback,r=a.state,c=r.fields,i=r.data,o=!1,i.map(function(e){return e.required&&0===c[e.id].replace(/\s/g,"").length&&(o=!0,a.setState({error:"Fill the required field(*)"})),e}),!o){e.next=7;break}return e.abrupt("return");case 7:return a.setState({loading:!0}),e.next=10,n(c);case 10:200===(s=e.sent).response?a.setState({loading:!1,error:null,message:s.message}):a.setState({loading:!1,error:s.error});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.fields;return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement(Rt.a,{fill:!0},a.map(function(t,a){return c.a.createElement(Pt,{key:a,data:t,onChange:e.onChange,onSubmit:e.onSubmit,value:n[t.id],state:e.state})})))}}]),t}(c.a.Component),Tt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onClose,n=e.structure,r=e.callback;return c.a.createElement(be.a,{isOpen:t,onClose:a},c.a.createElement("div",{className:"popover-form"},c.a.createElement("div",{className:"top"},"Enter the Credentials"),c.a.createElement(Qe,{data:n,callback:r})))}}]),t}(c.a.Component),Ht=function(e,t){return c.a.createElement(K.a,null,c.a.createElement(q.a,{icon:"edit",text:"Edit",onClick:function(){return e("edit",t)}}),c.a.createElement(K.a.Divider,null),c.a.createElement(q.a,{icon:"delete",intent:"danger",text:"Delete",onClick:function(){return e("delete",t)}}))},Ut=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onMore,a=e.id;return c.a.createElement(Z.a,{content:Ht(t,a),position:"right",className:"more-button"},c.a.createElement(we.b,{icon:"more",minimal:!0}))}}]),t}(c.a.Component),Lt=function(e){var t=e.number,a=e.size,n=t;return t>9&&(n="9+"),c.a.createElement("span",{style:{position:"absolute",left:a,top:4,textAlign:"center",padding:"2px",borderRadius:"50%",backgroundColor:"#e92821",color:"white",fontSize:"10px",width:"15px",height:"15px"}},n)},Qt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={drawerOpen:!1},a.onDrawerToggle=function(){var e=a.state.drawerOpen;a.setState({drawerOpen:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.drawerOpen,t=this.props.apis;return c.a.createElement(X.a,{to:"#",onClick:this.onDrawerToggle},c.a.createElement("div",{className:"navbar-item"},c.a.createElement(J.a,{icon:"notifications",iconSize:J.a.SIZE_LARGE}),c.a.createElement(Lt,{number:12,size:20}),c.a.createElement(le.a,{isOpen:e,onClose:this.onDrawerToggle,size:le.a.SIZE_SMALL,title:"Notifications",transitionDuration:200,hasBackdrop:!1},c.a.createElement(fe,{apis:t}))))}}]),t}(c.a.Component),Yt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.showMessage=function(){(0,a.props.updateWebRtc)("showCommunication",1)},a.getUnread=function(){var e=a.props,t=e.database,n=e.account,r={},c={};Object.values(t.BoardMessage.byId).map(function(e){c[e.boardId]=c[e.boardId]?[].concat(Object(h.a)(c[e.boardId]),[e]):[e]}),Object.values(t.UserMessage.byId).map(function(e){e.tuserId===n.user.id?r[e.fuserId]=r[e.fuserId]?[].concat(Object(h.a)(r[e.fuserId]),[e]):[e]:r[e.tuserId]=r[e.tuserId]?[].concat(Object(h.a)(r[e.tuserId]),[e]):[e]}),console.log(t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.getUnread(),c.a.createElement(X.a,{to:"#",onClick:this.showMessage},c.a.createElement("div",{className:"navbar-item"},c.a.createElement(J.a,{icon:"chat",iconSize:J.a.SIZE_LARGE}),c.a.createElement(Lt,{number:2,size:25})))}}]),t}(c.a.Component),Gt=function(e){var t=e.account,a=e.apis;return c.a.createElement("div",{className:"pc-drop-menu"},c.a.createElement(X.a,{to:"/",className:"pc-drop-menu-link"},"Home"),t.sessionId&&c.a.createElement(X.a,{to:"/".concat(t.sessionId,"/profile"),className:"pc-drop-menu-link"},"Profile"),c.a.createElement(X.a,{to:"/archive",className:"pc-drop-menu-link"},"Archive"),c.a.createElement(X.a,{to:"#",className:"pc-drop-menu-link"},"Get Help"),c.a.createElement(X.a,{to:"/take-a-tour",className:"pc-drop-menu-link"},"Take a Tour"),t.sessionId?c.a.createElement(X.a,{to:"",onClick:Object(H.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.logout();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),className:"pc-drop-menu-link"},"Logout"):c.a.createElement(X.a,{to:"/login",className:"pc-drop-menu-link"},"Login"))},Wt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.smallScreenToggle,n=e.account,r=e.apis;return c.a.createElement(le.a,{className:"pc-dropdown-drawer",usePortal:!0,isOpen:t,onClose:a,size:"60%",position:"left",lazy:!0,title:"PROPER CLASS",transitionDuration:200},c.a.createElement(Gt,{account:n,apis:r}))}}]),t}(c.a.Component),Ft=a(60),zt=function(e,t){return c.a.createElement(K.a,null,c.a.createElement(q.a,{icon:"user",active:!0,intent:V.a.PRIMARY,text:"My Profile",onClick:e}),c.a.createElement(q.a,{icon:"log-out",intent:V.a.DANGER,text:"Logout",onClick:Object(H.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logout();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}))},Xt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={apis:{},redirectDashboard:!1,smallScreen:!1},a.screenResize=function(e){},a.onClickHandler=function(){a.setState({redirectDashboard:!0})},a.toggleSmallScreen=function(){var e=a.state.smallScreen;a.setState({smallScreen:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.scope("Mentee");case 2:t=e.sent,this.setState({apis:t}),window.addEventListener("resize",this.screenResize);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.account,a=e.database,n=e.navigate,r=e.className,i=e.updateWebRtc,o=this.state,s=o.apis,l=o.redirectDashboard,u=o.smallScreen;return c.a.createElement("div",{className:"navbar ".concat(r)},l&&c.a.createElement(z.a,{exact:!0,push:!0,to:"/".concat(t.sessionId,"/profile")}),c.a.createElement("div",{className:"navbar-left"},c.a.createElement(X.a,{to:"/",className:"properClass"===n.mainNav.name?"active":null},c.a.createElement("div",{className:"navbar-item"},c.a.createElement("span",null,"Proper Class"))),c.a.createElement(X.a,{to:"/archive",className:"archive"===n.mainNav.name?"active":null},c.a.createElement("div",{className:"navbar-item"},c.a.createElement("span",null,"Archive"))),c.a.createElement(X.a,{to:"#",className:"help"===n.mainNav?"active":null},c.a.createElement("div",{className:"navbar-item"},c.a.createElement("span",null,"Get Help"))),c.a.createElement(X.a,{to:"/take-a-tour",className:"tour"===n.mainNav.name?"active":null},c.a.createElement("div",{className:"navbar-item"},c.a.createElement("span",null,"Take a Tour")))),c.a.createElement("div",{className:"navbar-more-container"},c.a.createElement(J.a,{icon:"menu",className:"more-icon",onClick:this.toggleSmallScreen,iconSize:25,color:"#666"}),c.a.createElement(Wt,{smallScreenToggle:this.toggleSmallScreen,open:u,account:t,apis:s})),c.a.createElement("div",{className:"navbar-right"},t.sessionId&&c.a.createElement(Yt,{account:t,database:a,updateWebRtc:i}),t.sessionId&&c.a.createElement(Qt,{apis:s}),t.sessionId?c.a.createElement(X.a,{to:"#",className:"profileIcon"===n.mainNav.name?"active":null},c.a.createElement(Z.a,{content:zt(this.onClickHandler,s),minimal:!0,position:_.a.BOTTOM},c.a.createElement("div",{className:"navbar-item"},c.a.createElement("img",{src:Ft,className:"profile-icon",alt:"profile or blank profile"})))):c.a.createElement(X.a,{to:"/login",className:"login"===n.mainNav.name?"active":null},c.a.createElement("div",{className:"navbar-item"},c.a.createElement("span",null,"Login")))))}}]),t}(r.Component);Xt.defaultProps={className:""};var Kt=Object(p.b)(function(e){return e},Object(g.a)({},n))(Xt),qt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"pc-logo"},c.a.createElement("span",null,"Proper Class")),c.a.createElement("div",{className:"left-right-container"},c.a.createElement("div",{className:"footer-left"},c.a.createElement("div",{className:"foot-left-one"},c.a.createElement("div",{className:"one-content"},c.a.createElement("div",null,c.a.createElement("span",null,"About Us")),c.a.createElement("div",null,c.a.createElement("span",null,"Careers")),c.a.createElement("div",null,c.a.createElement("span",null,"Help")),c.a.createElement("div",null,c.a.createElement("span",null,"Support")))),c.a.createElement("div",{className:"foot-left-one"},c.a.createElement("div",{className:"one-content"},c.a.createElement("div",null,c.a.createElement("span",null,"Advertising")),c.a.createElement("div",null,c.a.createElement("span",null,"Software solution")),c.a.createElement("div",null,c.a.createElement("span",null,"Partnership")),c.a.createElement("div",null,c.a.createElement("span",null,"Mobile"))))),c.a.createElement("div",{className:"footer-right"},c.a.createElement("div",{className:"right-content"},c.a.createElement("div",null,c.a.createElement("span",null,"Privacy")),c.a.createElement("div",null,c.a.createElement("span",null,"Terms and conditions")),c.a.createElement("div",null,c.a.createElement("span",null,"Safety center"))))))}}]),t}(c.a.Component),Vt=function(e){var t=e.sendMessage,a=e.connectMentor;switch(e.type){case"connected":return c.a.createElement("div",{className:"con-option"},c.a.createElement(we.b,{text:"Connected",large:!0,fill:!0,intent:"primary"}),c.a.createElement(we.b,{text:"Message",large:!0,fill:!0,onClick:t}));case"pending":return c.a.createElement(we.b,{text:"Pending",large:!0,fill:!0,icon:"blocked-person"});case"incoming":return c.a.createElement(we.b,{text:"Accept",large:!0,fill:!0,onClick:function(){return a("accept")},intent:"success",icon:"following"});default:return c.a.createElement(we.b,{onClick:function(){return a("request")},text:"Connect",large:!0,fill:!0,intent:"primary",icon:"new-person"})}},Jt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={type:""},a.sendMessage=Object(H.a)(T.a.mark(function e(){var t,n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props,n=t.updateWebRtc,r=t.details,n("showCommunication",r.id),n("peerType","user"),n("communicationContainer","history");case 4:case"end":return e.stop()}},e)})),a.connectMentor=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l,u;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,r=n.apis,c=n.account,i=n.details,o=n.database,s=c.user.id,l=i.id,u=null,o.UserConnection.allIds.map(function(e){var t=o.UserConnection.byId[e];s!==t.userId&&s!==t.mId||l!==t.userId&&l!==t.mId||(u=t)}),e.t0=t,e.next="request"===e.t0?8:"accept"===e.t0?17:21;break;case 8:if(!u){e.next=13;break}return e.next=11,r.updateUserConnection([{userId:c.user.id,mId:i.id,status:"pending"},{id:u.id}]);case 11:e.next=15;break;case 13:return e.next=15,r.connectUser({userId:c.user.id,mId:i.id,timeStamp:Date.now(),status:"pending"});case 15:return a.setState({type:"pending"}),e.abrupt("break",21);case 17:return e.next=19,r.updateUserConnection([{status:"connected"},{id:u.id}]);case 19:return a.setState({type:"connected"}),e.abrupt("break",21);case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.checkConnection=function(e){var t=e.database,n=e.details,r=e.account.user.id,c=n.id,i="";t.UserConnection.allIds.map(function(e){var a=t.UserConnection.byId[e];if((r===a.userId||r===a.mId)&&(c===a.userId||c===a.mId)){if("connected"===a.status)return void(i="connected");i=r===a.userId?"pending":"incoming"}}),a.setState({type:i})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkConnection(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkConnection(e)}},{key:"render",value:function(){var e=this.props.moreDetails,t=this.state.type;return c.a.createElement("div",{className:"con"},Vt({sendMessage:this.sendMessage,connectMentor:this.connectMentor,type:t}),e&&"mentor"===e.type&&c.a.createElement(we.b,{text:"Follow",fill:!0,large:!0}))}}]),t}(c.a.Component),Zt=a(99),_t=a(132),$t=a(133),ea=function(e){function t(e){var a;return Object(s.a)(this,t),(0,(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).props.updateNav)({schema:"mainNav",data:{name:""}}),a.state={apis:{},loading:!0,data:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a,n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.match,n=t.account,r={},e.prev=2,!n.user){e.next=7;break}return e.next=6,se.scope("Mentee");case 6:r=e.sent;case 7:return e.next=9,L.a.get("".concat(ne,"/web/get-user?userId=").concat(a.params.userId));case 9:c=e.sent,console.log("profile detail",c),this.setState({data:c.data,apis:r,loading:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Error",e.t0);case 17:case"end":return e.stop()}},e,this,[[2,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.account,a=e.database,n=e.updateWebRtc,r=this.state,i=r.loading,o=r.data;if(console.log("accout data",t),i)return c.a.createElement(Bt,null);var s=o.userDetail,l=o.user,u=this.state.apis;return c.a.createElement("div",null,c.a.createElement(Kt,null),c.a.createElement("div",{className:"public-profile"},c.a.createElement("div",{className:"cover-pic"}),c.a.createElement("div",{className:"profilePic"},c.a.createElement("img",{src:Zt,alt:"profile of the user"})),c.a.createElement("div",{className:"top-details"},c.a.createElement("div",{className:"desc"},c.a.createElement("span",{className:"name"},l.middleName?"".concat(l.firstName," ").concat(l.middleName," ").concat(l.lastName):"".concat(l.firstName," ").concat(l.lastName)),c.a.createElement("br",null),c.a.createElement("span",{className:"designation"},"Software Engineer at Somewhere"),c.a.createElement("br",null),c.a.createElement(J.a,{icon:"locate"}),c.a.createElement("span",{className:"country"}," Nepal")),t.user&&c.a.createElement("div",{className:"connect-btns"},t.user.id!==l.id&&("mentee"!==t.user.userDetails.type||"mentee"!==s.type)&&c.a.createElement(Jt,{apis:u,updateWebRtc:n,database:a,details:l,moreDetails:s,account:t}))),c.a.createElement("div",{className:"bio"},c.a.createElement("p",null,'" Win or Learn "')),c.a.createElement("div",{className:"education"},c.a.createElement("p",{className:"p-top"},c.a.createElement("span",null,"Education")),c.a.createElement("div",{className:"p-edu-list"},c.a.createElement("div",{className:"p-edu-list-i"},c.a.createElement("img",{src:_t,alt:"school icon"}),c.a.createElement("p",null,c.a.createElement("span",{className:"p-name-i"},"High School Study"),c.a.createElement("br",null),c.a.createElement("span",null,"Place Kathmandu"),c.a.createElement("br",null),c.a.createElement("span",{className:"p-timeline"},"2012-2018"))))),c.a.createElement("div",{className:"experience"},c.a.createElement("p",{className:"p-top"},c.a.createElement("span",null,"Experience")),c.a.createElement("div",{className:"p-exp-list"},c.a.createElement("div",{className:"p-exp-list-i"},c.a.createElement("img",{src:$t,alt:"school icon"}),c.a.createElement("p",null,c.a.createElement("span",{className:"p-title-i"},"Software Engineer"),c.a.createElement("br",null),c.a.createElement("span",{className:"p-company-i"},"Proper Class"),c.a.createElement("br",null),c.a.createElement("span",{className:"p-timeline"},"2012-2018"),c.a.createElement("br",null),c.a.createElement("span",null,"Place Kathmandu"))))),c.a.createElement("div",{className:"skills"},c.a.createElement("p",{className:"p-top"},c.a.createElement("span",null,"Skills")),c.a.createElement("div",{className:"skills-container"},c.a.createElement("span",null,"Python"),c.a.createElement("span",null,"Javascript"),c.a.createElement("span",null,"React"),c.a.createElement("span",null,"Node")))),c.a.createElement(qt,null))}}]),t}(c.a.Component),ta=Object(p.b)(function(e){return e},Object(g.a)({},n))(ea),aa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",gotKey:!1},a.searchChange=function(e){a.setState({search:e.target.value})},a.submitSearch=function(e){e.preventDefault(),0!==a.state.search.replace(/\s/g,"").length&&a.setState({gotKey:!0})},a.findMentor=function(){a.setState({search:"no-key",gotKey:!0})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.search,a=e.gotKey,n=this.props.account;return c.a.createElement("div",{className:"search-box-container"},a&&c.a.createElement(z.a,{push:!0,to:"/search/key=".concat(t)}),c.a.createElement("div",{className:"search-form"},c.a.createElement("input",{value:t,onChange:this.searchChange,placeholder:"Keyword ..."}),c.a.createElement("button",{type:"submit",onClick:this.submitSearch},"Search")),c.a.createElement("div",{className:"pc-jumbo"},c.a.createElement("span",{className:"pc-jumbo-text"},"Start Connecting"),n.user?c.a.createElement("button",{type:"button",onClick:this.findMentor},"Find Mentor"):c.a.createElement(X.a,{to:"/login"},c.a.createElement("button",{type:"button"},"Login"))))}}]),t}(c.a.Component),na=Object(p.b)(function(e){return e})(aa),ra=[{id:"location",fieldtype:"select",options:[{label:"Nepal",value:"Nepal"}]},{id:"title",fieldtype:"input",placeholder:"Ex, CEO, Professor"},{id:"industry",fieldtype:"select",options:[{label:"Engineering",value:"engineering"}]},{id:"apply",text:"Apply",fieldtype:"button",type:"submit"}],ca=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.apply=function(e){console.log(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"filter-toolbar"},c.a.createElement("div",{className:"left set"},c.a.createElement("span",{className:"filter-label"},"Filters")),c.a.createElement("div",{className:"center set"},c.a.createElement(Mt,{data:ra,callback:this.apply})),c.a.createElement("div",{className:"right set"}))}}]),t}(c.a.Component),ia=a(60),oa=function(e){var t=e.item.user,a=t.middleName?"".concat(t.firstName," ").concat(t.middleName," ").concat(t.lastName):"".concat(t.firstName," ").concat(t.lastName);return c.a.createElement("div",{className:"i-result"},c.a.createElement("div",{className:"img-con"},c.a.createElement("img",{alt:"profile thumnail",src:ia})),c.a.createElement("div",{className:"desc-con"},c.a.createElement("p",{className:"name"},c.a.createElement(X.a,{to:"/user/".concat(t.id,"/")},a)),c.a.createElement("p",null,"Software Engineer"),c.a.createElement("p",{className:"location"},"Nepal")))},sa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data;return c.a.createElement("div",{className:"result-list"},c.a.createElement("p",{className:"label"},"Showing ",e.length," results"),e.map(function(e,t){return c.a.createElement(oa,{key:t,item:e})}))}}]),t}(c.a.Component),la=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,data:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match,e.prev=1,"no-key"===t.params.searchKey){e.next=8;break}return e.next=5,L.a.get("".concat(ne,"/web/do-search?keyword=").concat(t.params.searchKey));case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,L.a.get("".concat(ne,"/web/get-mentor"));case 10:a=e.sent;case 11:this.setState({data:a.data.users,loading:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Error",e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.data;return t?c.a.createElement(Bt,null):c.a.createElement("div",null,c.a.createElement(Kt,null),c.a.createElement("div",{className:"search-result"},c.a.createElement(ca,null),c.a.createElement(sa,{data:a})),c.a.createElement(qt,null))}}]),t}(c.a.Component),ua=a(156),da=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},a.searchChange=function(e,t){a.setState(Object(v.a)({},e,t))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.data,t=[];e.map(function(e){t.push("".concat(ne,"/images/slider/").concat(e))}),this.setState({data:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props.data;if(t!==e.data){var a=[];t.map(function(e){a.push("".concat(ne,"/images/slider/").concat(e))}),this.setState({data:t})}}},{key:"render",value:function(){var e=this.state.data;return e?c.a.createElement("div",{className:"slider-container"},c.a.createElement(ua.Carousel,{interval:5e3,showIndicators:!1,showThumbs:!1,stopOnHover:!1,transitionTime:500,showStatus:!1,infiniteLoop:!0,autoPlay:!0},e.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{src:e,alt:"slide prospectus"}))})),c.a.createElement(na,null)):c.a.createElement("div",null)}}]),t}(r.Component),ma=a(288),pa=a(289),fa=a(290),ba=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"banner-container"},c.a.createElement("div",{className:"banner-head"},c.a.createElement("p",null,"How it works")),c.a.createElement("div",{className:"banners"},c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"banner-image"},c.a.createElement("img",{src:ma,alt:"banner here"})),c.a.createElement("div",{className:"banner-title"},c.a.createElement("p",null,"Connect")),c.a.createElement("div",{className:"banner-description"},c.a.createElement("ul",null,c.a.createElement("li",null,"Sign up as Mentor or Mentee"),c.a.createElement("li",null,"Find Mentors"),c.a.createElement("li",null,"Send Connection request")))),c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"banner-image"},c.a.createElement("img",{src:pa,alt:"banner here"})),c.a.createElement("div",{className:"banner-title"},c.a.createElement("p",null,"Manage")),c.a.createElement("div",{className:"banner-description"},c.a.createElement("ul",null,c.a.createElement("li",null,"Update your profile"),c.a.createElement("li",null,"Create classrooms"),c.a.createElement("li",null,"Create Content")))),c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"banner-image"},c.a.createElement("img",{src:fa,alt:"banner here"})),c.a.createElement("div",{className:"banner-title"},c.a.createElement("p",null,"Mentorship")),c.a.createElement("div",{className:"banner-description"},c.a.createElement("ul",null,c.a.createElement("li",null,"Manage your subject"),c.a.createElement("li",null,"Track your progress"),c.a.createElement("li",null,"Communicate"))))))}}]),t}(r.Component),ha=a(99),va=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={portrait:!1},a.checkPortrait=function(){var e=a.props.candidate,t=e.user,n=e.userDetail,r=n.image?"".concat(ne,"/user/").concat(1e7+parseInt(t.id,10),"/profile/").concat(n.image):ha,c=new Image;c.onload=function(){c.height>c.width&&a.setState({portrait:!0})},c.src=r},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkPortrait()}},{key:"render",value:function(){var e=this.props.candidate,t=e.user,a=e.userDetail,n=this.state.portrait,r=a.image?"".concat(ne,"/user/").concat(1e7+parseInt(t.id,10),"/profile/").concat(a.image):ha;return c.a.createElement("div",{className:"popular"},c.a.createElement("div",{className:"popularImage"},c.a.createElement("img",{className:n?"portrait":"landscape",src:r,alt:"candidate ".concat(a.id)})),c.a.createElement("div",{className:"popularDesc"},c.a.createElement("p",{className:"popularName"},"".concat(t.firstName," ").concat(t.middleName?"".concat(t.middleName," "):"").concat(t.lastName)),c.a.createElement("p",{className:"popularExpertize"},e.expertize)))}}]),t}(c.a.Component),ga=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data;return c.a.createElement("div",{className:"popularContainer"},c.a.createElement("div",{className:"popularHeader"},c.a.createElement("p",null,"Connect with the best Mentors in the Planet")),c.a.createElement("div",{className:"popularCover"},e.map(function(e,t){return c.a.createElement(va,{key:t,candidate:e})})))}}]),t}(r.Component),Ea=a(372),Aa=function(e){var t=e.post;return c.a.createElement(Ea.a,{className:"post-box"},c.a.createElement("div",{className:"post-header"},c.a.createElement("p",null,t.title)),c.a.createElement("div",{className:"desc-image"},c.a.createElement("div",{className:"post-desc"},c.a.createElement("p",null,t.description)),c.a.createElement("div",{className:"post-image"},c.a.createElement("img",{src:t.image,alt:t.id}))))},ya=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={posts:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.posts;return c.a.createElement("div",{className:"post-container"},c.a.createElement("div",{className:"posts"},e.map(function(e){return c.a.createElement(Aa,{key:e.id,post:e})})))}}]),t}(r.Component),wa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,this.props.updateNav)({schema:"mainNav",data:{name:"properClass"}}),e.prev=2,e.next=5,L.a.get("".concat(ne,"/web/get-index"));case 5:t=e.sent,this.setState({data:t.data,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Eror: ",e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data;return e.loading?c.a.createElement(Bt,null):c.a.createElement("div",null,c.a.createElement(Kt,null),c.a.createElement(da,{data:t.sliderImages}),c.a.createElement(ba,null),c.a.createElement(ya,null),c.a.createElement(ga,{data:t.indexUsers}),c.a.createElement(qt,null))}}]),t}(r.Component),Oa=Object(p.b)(function(e){return e},Object(g.a)({},n))(wa),Ca=[{id:"email",fieldtype:"input",name:"Email",required:!0,placeholder:"Eg, alex@gmail.com"},{id:"password",fieldtype:"input",hidden:!0,required:!0,name:"Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"}},{id:"submit",fieldtype:"button",type:"submit",text:"Submit",fill:"fill",intent:"primary",large:"large"}],ja=function(){var e=Object(H.a)(T.a.mark(function e(t){var a,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(ne,"/auth/login"),t);case 3:if(a=e.sent,n=a.data,console.log("loginResponse",n),200!==a.status||!n.token){e.next=9;break}return C("pc-session",(r=n).token),D.dispatch({type:"VERIFIED",payload:r.token}),se.reconnect(re()),e.abrupt("return",{response:200});case 9:if(201!==a.status){e.next=11;break}return e.abrupt("return",{error:a.data});case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message});case 16:case"end":return e.stop()}var r},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),ka=function(){var e=Object(H.a)(T.a.mark(function e(t){var a,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(ne,"/auth/forgot?email=").concat(t.email));case 3:if(a=e.sent,n=a.data,200!==a.status||!n.token){e.next=7;break}return e.abrupt("return",{response:200});case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),xa=function(){var e=Object(H.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(ne,"/auth/user-registration"),{firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,email:t.email,password:t.password});case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{response:200});case 6:if(201!==a.status){e.next=8;break}return e.abrupt("return",{error:a.data});case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("error in resgistration",e.t0.response.body),e.abrupt("return",{error:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),Ia=function(){var e=Object(H.a)(T.a.mark(function e(t){var a,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(ne,"/auth/change-password"),t);case 3:if(a=e.sent,n=a.data,200!==a.status||!n.token){e.next=7;break}return e.abrupt("return",{response:200});case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Na=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(Qe,{data:Ca,callback:ja})}}]),t}(r.Component),Sa=a(157),Da=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.responseGoogle=function(){var e=Object(H.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,ja({loginType:"google",record:t.profileObj});case 4:a=e.sent,console.log("google login response",a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(Sa.GoogleLogin,{clientId:"326098273643-s03gfvahj2tvlkb3fvr487o5nep2fp0f.apps.googleusercontent.com",buttonText:"Sign in with google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin",className:"google-default"})}}]),t}(c.a.Component),Ba=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.account;return console.log("login",e,this.props),c.a.createElement("div",{className:"o-log-or-reg"},c.a.createElement("div",{className:"log-or-reg"},c.a.createElement("div",{className:"reg-box-header"},c.a.createElement("p",null,"Login to Proper Class"),c.a.createElement(X.a,{to:"/register"},c.a.createElement("u",null,"or create an account"))),e.sessionId?c.a.createElement(z.a,{push:!0,to:"/".concat(e.sessionId,"/profile")}):c.a.createElement(Na,null),c.a.createElement("div",{className:"auth-with-others"},c.a.createElement(Da,null)),c.a.createElement("div",{className:"auth-footer"},c.a.createElement("p",null,c.a.createElement("br",null),c.a.createElement(X.a,{to:"/forgot-password"},c.a.createElement("u",null,"Forgot your password?"))))))}}]),t}(r.Component),Ra=Object(p.b)(function(e,t){return Object(g.a)({},e,t)})(Ba),Pa=a(373),Ma=a(359),Ta=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={dismiss:!1},a.onDismiss=function(){var e=a.props.onClose;a.setState({dismiss:!0}),e()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.dismiss,t=this.props,a=t.message,n=t.intent;return c.a.createElement(Pa.a,{position:_.a.TOP},!e&&c.a.createElement(Ma.a,{message:a,intent:n,onDismiss:this.onDismiss,timeout:5e5}))}}]),t}(c.a.Component),Ha=[{id:"firstName",fieldtype:"input",name:"First Name",placeholder:"",required:!0},{id:"middleName",fieldtype:"input",name:"Middle Name",placeholder:""},{id:"lastName",fieldtype:"input",name:"Last Name",placeholder:"",required:!0},{id:"email",fieldtype:"input",name:"Email",placeholder:"Eg, alex@gmail.com",required:!0},{id:"password",fieldtype:"input",hidden:!0,name:"Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"},required:!0},{id:"confirmPassword",fieldtype:"input",hidden:!0,name:"Confirm Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"},required:!0},{id:"submit",fieldtype:"button",type:"submit",text:"Submit",fill:"fill",intent:"primary",large:"large"}],Ua=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),La=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),Qa=function(e){return Ua.test(e)?"strong":La.test(e)?"medium":"weak"},Ya=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ga=function(e){return!!Ya.test(e)},Wa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleRegistration=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.notify,Ga(t.email)){e.next=3;break}return e.abrupt("return",{error:"Please enter a valid email"});case 3:if("weak"!==Qa(t.password)){e.next=5;break}return e.abrupt("return",{error:"Please enter a stronger password"});case 5:if(t.password===t.confirmPassword){e.next=7;break}return e.abrupt("return",{error:"Passwords don't match"});case 7:return e.next=9,xa(t);case 9:return 200===(r=e.sent).response&&n(),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(Qe,{data:Ha,callback:this.handleRegistration})}}]),t}(r.Component),Fa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={notify:!1},a.notify=function(){a.setState({notify:!0})},a.closeNotify=function(){a.setState({notify:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.notify;return c.a.createElement("div",{className:"o-log-or-reg"},e&&c.a.createElement(Ta,{onClose:this.closeNotify,message:"Please verify your email",intent:"success"}),c.a.createElement("div",{className:"log-or-reg"},c.a.createElement("div",{className:"reg-box-header"},c.a.createElement("p",null," Create a Proper Class Account "),c.a.createElement(X.a,{to:"/login"},c.a.createElement("u",null,"or login to your account"))),c.a.createElement(Wa,{notify:this.notify})))}}]),t}(r.Component),za=a(66),Xa=function(e){var t=e.iconName,a=e.name,n=e.active,r=e.match,i=e.url;return c.a.createElement(X.a,{to:"".concat(r.url,"/").concat(i),className:n?"sideNavElement active":"sideNavElement"},c.a.createElement(J.a,{icon:za.a[t],iconSize:"15",color:"rgba(78, 185, 255, 1)",style:{verticalAlign:"baseline"}}),c.a.createElement("span",null,"\xa0\xa0",a))};Xa.defaultProps={active:!1};var Ka=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.updateNav)({schema:"mainNav",data:{name:"profileIcon"}})}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.navigate;return c.a.createElement("div",{className:"sideNav"},[{iconName:"PERSON",name:"Profile",url:"profile"},{iconName:"PROJECTS",name:"Classes",url:"classes"},{iconName:"PARAGRAPH",name:"Blog",url:"blog"},{iconName:"COG",name:"Settings",url:"settings"},{iconName:"DRAW",name:"Drawing Board",url:"drawing-board"},{iconName:"CHAT",name:"Messages",url:"messages"},{iconName:"PEOPLE",name:"Connections",url:"connection"}].map(function(e){return c.a.createElement(Xa,{match:t,url:e.url,name:e.name,key:e.name,iconName:e.iconName,active:a.sideNav.name===e.name})}))}}]),t}(r.Component),qa=Object(p.b)(function(e){return{navigate:e.navigate}},Object(g.a)({},n))(Ka),Va=[{id:"name",fieldtype:"input",required:!0,name:"Name",placeholder:""},{id:"submit",fieldtype:"button",type:"submit",text:"Submit",fill:"fill",intent:"success",large:"large"}],Ja=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={createBool:!1,deleteClass:{id:0,name:"",deletePopOverBool:!1},updateClass:{id:0,updateClassBool:!1},api:{}},a.createNewBoard=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,r=a.props,c=r.account,i=r.addDatabaseSchema,o=a.state.api,n.userId=c.user.id,n.timeStamp=Date.now(),e.prev=5,e.next=8,o.addBoard(n);case 8:s=e.sent,i("Board",Object(g.a)({},n,{id:s})),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(5),console.log("Error: ",e.t0),e.abrupt("return",{response:404});case 16:return a.newClass(),e.abrupt("return",{response:200});case 18:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t){return e.apply(this,arguments)}}(),a.newClass=function(){var e=a.state.createBool;Va.map(function(e){"name"===e.id&&(e.val="")}),a.setState({createBool:!e})},a.onMore=function(){var e=Object(H.a)(T.a.mark(function e(t,n){var r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.state,c=r.deleteClass,i=r.updateClass,o=a.props.database,"delete"===t&&a.setState({deleteClass:{id:n,name:o.Board.byId[n].name,deletePopOverBool:!c.deletePopOverBool}}),"edit"===t&&(Va.map(function(e){"name"===e.id&&(e.val=o.Board.byId[n].name)}),a.setState({updateClass:{id:n,updateClassBool:!i.updateClassBool}}));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.deleteClass=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=n.deleteClass,c=n.api,i=a.props.deleteDatabaseSchema,"confirm"!==t){e.next=6;break}return e.next=5,c.deleteBoard({id:r.id});case 5:i("Board",{id:r.id});case 6:a.setState({deleteClass:{id:0,name:"",deletePopOverBool:!r.deletePopOverBool}});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateClass=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.updateClass,c=n.api,i=a.props.updateDatabaseSchema,e.next=4,c.updateBoard([t,{id:r.id}]);case 4:return i("Board",Object(g.a)({id:r.id},t)),a.setState({updateClass:{id:0,updateClassBool:!1}}),e.abrupt("return",{response:200});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.cancleUpdate=function(){var e=a.state.updateClass;a.setState({updateClass:{id:0,updateClassBool:!e.updateClassBool}})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.updateNav,e.next=3,se.scope("Mentee");case 3:a=e.sent,this.setState({api:a}),t({schema:"sideNav",data:{name:"Classes"}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.account,n=t.database,r=this.state,i=r.createBool,o=r.deleteClass,s=r.updateClass;return c.a.createElement("div",{className:"classes bro-right"},c.a.createElement(Ye,{isOpen:o.deletePopOverBool,action:this.deleteClass,name:o.name}),c.a.createElement("div",{className:"header"},c.a.createElement("div",null,c.a.createElement("span",{className:"title"},"Classrooms "),c.a.createElement("small",null,"Your class management"))),c.a.createElement("div",{className:"content-list"},n.Board.allIds.map(function(t,r){var i=n.Board.byId[t].name.length>30?n.Board.byId[t].name.substring(0,29):n.Board.byId[t].name;return c.a.createElement("div",{style:{position:"relative"},key:r},c.a.createElement(Ut,{onMore:e.onMore,id:t}),c.a.createElement(X.a,{to:"/class-work/".concat(a.sessionId,"/").concat(t),className:"content-link"},c.a.createElement("div",{className:"class-repr"},c.a.createElement("span",null,i)),c.a.createElement("div",{className:"class-detail"},c.a.createElement("span",{className:"name"},"Nabin Bhusal"),c.a.createElement("span",{className:"date"},new Date(n.Board.byId[t].timeStamp).toDateString()))))}),c.a.createElement("div",{className:"content-link add-new"},c.a.createElement(we.b,{intent:"primary",icon:"plus",onClick:this.newClass,text:"Add New"}))),c.a.createElement(Tt,{isOpen:i,onClose:this.newClass,callback:this.createNewBoard,structure:Va}),c.a.createElement(Tt,{isOpen:s.updateClassBool,onClose:this.cancleUpdate,callback:this.updateClass,structure:Va}))}}]),t}(r.Component),Za=Object(p.b)(function(e){return e},Object(g.a)({},n))(Ja),_a=[{id:"firstName",fieldtype:"input",name:"First Name",placeholder:"",required:!0},{id:"middleName",fieldtype:"input",name:"Middle Name",placeholder:""},{id:"lastName",fieldtype:"input",name:"Last Name",placeholder:"",required:!0},{id:"submit",fieldtype:"button",text:"Submit",type:"submit",fill:"fill",intent:"primary",large:"large"}],$a=[{id:"gender",fieldtype:"select",name:"Gender",required:!0,options:[{label:"---",value:""},{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Others",value:"others"}]},{id:"submit",fieldtype:"button",type:"submit",text:"Submit",fill:"fill",intent:"primary",large:"large"}],en=[{id:"interest",fieldtype:"tagInput",name:"Career Interests",placeholder:"Ex, publicspeaking",values:[]},{id:"submit",fieldtype:"button",text:"Submit",type:"submit",fill:"fill",intent:"primary",large:"large"}],tn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={namePopover:!1,genderPopover:!1,careerPopover:!1},a.editName=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.account,e.next=3,r.updateUser([Object(g.a)({},t),{id:c.user.id}]);case 3:return e.abrupt("return",{response:200,message:"Changed successfully"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.editGender=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.account,e.next=3,r.updateUserDetails(Object(g.a)({},t,{userId:c.user.id}));case 3:return e.abrupt("return",{response:200,message:"Changed successfully"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.editInterest=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.account,e.next=3,r.updateUserDetails([{field:t.interest},{id:c.user.id}]);case 3:return e.abrupt("return",{response:200,message:"Changed successfully"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.togglePopover=function(e){var t=a.state,n=t.namePopover,r=t.genderPopover,c=t.careerPopover,i=a.props,o=i.account,s=i.database;switch(e){case"name":_a.map(function(e){"firstName"===e.id&&(e.val=o.user.firstName),"lastName"===e.id&&(e.val=o.user.lastName),"middleName"===e.id&&(e.val=o.user.middleName)}),a.setState({namePopover:!n});break;case"gender":$a.map(function(e){if("gender"===e.id){var t="";Object.values(s.UserDetail.byId).map(function(e){e.userId===o.user.id&&(t=e.gender)}),e.val=t}}),a.setState({genderPopover:!r});break;case"career":a.setState({careerPopover:!c})}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.account,n=t.database,r=this.state,i=r.namePopover,o=r.genderPopover,s=r.careerPopover,l="---";return Object.values(n.UserDetail.byId).map(function(e){e.userId===a.user.id&&(l=e.gender)}),c.a.createElement("div",{className:"container-settings"},c.a.createElement(Tt,{isOpen:i,structure:_a,callback:this.editName,onClose:function(){return e.togglePopover("name")}}),c.a.createElement(Tt,{isOpen:o,structure:$a,callback:this.editGender,onClose:function(){return e.togglePopover("gender")}}),c.a.createElement(Tt,{isOpen:s,structure:en,callback:this.editInterest,onClose:function(){return e.togglePopover("career")}}),c.a.createElement("p",{className:"basic"},c.a.createElement("span",{className:"label"},"Full Name"),a.user&&c.a.createElement("span",{className:"value"},a.user.middleName?"".concat(a.user.firstName," ").concat(a.user.middleName," ").concat(a.user.lastName):"".concat(a.user.firstName," ").concat(a.user.lastName)),c.a.createElement(J.a,{icon:"edit",color:"rgba(167, 182, 194, 1)",className:"edit-icon",onClick:function(){return e.togglePopover("name")}})),c.a.createElement("p",{className:"basic"},c.a.createElement("span",{className:"label"},"Gender"),c.a.createElement("span",{className:"value"},l),c.a.createElement(J.a,{icon:"edit",color:"rgba(167, 182, 194, 1)",className:"edit-icon",onClick:function(){return e.togglePopover("gender")}})),c.a.createElement("div",{className:"basic"},c.a.createElement("span",{className:"label"},"Carrier Interests"),c.a.createElement(J.a,{icon:"edit",color:"rgba(167, 182, 194, 1)",className:"edit-icon",onClick:function(){return e.togglePopover("career")}}),c.a.createElement("ul",null,c.a.createElement("li",null,"Leadership"),c.a.createElement("li",null,"Enterpreneur"),c.a.createElement("li",null,"Engineering"))))}}]),t}(c.a.Component),an=Object(p.b)(function(e){return e})(tn),nn=a(374),rn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={mentor:!1},a.switchUser=Object(H.a)(T.a.mark(function e(){var t,n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.apis,r=t.account,c=a.state.mentor,e.prev=2,e.next=5,n.updateUserDetails({userId:r.user.id,type:c?"mentee":"mentor"});case 5:a.setState({mentor:!c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.account,n=t.database;Object.values(n.UserDetail.byId).map(function(t){a.user.id===t.userId&&"mentor"===t.type&&e.setState({mentor:!0})})}},{key:"render",value:function(){var e=this.state.mentor;return c.a.createElement("div",{className:"container-settings"},c.a.createElement("div",{className:"switch-adv-con"},c.a.createElement("p",null,"Change your profile to mentor",c.a.createElement("br",null),"and help people learn with your knowledge base.",c.a.createElement("br",null),"Be a part to educate the world."),c.a.createElement(nn.a,{onChange:this.switchUser,className:"switch-button",checked:e,large:!0,innerLabel:"Mentor"})))}}]),t}(c.a.Component),cn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeTab:"basic",apis:{}},a.handleClick=function(e){a.setState({activeTab:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.updateNav,e.next=3,se.scope("Mentee");case 3:a=e.sent,this.setState({apis:a}),t({schema:"sideNav",data:{name:"Settings"}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.activeTab,n=t.apis,r=this.props,i=r.database,o=r.account;return c.a.createElement("div",{className:"settings bro-right"},c.a.createElement("div",{className:"setting-types"},c.a.createElement("div",{onClick:function(){return e.handleClick("basic")},tabIndex:0,onKeyDown:function(){return e.handleClick("basic")},role:"menuitem",className:"basic"===a?"active":"i-setting"},"General"),c.a.createElement("div",{onClick:function(){return e.handleClick("advanced")},tabIndex:0,onKeyDown:function(){return e.handleClick("advanced")},role:"menuitem",className:"advanced"===a?"active":"i-setting"},"Advanced")),"basic"===a&&c.a.createElement(an,{apis:n,account:o,database:i}),"advanced"===a&&c.a.createElement(rn,{apis:n,database:i,account:o}))}}]),t}(r.Component),on=Object(p.b)(function(e){return e},Object(g.a)({},n))(cn),sn=a(76),ln=a.n(sn),un=a(88),dn=a.n(un),mn=function(e){return{borderRadius:"50%",background:e,height:15,width:15,borderWidth:1,display:"flex",alignItems:"center",justifyContent:"center",padding:2,margin:2}},pn=function(e){console.log("props in menu bar",e);var t=e.updateWebRtc,a=e.webRtc,n=e.database;return c.a.createElement("div",{className:"handle",style:{display:"flex",justifyContent:"space-between",width:"100%",background:"green"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:5}},c.a.createElement("span",{style:{color:"white"}},n.Board.byId[a.showCommunication].name)),c.a.createElement("div",{style:{height:"auto",background:"green",display:"flex",justifyContent:"flex-end",cursor:"pointer",width:"auto",alignItems:"center",padding:2}},c.a.createElement("div",{style:mn("rgba(78, 185, 255, 1)")},c.a.createElement(J.a,{icon:"minimize",style:{color:"white"},iconSize:10})),c.a.createElement("div",{style:mn("rgba(78, 185, 255, 1)")},c.a.createElement(J.a,{icon:"maximize",style:{color:"white"},iconSize:10})),c.a.createElement("div",{style:mn("red")},c.a.createElement(J.a,{icon:"cross",style:{color:"white"},onClick:function(){return t("showCommunication",null)}}))))},fn=function(e){var t=e.webRtc,a=e.database,n=Object.values(a.BoardMember.byId).filter(function(e){return e.boardId===t.showCommunication}).map(function(e){return a.User.byId[e.tuserId]});return c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.map(function(e){return t=e,c.a.createElement("div",{style:{display:"flex",margin:5}},c.a.createElement("div",{style:{borderRadius:"50%",background:"#f5f5f5",height:40,width:40,display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("span",{style:{fontWeight:"bold"}},"".concat(t.firstName[0]).concat(t.lastName[0]).toUpperCase()),t.activeStatus&&c.a.createElement("div",{style:{width:10,height:10,background:"#00FF6F",borderRadius:"50%",marginTop:10,marginLeft:18,textAlign:"end",position:"absolute"}})),c.a.createElement("div",{style:{marginTop:10,marginLeft:5}},c.a.createElement("span",null,"".concat(t.firstName," ").concat(t.lastName))));var t}))},bn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{style:{height:"100%",background:"#EFF3F8"}},c.a.createElement(fn,this.props))}}]),t}(c.a.Component),hn=a(68),vn=a(77),gn=a.n(vn),En=function(){var e=Object(H.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=null,e.prev=1,navigator.getWebcam=navigator.getUserMedia||navigator.webKitGetUserMedia||navigator.moxGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,e.t0=t,e.next="audio"===e.t0?6:"video"===e.t0?8:"screenshare"===e.t0?10:14;break;case 6:return a=navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}):navigator.getWebcam({audio:!0,video:!1}),e.abrupt("return",a);case 8:return a=navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):navigator.getWebcam({audio:!0,video:!0}),e.abrupt("return",a);case 10:return e.next=12,navigator.mediaDevices.getDisplayMedia({video:!0});case 12:return a=e.sent,e.abrupt("return",a);case 14:return e.abrupt("return",a);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),console.error("Media Selector error",e.t1);case 20:case"end":return e.stop()}},e,null,[[1,17]])}));return function(t){return e.apply(this,arguments)}}(),An=function(e,t){se.on("offer",function(){var a=Object(H.a)(T.a.mark(function a(n){var r,c,i,o,s,l,u,d,m,p,f,b;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("Offer arrived",n),r=e.updateWebRtc,c=D.getState(),i=c.webRtc,o=c.account,s=t.apis,!i.showCommunication){a.next=32;break}if(r("currentOffer",n),r("pendingOffers",[].concat(Object(h.a)(i.pendingOffers),[n])),!i.isLive){a.next=29;break}if(a.prev=8,l=n.uid,u=n.offer,d=n.boardId,m=i.peerConnections[n.uid],p=m.pc,f=m.iceCandidateStatus,b=null,"connected"!==f){a.next=18;break}return a.next=15,p.createAnswer(u,null);case 15:b=a.sent,a.next=21;break;case 18:return a.next=20,p.createAnswer(u,i.outGoingCallType);case 20:b=a.sent;case 21:s.createAnswer({answerDetail:{answer:b,uid:o.user.id,boardId:d},userList:[{userId:l}]}),a.next=27;break;case 24:a.prev=24,a.t0=a.catch(8),console.error("erro in answerHandler",a.t0);case 27:a.next=30;break;case 29:r("liveIncomingCall",!0);case 30:a.next=35;break;case 32:r("showIncommingCall",!0),r("currentOffer",n),r("pendingOffers",[].concat(Object(h.a)(i.pendingOffers),[n]));case 35:case"end":return a.stop()}},a,null,[[8,24]])}));return function(e){return a.apply(this,arguments)}}()),se.on("answer",function(){var a=Object(H.a)(T.a.mark(function a(n){var r,c,i,o,s,l,u,d,m;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("answer arrived",n),r=t.apis,c=e.updateWebRtc,i=D.getState(),o=i.webRtc,s=i.account,!o.isLive){a.next=13;break}if(l=n.uid,u=n.answer,n.boardId,d=o.peerConnections[l].pc,m=o.iceCandidates[l],!n){a.next=13;break}return d.setRemoteDescription(u),a.next=12,r.addIceCandidate({iceCandidateDetail:{iceCandidate:JSON.stringify(m.e.candidate),uid:s.user.id,boardId:o.currentOffer?o.currentOffer.boardId:o.showCommunication},userList:[{userId:l}]});case 12:c("iceCandidates",Object(g.a)({},o.iceCandidates,Object(v.a)({},l,Object(g.a)({},o.iceCandidates[l],{sendStatus:!0}))));case 13:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()),se.on("icecandidate",function(){var a=Object(H.a)(T.a.mark(function a(n){var r,c,i,o,s,l,u,d,m;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("icecandidate Arrived",n),r=t.apis,c=n.uid,i=n.iceCandidate,o=e.updateWebRtc,s=D.getState(),l=s.webRtc,u=s.account,d=l.peerConnections[c].pc,m=l.iceCandidates[c],!i){a.next=17;break}if(d.addCandidate(i),m){a.next=13;break}o("iceCandidates",Object(g.a)({},l.iceCandidates,Object(v.a)({},c,{preFetch:!0}))),a.next=17;break;case 13:if(m.sendStatus){a.next=17;break}return a.next=16,r.addIceCandidate({iceCandidateDetail:{iceCandidate:JSON.stringify(m.e.candidate),uid:u.user.id,boardId:l.currentOffer?l.currentOffer.boardId:l.showCommunication},userList:[{userId:c}]});case 16:o("iceCandidates",Object(g.a)({},l.iceCandidates,Object(v.a)({},c,Object(g.a)({},l.iceCandidates[c],{sendStatus:!0}))));case 17:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())},yn=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){var c,i,o,s,l,u;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("onIcecandidateHandler called",n),c=e.account,i=e.updateWebRtc,o=D.getState(),s=o.webRtc,l=t.apis,a.prev=4,!n.candidate){a.next=15;break}if(u=s.iceCandidates[r]){a.next=11;break}i("iceCandidates",Object(g.a)({},s.iceCandidates,Object(v.a)({},r,{e:n,sendStatus:!1,preFetch:!1}))),a.next=15;break;case 11:if(!u.preFetch){a.next=15;break}return i("iceCandidates",Object(g.a)({},s.iceCandidates,Object(v.a)({},r,{e:n,sendStatus:!0,preFetch:!1}))),a.next=15,l.addIceCandidate({iceCandidateDetail:{iceCandidate:JSON.stringify(n.candidate),uid:c.user.id,boardId:s.currentOffer?s.currentOffer.boardId:s.showCommunication},userList:[{userId:r}]});case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(4),console.error("Error in add local iCe candidate",a.t0);case 20:case"end":return a.stop()}},a,null,[[4,17]])}));return function(e,t){return a.apply(this,arguments)}}()},wn=function(e,t){return On.apply(this,arguments)};function On(){return(On=Object(H.a)(T.a.mark(function e(t,a){var n,r,i,o,s,l,u,d;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("video-".concat(t)).captureStream(),i=[],o=function(e){e.data&&e.data.size>0&&i.push(e.data)},s={mimeType:"video/webm;codecs=vp9"},MediaRecorder.isTypeSupported(s.mimeType)||(console.error("".concat(s.mimeType," is not Supported")),s={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(s.mimeType)||(console.error("".concat(s.mimeType," is not supported")),s={mimeType:"video/webm"},MediaRecorder.isTypeSupported(s.mimeType)||(console.error("".concat(s.mimeType," is not supported")),s={mimeType:""})));try{r=new MediaRecorder(n,s)}catch(m){console.error("Media recorder error",m)}return r.onstop=function(e){console.log("Recorder stopped",e)},r.onpause=function(e){console.log("Recoder Paused",e)},r.onresume=function(e){console.log("Recoder resumed",e)},r.ondataavailable=o,r.start(10),l=function(e){var t=a.updateWebRtc;console.log("downloadButton Click handler",e),t("recordedBlobs",D.getState().webRtc.recordedBlobs.filter(function(t){return Object.keys(t)[0]!==e}))},u=function(){var e=a.updateWebRtc,t=D.getState(),r=t.webRtc,o=t.database,s=new Blob(i,{type:"video/webm"}),u=window.URL.createObjectURL(s),d="".concat((new Date).getDate(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getFullYear());e("recordedBlobs",[].concat(Object(h.a)(D.getState().webRtc.recordedBlobs),[Object(v.a)({},n.id,c.a.createElement("a",{id:n.id,href:u,style:{margin:5},download:"".concat(o.Board.byId[r.showCommunication].name,"-").concat(d)},c.a.createElement(we.b,{onClick:function(){return l(n.id)},style:{background:"green",color:"white"},rightIcon:"download"},"".concat(o.Board.byId[r.showCommunication].name,"-").concat(d))))]))},d=function(){r.stop(),u()},e.abrupt("return",{stopRecording:d,mediaRecorder:r,stream:n});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Cn=function(){var e=Object(H.a)(T.a.mark(function e(t,a,n){var r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("stopAndRecordStream",n.id),r=D.getState(),c=r.webRtc,i=t.updateWebRtc,!c.mediaRecording||2!==a||n.id===c.mediaRecording.stream.id){e.next=11;break}return console.log("stopAndRecordStream inisde",c.mediaRecording.stream.id,n.id),c.mediaRecording.stopRecording(),e.next=8,wn(2,t);case 8:return o=e.sent,e.next=11,i("mediaRecording",o);case 11:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),jn=function(e){return function(){var t=Object(H.a)(T.a.mark(function t(a,n){var r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("remote stream handler",a,n),r=e.updateWebRtc,t.next=4,r("streams",Object(g.a)({},D.getState().webRtc.streams,Object(v.a)({},n,a)));case 4:return t.next=6,r("isLive",!0);case 6:return t.next=8,Cn(e,n,a);case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},kn=function(e){return function(t,a,n){var r=e.updateWebRtc,c=D.getState().webRtc;r("peerConnections",Object(g.a)({},c.peerConnections,Object(v.a)({},n,Object(g.a)({},c.peerConnections[n],{iceCandidateStatus:a.iceConnectionState}))))}},xn=function(e,t){return function(){var e=Object(H.a)(T.a.mark(function e(a,n){var r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("offer handler called",a,n),r=D.getState(),c=r.account,i=r.webRtc,t.apis.createOffer({offerDetail:{offer:a,uid:c.user.id,boardId:i.showCommunication},userList:[{userId:n}]});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},In=function(e){return function(t,a){console.log("local stream handler",t,a),(0,e.updateWebRtc)("streams",Object(g.a)({},D.getState().webRtc.streams,Object(v.a)({},a,t)))}},Nn=function(){var e=Object(H.a)(T.a.mark(function e(t,a,n){var r,c,i,o,s,l,u,d,m;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("create pc for each user",t,a),e.prev=1,r=a.database,c=a.updateWebRtc,i=a.account,o=Object.values(r.BoardMember.byId).filter(function(e){return e.boardId===t}),s=o.map(function(e){return r.User.byId[e.tuserId]}),l=s.filter(function(e){return e.id!==i.user.id}),u=l.map(function(e){return mt(yn(a,n),e.id,jn(a),kn(a),xn(0,n),In(a))}),e.next=9,Promise.all(u);case 9:return d=e.sent,m=l.reduce(function(e,t,a){return e[t.id]={pc:d[a],user:t},e},{}),c("peerConnections",m),e.abrupt("return",l);case 15:e.prev=15,e.t0=e.catch(1),console.error("Error in creating pc",e.t0);case 18:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t,a,n){return e.apply(this,arguments)}}(),Sn=function(e){return Object(H.a)(T.a.mark(function t(){var a,n,r,c;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.updateWebRtc,n=D.getState(),r=n.webRtc,c=Object.values(r.peerConnections),r.showCommunication?(r.mediaRecording&&(r.mediaRecording.stopRecording(),a("mediaRecording",null)),c.forEach(function(e){return e.pc.pc.close()}),a("communicationContainer","chat"),a("outGoingCallType",null),a("showOutgoingCall",!1),a("peerConnections",{}),a("pendingOffers",[]),a("remoteStream",{}),a("currentOffer",null),a("iceCandidates",{}),a("liveIncomingCall",!1),a("isLive",!1)):a("showIncommingCall",!1);case 4:case"end":return t.stop()}},t)}))},Dn=function(e,t){return function(){var a=Object(H.a)(T.a.mark(function a(n,r){var c,i,o,s,l,u,d,m,p,f,b,h,v,g;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("answer handler called",r),a.prev=1,c=D.getState(),i=c.webRtc,o=e.account,s=e.updateWebRtc,l=i.currentOffer.boardId,s("liveIncomingCall",!1),a.next=8,Nn(l,e,t);case 8:return i=D.getState().webRtc,s("outGoingCallType",r),s("showIncommingCall",!1),s("showCommunication",l),s("communicationContainer","connecting"),s("showOutgoingCall",!0),u=i.pendingOffers,d=Object.values(i.peerConnections),m=d.filter(function(e){return u.find(function(t){return t.uid===e.user.id})}),p=m.map(function(e){return e.pc.createAnswer(u.find(function(t){return t.uid===e.user.id}).offer,r)}),a.next=20,Promise.all(p);case 20:return f=a.sent,console.log("answer list",f),f.forEach(function(e,t){return n.createAnswer({answerDetail:{answer:e,uid:o.user.id,boardId:l},userList:[{userId:m[t].user.id}]})}),b=i.pendingOffers,h=Object.values(i.peerConnections),v=h.filter(function(e){return!b.find(function(t){return t.uid===e.user.id})}),g=v.map(function(e){return e.pc.createOffer(r)}),a.next=29,Promise.all(g);case 29:a.sent,a.next=35;break;case 32:a.prev=32,a.t0=a.catch(1),console.error("error in create answer",a.t0);case 35:case"end":return a.stop()}},a,null,[[1,32]])}));return function(e,t){return a.apply(this,arguments)}}()},Bn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={startRecording:!1},a.callHandler=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n._callHandler,c=n.answerHandler,i=n.incomming,o=n.apis,s=n.webRtc,e.next=3,En(t);case 3:l=e.sent,i||s.liveIncomingCall?c(o,l):r(o,l);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.recordingHandler=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.startRecording,n=a.props,r=n.updateWebRtc,c=n.webRtc,t){e.next=10;break}return e.next=5,wn(2,a.props);case 5:i=e.sent,r("mediaRecording",i),a.setState({startRecording:!0}),e.next=13;break;case 10:c.mediaRecording.stopRecording(),r("mediaRecording",null),a.setState({startRecording:!1});case 13:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.callType,n=t.incomming,r=t.webRtc,i=t.closeHandler,o=this.state.startRecording;return c.a.createElement("div",{style:{cursor:"pointer",display:"flex"}},c.a.createElement(gn.a,null),c.a.createElement(we.b,{"data-tip":"Audio Call",onClick:function(){return e.callHandler("audio")},text:"",style:{marginLeft:5},icon:"phone",intent:"audio"===a||"video"===a?V.a.DANGER:V.a.SUCCESS}),c.a.createElement(we.b,{"data-tip":"Video Call",onClick:function(){return e.callHandler("video")},text:"",style:{marginLeft:10,marginRight:5},icon:"mobile-video",intent:V.a.SUCCESS}),r.isLive&&c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(gn.a,null),c.a.createElement(we.b,{"data-tip":"Share Screen",onClick:function(){return e.callHandler("screenshare")},text:"",style:{marginLeft:10,marginRight:5},icon:"duplicate",intent:V.a.SUCCESS}),c.a.createElement(we.b,{"data-tip":"Recording",onClick:function(){return e.recordingHandler()},text:"",style:{marginLeft:10,marginRight:5},icon:"record",intent:o?V.a.DANGER:V.a.SUCCESS})),(n||r.liveIncomingCall||r.showOutgoingCall)&&c.a.createElement("div",null,c.a.createElement(gn.a,null),c.a.createElement(we.b,{"data-tip":"End Call",onClick:function(){return i()},text:"",style:{marginLeft:5},icon:"phone",intent:"danger"})))}}]),t}(c.a.Component),Rn=function(e){return 1===e.userId?c.a.createElement("div",{style:{display:"flex",marginRight:10,marginBottom:10,justifyContent:"flex-end",alignItems:"flex-end"}},c.a.createElement("div",{style:{marginLeft:5,display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"column"}},c.a.createElement(_e.a,{style:{fontSize:8,color:"#757575"},format:"YYYY-MM-DD hh:mm"},e.timeStamp),c.a.createElement("div",{style:{background:"#D6F4FE",padding:10,maxWidth:"80%",borderRadius:10,borderTopRightRadius:0}},c.a.createElement("span",null,e.text)))):c.a.createElement("div",{style:{display:"flex",marginLeft:10,marginBottom:10}},e.imageUrl?c.a.createElement("img",{src:"http://localhost:4001/images/userImage.jpeg",style:{height:50,width:50,borderRadius:"50%"}}):c.a.createElement(J.a,{icon:"person",iconSize:30,style:{borderRadius:"50%"}}),c.a.createElement("div",{style:{marginLeft:5}},c.a.createElement("span",{style:{fontSize:8,color:"#757575"}},"".concat(e.name,"  on ")),c.a.createElement(_e.a,{style:{fontSize:8,color:"#757575"},format:"YYYY-MM-DD hh:mm"},e.timeStamp),c.a.createElement("div",{style:{background:"#f1f5f9",padding:10,maxWidth:"80%",borderRadius:10,borderTopLeftRadius:0}},c.a.createElement("span",null,e.text))))},Pn=function(e,t){return console.log("pc in USerView",e),e.user?c.a.createElement("div",{key:t,style:{width:200,height:250,background:"black",justifyContent:"space-between",display:"flex",flexDirection:"column",border:"solid",borderWidth:2,borderColor:"green",borderRadius:5,margin:10}},c.a.createElement("div",{style:{width:"100%",height:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("video",{controls:!0,id:"video-".concat(e.user.id),playsInline:!0,autoPlay:!0,style:{height:"100%",width:"100%",background:"black"}})),c.a.createElement("div",null,c.a.createElement("div",{style:{background:"white",width:"100%",height:"auto",padding:5}},c.a.createElement("span",null,"".concat(e.user.firstName," ").concat(e.user.lastName))),c.a.createElement("div",{style:{background:"white",width:"100%",height:"auto",paddingBottom:5,paddingLeft:5}},c.a.createElement("span",null,e.iceCandidateStatus)))):null},Mn=function(e){var t=e.webRtc;return Object.values(t.peerConnections).map(function(e,t){return Pn(e,t)})},Tn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.account,a=e.webRtc;return console.log("remote Stream",a.remoteStream),c.a.createElement("div",{style:{width:"100%",height:.7*window.innerHeight}},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("div",{style:{background:"yellow",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Pn,t)),c.a.createElement("div",{style:{background:"red",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(Mn,this.props))))}}]),t}(c.a.Component),Hn=[{id:"email",fieldtype:"input",name:"Email",placeholder:"Example: nabin@properclass.com"},{id:"submit",fieldtype:"button",text:"Send Request",fill:"fill",intent:"success",large:"large"}],Un=function(e){var t=e.callback;return c.a.createElement("div",{style:{padding:"5px",minWidth:"300px"}},c.a.createElement(Qe,{data:Hn,callback:t}))},Ln=function(e){var t=e.webRtc,a=e.updateWebRtc,n=function(){var a=Object(H.a)(T.a.mark(function a(n){var r,c,i;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.apis,e.boardId,c=e.account,i=Object(g.a)({},n,{joinStatus:!0,userType:"normal",fuserId:c.user.id,boardId:t.showCommunication,timeStamp:Date.now()}),a.next=4,r.addBoardMember(i);case 4:return a.abrupt("return",{response:200,message:"Congratulations! You have added a new user"});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(be.a,{isOpen:t.addUser,title:"Add Board Member",onClose:function(){return a("addUser",!1)}},c.a.createElement(Un,{callback:n})))},Qn=Object(hn.css)({width:"100%",height:.7*window.innerHeight}),Yn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.communicationContainerHandler=function(){var e=a.props.webRtc;switch(e.communicationContainer){case"chat":return c.a.createElement(Ke.a,{className:Qn},e.messages.map(function(e){return Rn(e)}));case"connecting":return c.a.createElement(Tn,a.props);default:return c.a.createElement(Ke.a,{className:Qn},e.messages.map(function(e){return Rn(e)}))}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.updateWebRtc,a=e.webRtc;return c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"solid",borderWidth:1,borderColor:"#f5f5f5"}},c.a.createElement("div",{style:{width:"auto",marginTop:10,padding:2,borderTopRightRadius:10,borderBottomRightRadius:10,background:"green",display:"flex"}},c.a.createElement(we.b,{"data-tip":"Add Board Member",onClick:function(){return t("addUser",!0)},text:"",style:{marginLeft:5,marginRight:5},icon:"new-person",intent:"success"})),c.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"}},a.recordedBlobs.map(function(e){return Object.values(e)[0]})),c.a.createElement("div",{style:{width:"auto",marginTop:10,padding:2,borderTopLeftRadius:10,borderBottomLeftRadius:10,background:"green"}},c.a.createElement(Bn,this.props))),this.communicationContainerHandler(),c.a.createElement(Ln,this.props))}}]),t}(c.a.Component),Gn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){(0,a.props.fileOnchange)(e.target.files[0])},a.onClick=function(){a.fileInputRef.current.click()},a.changeStyle=function(e){e.target.style.cursor="pointer"},a.state={},a.fileInputRef=c.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.fileComponent;return c.a.createElement("div",{onClick:this.onClick,onKeyDown:this.onClick,role:"button",onMouseOver:this.changeStyle,onFocus:this.changeStyle,className:"image-upload-icon"},e,c.a.createElement("input",{ref:this.fileInputRef,type:"file",style:{display:"none"},onChange:this.onChange}))}}]),t}(c.a.Component),Wn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={message:""},a.handleKeyPress=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=12;break}return n=a.state.message,r=a.props,c=r.webRtc,i=r.apis,o=r.account,e.prev=3,e.next=6,i.addBoardMessage({boardId:c.showCommunication,message:n,userId:o.user.id,timeStamp:Date.now(),url:null,remarks:null,broadCastId:"Board-".concat(c.showCommunication)});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Error in sending message",e.t0);case 11:a.setState({message:""});case 12:case"end":return e.stop()}},e,null,[[3,8]])}));return function(t){return e.apply(this,arguments)}}(),a.fileOnchange=function(e){console.log("file onchange local called",e)},a.sendMessage=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.message,n=a.props,r=n.webRtc,c=n.account,i=n.apis,e.prev=2,e.next=5,i.addBoardMessage({boardId:r.showCommunication,message:t,userId:c.user.id,timeStamp:Date.now(),url:null,remarks:null,broadCastId:"Board-".concat(r.showCommunication)});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("Error in sending message",e.t0);case 10:a.setState({message:""});case 11:case"end":return e.stop()}},e,null,[[2,7]])})),a.chaneMessage=function(e){console.log("type messsage",e.target.value),a.setState({message:e.target.value})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.message;return console.log("props in sender",this.props),c.a.createElement("div",{style:{display:"flex",width:"100%",maxHeight:200,marginTop:5}},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(Re.a,{fill:!0,style:{resize:"None",maxHeight:200,minHeight:20,flex:.9},onChange:this.chaneMessage,value:e,onKeyPress:this.handleKeyPress})),e.length>0?c.a.createElement(we.b,{intent:"primary",fills:!0,style:{margin:5,width:"auto",maxWidth:140,flex:.1},rightIcon:c.a.createElement(J.a,{icon:"direction-right",iconSize:"23"}),onClick:this.sendMessage}):c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minWidth:50}},c.a.createElement("div",null,c.a.createElement(Gn,{fileOnchange:this.fileOnchange,fileComponent:c.a.createElement(J.a,{icon:"paperclip",iconSize:20,"data-tip":"Attachment",style:{curser:"pointer"}})}),c.a.createElement(gn.a,null))))}}]),t}(c.a.Component),Fn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.webRtc;return console.log("props in messanger",this.props),c.a.createElement("div",{style:{background:"white",display:"flex",justifyContent:"space-between",flex:1,flexDirection:"column",width:"100%"}},c.a.createElement("div",{style:{display:"flex",flex:.8}},c.a.createElement(Yn,this.props)),"chat"===e.communicationContainer&&c.a.createElement("div",{style:{display:"flex",background:"#f5f5f5",flex:.2,padding:5}},c.a.createElement(Wn,this.props)))}}]),t}(c.a.Component),zn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("props in content",this.props),c.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%"}},c.a.createElement("div",{style:{background:"white",width:"20%"}},c.a.createElement(bn,this.props)),c.a.createElement("div",{style:{width:"80%"}},c.a.createElement(Fn,this.props)))}}]),t}(c.a.Component),Xn=a(110),Kn=a.n(Xn),qn=function(e){return c.a.createElement("div",{className:"handle",style:{height:250,width:200,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"rgba(78, 185, 240, 1)"}},c.a.createElement(ln.a,{url:dn.a,playStatus:ln.a.status.PLAYING,playFromPosition:0,loop:!0}),c.a.createElement("img",{src:Kn.a,alt:"Board",style:{height:100,width:100,borderRadius:"50%",border:"solid",borderWidth:1,borderColor:"white"}}),c.a.createElement("span",{style:{color:"green",fontSize:20}},"call..."),c.a.createElement("div",null,c.a.createElement(Bn,Object.assign({},e,{incomming:!0}))))},Vn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={apis:null,callType:null,windowHeight:.85*window.innerHeight,windowWidth:.85*window.innerWidth},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.scope("Mentee");case 2:t=e.sent,this.setState({apis:t}),An(this.props,this.state);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.state,n=a.apis,r=a.callType,i=a.windowHeight,o=a.windowWidth,s=this.props,l=s.webRtc,u=s.updateWebRtc;return c.a.createElement("div",null,l.liveIncomingCall&&c.a.createElement(ln.a,{url:dn.a,playStatus:ln.a.status.PLAYING,playFromPosition:0,loop:!0}),c.a.createElement(be.a,{onClose:function(){return u("showCommuication",null)},isOpen:l.showCommunication||"connecting"===l.communicationContainer,style:{width:"auto",height:"auto",justifyContent:"center",alignItems:"center"}},c.a.createElement("div",{style:{height:i,width:o}},c.a.createElement("div",null,c.a.createElement(pn,this.props),c.a.createElement(zn,Object.assign({},this.props,{callType:r,apis:n,_callHandler:(e=this.props,t=this.state,function(){var a=Object(H.a)(T.a.mark(function a(n,r){var c,i,o,s,l;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("call handler called",r),c=D.getState(),i=c.webRtc,o=e.updateWebRtc,e.account,i.isLive){a.next=6;break}return a.next=6,Nn(i.showCommunication,e,t);case 6:return i=D.getState().webRtc,console.log("webRtc value after creating pc",i),o("communicationContainer","connecting"),o("showOutgoingCall",!0),s=Object.values(i.peerConnections),Object.keys(i.peerConnections),l=s.map(function(e){return e.pc.createOffer(r)}),a.next=15,Promise.all(l);case 15:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()),answerHandler:Dn(this.props,this.state),closeHandler:Sn(this.props,this.state)}))))),c.a.createElement(be.a,{isOpen:l.showIncommingCall,style:{zIndex:12,height:"auto",width:"auto",padding:0}},c.a.createElement("div",{style:{border:"solid",borderWidth:1,borderColor:"white",borderRadius:5}},c.a.createElement(qn,Object.assign({},this.props,{answerHandler:Dn(this.props,this.state),apis:n,closeHandler:Sn(this.props,this.state)})))))}}]),t}(c.a.Component),Jn=(Object(p.b)(function(e){return e},Object(g.a)({},n))(Vn),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,data:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,this.props.updateNav)({schema:"mainNav",data:{name:"archive"}}),e.prev=2,e.next=5,L.a.get("".concat(ne,"/web/get-index"));case 5:t=e.sent,console.log("res",t),this.setState({data:t.data.archive,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Eror: ",e.t0);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.data;return console.log("archive",a),t?c.a.createElement(Bt,null):c.a.createElement("div",null,c.a.createElement(Kt,null),c.a.createElement("div",{className:"archive"},c.a.createElement("div",{className:"ar-top"},c.a.createElement("span",null,"BASED ON YOUR READING HISTORY")),c.a.createElement("div",{className:"ar-content"},c.a.createElement("div",{className:"ar-left"},a.map(function(e,t){var a,n=e.blog.content.replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").substring(0,300);return e.userDetails.map(function(t){t.user.id===e.blog.userId&&(a=t)}),c.a.createElement("div",{className:"ar-left-i",key:t},c.a.createElement("div",{className:"ar-i-img"},c.a.createElement("img",{alt:"test here",height:"150px",src:"http://www.sarkarinaukrisearch.in/wp-content/uploads/2019/03/good-morning-pics-1.jpg"})),c.a.createElement("div",{className:"ar-i-detail"},c.a.createElement(X.a,{to:"/archive/".concat(e.blog.id,"/").concat(e.blog.userId),className:"ar-i-title"},e.blog.title),c.a.createElement("p",null,c.a.createElement("span",null,"Author-"),c.a.createElement(X.a,{to:"/user/".concat(a.user.id,"/")}," ".concat(a.user.firstName," ").concat(a.user.middleName?"".concat(a.user.middleName," "):"").concat(a.user.lastName)),c.a.createElement("br",null),c.a.createElement("small",{className:"pc-date"},new Date(e.blog.timeStamp).toDateString())),c.a.createElement("div",{className:"pc-blog-desc"},"".concat(n," ...")),c.a.createElement("div",{className:"ar-i-counts"},c.a.createElement("p",{className:"label"},c.a.createElement("span",{className:"count"},e.blogComment.length),"Comments"),c.a.createElement("p",{className:"label"},c.a.createElement("span",{className:"count"},e.blogLike.length),"Likes"))))})),c.a.createElement("div",{className:"ar-right"},c.a.createElement("p",{className:"ar-right-top"},"Popular on PC"),c.a.createElement("hr",null)))),c.a.createElement(qt,null))}}]),t}(c.a.Component)),Zn=Object(p.b)(function(e){return e},Object(g.a)({},n))(Jn),_n=[{id:"bio",fieldtype:"textarea",name:"Bio",placeholder:"Tell world about you...",required:!0},{id:"submit",fieldtype:"button",type:"submit",text:"Submit",fill:"fill",intent:"primary",large:"large"}],$n=[{id:"degree",fieldtype:"input",name:"Name of the degree",placeholder:"Ex, Bachelors in IT",required:!0},{id:"address",fieldtype:"input",name:"Address",required:!0,placeholder:"Address of your institute"},{id:"startTime",fieldtype:"date",name:"Start Date"},{id:"endTime",fieldtype:"date",name:"End Date"},{id:"submit",fieldtype:"button",text:"Submit",type:"submit",fill:"fill",intent:"primary",large:"large"}],er=[{id:"title",fieldtype:"input",name:"Title",required:!0,placeholder:"Ex, Software Developer"},{id:"company",fieldtype:"input",name:"Organization",required:!0,placeholder:"Ex, Tesla"},{id:"startTime",fieldtype:"date",name:"Start Date"},{id:"endTime",fieldtype:"date",name:"End Date"},{id:"summary",fieldtype:"textarea",name:"Summary",placeholder:"Write here about what your role was..."},{id:"submit",fieldtype:"button",text:"Submit",type:"submit",fill:"fill",intent:"primary",large:"large"}],tr=[{id:"title",fieldtype:"input",name:"Title",placeholder:"Your product name",required:!0},{id:"attachment",fieldtype:"image",name:"Attachment",text:"Choose a file..."},{id:"description",fieldtype:"textarea",name:"Description",placeholder:"Tell about your product"},{id:"link",fieldtype:"input",name:"Link",placeholder:"Write a link to your product"},{id:"submit",fieldtype:"button",text:"Submit",type:"submit",fill:"fill",intent:"primary",large:"large"}],ar=a(132),nr=function(e){var t=e.data;return c.a.createElement("div",{className:"p-edu-list-i"},c.a.createElement("img",{src:ar,alt:"school icon"}),c.a.createElement("p",null,c.a.createElement("span",{className:"p-name-i"},t.degree),c.a.createElement("br",null),c.a.createElement("span",null,t.address),c.a.createElement("br",null),c.a.createElement("span",{className:"p-timeline"},"".concat(t.startTime," - ").concat(t.endTime))),c.a.createElement("p",null,c.a.createElement(J.a,{icon:"edit"})))},rr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={educationEditPopover:!1},a.editEducation=function(e){console.log(e)},a.addEducation=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.account,e.next=3,r.addUserEducation(Object(g.a)({},t,{startTime:t.startTime.toLocaleString("en-IN").split(",")[0],endTime:t.endTime.toLocaleString("en-IN").split(",")[0],userId:c.user.id}));case 3:return e.abrupt("return",{response:200,message:"Done adding"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.togglePopover=function(){var e=a.state.educationEditPopover;a.setState({educationEditPopover:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.educationEditPopover,a=this.props,n=a.database,r=a.account,i=[];return Object.values(n.UserEducation.byId).map(function(e){r.user.id===e.userId&&i.push(e)}),c.a.createElement("div",{className:"education"},c.a.createElement(Tt,{isOpen:t,structure:$n,callback:this.addEducation,onClose:function(){return e.togglePopover()}}),c.a.createElement("p",{className:"p-top"},c.a.createElement("span",null,"Education"),c.a.createElement(J.a,{icon:"plus",onClick:this.togglePopover})),0!==i.length?c.a.createElement("div",{className:"p-edu-list"},i.map(function(e){return c.a.createElement(nr,{data:e,key:e.id})})):c.a.createElement("div",null,c.a.createElement("span",{style:{color:"#696969"}},"No School Added")))}}]),t}(c.a.Component),cr=a(133),ir=function(e){var t=e.data;return c.a.createElement("div",{className:"p-exp-list-i"},c.a.createElement("img",{src:cr,alt:"school icon"}),c.a.createElement("p",null,c.a.createElement("span",{className:"p-title-i"},t.title),c.a.createElement("br",null),c.a.createElement("span",{className:"p-company-i"},t.company),c.a.createElement("br",null),c.a.createElement("span",{className:"p-timeline"},"".concat(t.startTime," - ").concat(t.endTime)),c.a.createElement("br",null),c.a.createElement("span",null,t.summary)),c.a.createElement("p",null,c.a.createElement(J.a,{icon:"edit"})))},or=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.state={experienceEditPopover:!1},a.editExperience=function(e){console.log(e)},a.addExperience=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.account,e.next=3,r.addUserWorkExperience(Object(g.a)({},t,{startTime:t.startTime.toLocaleString("en-IN").split(",")[0],endTime:t.endTime.toLocaleString("en-IN").split(",")[0],userId:c.user.id}));case 3:return e.abrupt("return",{response:200,message:"Done adding"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.togglePopover=function(){var e=a.state.experienceEditPopover;a.setState({experienceEditPopover:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.experienceEditPopover,a=this.props,n=a.database,r=a.account,i=[];return Object.values(n.UserWorkExperience.byId).map(function(e){r.user.id===e.userId&&i.push(e)}),c.a.createElement("div",{className:"experience"},c.a.createElement(Tt,{isOpen:t,structure:er,callback:this.addExperience,onClose:function(){return e.togglePopover()}}),c.a.createElement("p",{className:"p-top"},c.a.createElement("span",null,"Experience"),c.a.createElement(J.a,{icon:"plus",onClick:this.togglePopover})),c.a.createElement("div",{className:"p-exp-list"},0!==i.length?c.a.createElement("div",{className:"p-edu-list"},i.map(function(e){return c.a.createElement(ir,{data:e,key:e.id})})):c.a.createElement("div",null,c.a.createElement("span",{style:{color:"#696969"}},"No Experience Added"))))}}]),t}(c.a.Component),sr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={portal:!1},a.addPortal=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.account,e.prev=1,(i=new FormData).append("data",JSON.stringify({token:c.sessionId,fileType:"image",content:"profile"})),i.append("image",t.attachment),e.next=7,L()({config:{headers:{"Content-Type":"multipart/form-data"}},method:"post",url:"".concat(ne,"/web/upload-file"),data:i});case 7:if(200!==(o=e.sent).status){e.next=12;break}return e.next=11,r.addUserPortal(Object(g.a)({},t,{attachment:o.data,userId:c.user.id}));case 11:return e.abrupt("return",{response:200,message:"Successfully added"});case 12:return e.abrupt("return",{response:400,error:o.data});case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",{response:400,error:"Something went wrong"});case 18:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t){return e.apply(this,arguments)}}(),a.togglePortal=function(){var e=a.state.portal;a.setState({portal:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.database,a=e.account;Object.values(t.UserDetail.byId).map(function(e){a.user.id===e.userId&&(_n[0].val=e.bio)})}},{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.onClose,n=e.callback,r=this.state.portal;return c.a.createElement(be.a,{isOpen:t,onClose:a},c.a.createElement("div",{className:"popover-form bio"},c.a.createElement("div",{className:"top"},r?"Fill Portal Details":"Fill Bio Details"),r?c.a.createElement("div",null,c.a.createElement(Qe,{data:tr,callback:this.addPortal})):c.a.createElement(Qe,{data:_n,callback:n})),c.a.createElement("div",{style:{width:"100%",padding:"0px 5px"}},r?c.a.createElement(we.b,{large:!0,text:"Cancle",fill:!0,onClick:this.togglePortal}):c.a.createElement(we.b,{large:!0,text:"Add your portals",fill:!0,onClick:this.togglePortal})))}}]),t}(c.a.Component),lr=function(e){var t=e.data,a=e.account;return c.a.createElement(Ea.a,{elevation:2,interactive:!0,style:{display:"flex",flexDirection:"row",padding:"2px",position:"relative"}},c.a.createElement("div",{style:{position:"absolute",top:0,right:0}},c.a.createElement(J.a,{icon:"cross",intent:"default"})),c.a.createElement("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"}},c.a.createElement("img",{alt:"portal identity",height:"50px",src:"".concat(ne,"/user/").concat(1e7+parseInt(a.user.id,10),"/profile/").concat(t.attachment)})),c.a.createElement("div",{style:{padding:"3px"}},c.a.createElement("span",null,c.a.createElement("strong",null,t.title)),c.a.createElement("br",null),c.a.createElement("span",null,t.description),c.a.createElement("br",null),c.a.createElement("span",null,t.link),c.a.createElement("br",null)))},ur=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={bioEditPopover:!1},a.editBio=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.account,e.next=3,r.updateUserDetails(Object(g.a)({userId:c.user.id},t));case 3:return i=e.sent,e.abrupt("return",{response:200,message:i});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.togglePopover=function(){var e=a.state.bioEditPopover;a.setState({bioEditPopover:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state.bioEditPopover,n=this.props,r=n.database,i=n.account,o=n.apis;Object.values(r.UserDetail.byId).map(function(t){i.user.id===t.userId&&(e=t.bio)});var s=[];return Object.values(r.UserPortal.byId).map(function(e){e.userId===i.user.id&&s.push(e)}),c.a.createElement("div",{className:"bio"},c.a.createElement("p",{className:"bio-content"},"About"),c.a.createElement("div",{className:"bio-info"},c.a.createElement("p",null,e?c.a.createElement("span",null,e):c.a.createElement("span",{style:{color:"#696969"}},"No bio added")),c.a.createElement("p",{className:"edit"},c.a.createElement(J.a,{icon:"edit",onClick:this.togglePopover}))),c.a.createElement("div",{style:{display:"flex",padding:"5px"}},s.map(function(e){return c.a.createElement(lr,{account:i,key:e.id,data:e})})),c.a.createElement(sr,{database:r,account:i,apis:o,isOpen:a,structure:_n,callback:this.editBio,onClose:function(){return t.togglePopover()}}))}}]),t}(c.a.Component),dr=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){(0,a.props.onChange)(e.target.files[0])},a.onClick=function(){a.fileInputRef.current.click()},a.changeStyle=function(e){e.target.style.cursor="pointer"},a.state={},a.fileInputRef=c.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{onClick:this.onClick,onKeyDown:this.onClick,role:"button",onMouseOver:this.changeStyle,onFocus:this.changeStyle,className:"image-upload-icon"},c.a.createElement(J.a,{icon:za.a.PLUS,intent:V.a.PRIMARY,iconSize:"30",color:"white"}),c.a.createElement("input",{ref:this.fileInputRef,type:"file",style:{display:"none"},onChange:this.onChange}))}}]),t}(c.a.Component),mr=function(e,t){return c.a.createElement(K.a,null,c.a.createElement(q.a,{text:"Upload New",onClick:function(){return e("upload")}}),c.a.createElement(K.a.Divider,null),c.a.createElement(q.a,{disabled:!t.coverImage,text:"Reposition",onClick:function(){return e("reposition")}}))},pr=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).mouseDown=function(e){a.state.drag&&a.setState({down:!0,initialX:e.clientX,initialY:e.clientY})},a.mouseMove=function(e){var t=a.state,n=t.initialX,r=t.down,c=t.initialY,i=t.left,o=t.top;r&&a.setState({left:i+(e.clientX-n),top:o+(e.clientY-c),initialX:e.clientX,initialY:e.clientY})},a.mouseUp=function(e){e.preventDefault();var t=a.state,n=t.initialX,r=t.down,c=t.initialY,i=t.left,o=t.top;r&&a.setState({down:!1,left:i+(e.clientX-n),top:o+(e.clientY-c)})},a.mouseOut=function(e){var t=a.state,n=t.initialX,r=t.down,c=t.initialY,i=t.left,o=t.top;r&&a.setState({down:!1,left:i+(e.clientX-n),top:o+(e.clientY-c)})},a.clickEditCover=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l,u,d;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=n.drag,c=n.top,i=n.left,o=a.props,s=o.apis,l=o.account,u=o.userDetail,d=o.updateDatabaseSchema,"reposition"!==t){e.next=9;break}if(!r){e.next=7;break}return e.next=6,s.updateUserDetails({userId:l.user.id,coverImageX:i,coverImagrY:c});case 6:d("UserDetail",{id:u.id,coverImageX:i,coverImagrY:c});case 7:return a.setState({drag:!r}),e.abrupt("return");case 9:a.fileInputRef.current.click();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.coverChange=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l,u;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.account,c=n.apis,i=n.userDetail,o=n.updateDatabaseSchema,s=n.addDatabaseSchema,(l=new FormData).append("data",JSON.stringify({token:r.sessionId,fileType:"image",content:"profile"})),l.append("image",t.target.files[0]),e.prev=4,e.next=7,L()({config:{headers:{"Content-Type":"multipart/form-data"}},method:"post",url:"".concat(ne,"/web/upload-file"),data:l});case 7:if(200!==(u=e.sent).status){e.next=12;break}return e.next=11,c.updateUserDetails({userId:r.user.id,coverImage:u.data,coverImageX:0,coverImagrY:0});case 11:i.id?o("UserDetail",{id:i.id,coverImage:u.data,coverImageX:0,coverImagrY:0}):s("UserDetail",{id:Date.now(),type:"mentee",coverImage:u.data,coverImageX:0,coverImagrY:0});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t){return e.apply(this,arguments)}}(),a.state={drag:!1,down:!1,initialX:0,initialY:0,left:0,top:0},a.fileInputRef=c.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.userDetail;this.setState({top:e.coverImagrY?Number(e.coverImagrY):0,left:e.coverImageX?Number(e.coverImageX):0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.userDetail,n=t.account,r=this.state,i=r.left,o=r.top,s=r.drag,l=a.coverImage?"".concat(ne,"/user/").concat(1e7+parseInt(n.user.id,10),"/profile/").concat(a.coverImage):"https://i.pinimg.com/originals/5e/80/a2/5e80a234fc2df7c84476283520dd6b18.jpg";return c.a.createElement("div",{className:"cover-pic",style:{boxShadow:s&&"-3px 3px 3px"}},c.a.createElement("img",{style:{position:"absolute",top:"".concat(o,"px"),left:"".concat(i,"px")},draggable:!1,onMouseMove:this.mouseMove,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp,onMouseOut:this.mouseOut,alt:"profile cover",src:l}),c.a.createElement("div",{className:"edit-cover"},s?c.a.createElement("div",{onClick:function(){return e.clickEditCover("reposition")}},c.a.createElement("span",{style:{padding:"3px",border:"1px solid white"}},"Save ")):c.a.createElement(Z.a,{content:mr(this.clickEditCover,a)},c.a.createElement("div",null,c.a.createElement("span",null,"Edit "),c.a.createElement(J.a,{icon:"edit",color:"white",className:"edit-icon"}),c.a.createElement("input",{ref:this.fileInputRef,type:"file",style:{display:"none"},onChange:this.coverChange})))))}}]),t}(c.a.Component),fr=a(99),br=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={portrait:!1},a.checkOrientation=function(){var e=a.props,t=e.userDetail,n=e.account,r=t.image?"".concat(ne,"/user/").concat(1e7+parseInt(n.user.id,10),"/profile/").concat(t.image):fr,c=new Image;c.onload=function(){c.height>c.width&&a.setState({portrait:!0})},c.src=r},a.uploadImage=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l,u;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.account,c=n.apis,i=n.userDetail,o=n.updateDatabaseSchema,s=n.addDatabaseSchema,(l=new FormData).append("data",JSON.stringify({token:r.sessionId,fileType:"image",content:"profile"})),l.append("image",t),e.prev=4,e.next=7,L()({config:{headers:{"Content-Type":"multipart/form-data"}},method:"post",url:"".concat(ne,"/web/upload-file"),data:l});case 7:if(200!==(u=e.sent).status){e.next=12;break}return e.next=11,c.updateUserDetails({userId:r.user.id,image:u.data});case 11:i.id?o("UserDetail",{id:i.id,image:u.data}):s("UserDetail",{id:Date.now(),type:"mentee",image:u.data});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkOrientation()}},{key:"componentDidUpdate",value:function(e){this.props.userDetail.image!==e.userDetail.image&&this.checkOrientation()}},{key:"render",value:function(){var e=this.props,t=e.userDetail,a=e.account,n=t.image?"".concat(ne,"/user/").concat(1e7+parseInt(a.user.id,10),"/profile/").concat(t.image):fr,r=this.state.portrait;return c.a.createElement("div",{className:"profilePic"},c.a.createElement("img",{className:r?"portrait":"landscape",src:n,alt:"profile of the user"}),c.a.createElement(dr,{onChange:this.uploadImage}))}}]),t}(c.a.Component),hr=function(e){var t=e.data,a=e.value,n=e.onChange,r=e.callback;return c.a.createElement("div",{style:{padding:"10px 10px 0 10px"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"center",fontSize:18,fontWeight:600,paddingBottom:10}},c.a.createElement("span",null,"Add Skills")),c.a.createElement(ke,{data:t,onChange:n,value:a}),c.a.createElement(we.b,{onClick:r,fill:!0,intent:"primary",large:!0,text:"Add Skills"}))},vr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={openPopover:!1,value:[]},a.setSkills=function(){var e=a.props,t=e.skills,n=e.account,r=[];Object.values(t.byId).map(function(e){e.userId===n.user.id&&(r=JSON.parse(e.skill))}),a.setState({value:r})},a.togglePopover=function(){var e=a.state.openPopover;a.setState({openPopover:!e})},a.onChageSkill=function(e,t){a.setState({value:t})},a.submitSkills=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.apis,r=t.account,c=t.skills,i=t.updateDatabaseSchema,o=t.addDatabaseSchema,s=a.state.value,Object.values(c.byId).map(function(e){e.userId===r.user.id&&(l=e)}),e.prev=3,l){e.next=10;break}return e.next=7,n.addUserSkill({userId:r.user.id,skill:JSON.stringify(s)});case 7:o("UserSkill",{id:Date.now(),userId:r.user.id,skill:JSON.stringify(s)}),e.next=13;break;case 10:return e.next=12,n.updateUserSkill([{userId:r.user.id,skill:JSON.stringify(s)},{id:l.id}]);case 12:i("UserSkill",{id:l.id,skill:JSON.stringify(s)});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log("Error- ",e.t0);case 18:a.togglePopover();case 19:case"end":return e.stop()}},e,null,[[3,15]])})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setSkills()}},{key:"componentDidUpdate",value:function(e){this.props.skills.allIds!==e.skills.allIds&&this.setSkills()}},{key:"render",value:function(){var e,t=this.state,a=t.openPopover,n=t.value,r=this.props,i=r.skills,o=r.account;Object.values(i.byId).map(function(t){t.userId===o.user.id&&(e=JSON.parse(t.skill))});return c.a.createElement("div",{className:"skills"},c.a.createElement(be.a,{onClose:this.togglePopover,isOpen:a},c.a.createElement(hr,{onChange:this.onChageSkill,value:n,data:{id:"skills",name:"Skills",placeholder:"Type and press enter"},callback:this.submitSkills})),c.a.createElement("p",{className:"p-top"},c.a.createElement("span",null,"Skills"),c.a.createElement(J.a,{icon:"plus",onClick:this.togglePopover})),e?c.a.createElement("div",{className:"skills-container"},e.map(function(e,t){return c.a.createElement("span",{key:t},e)})):c.a.createElement("div",{style:{color:"#696969"}},"No skills added"))}}]),t}(c.a.Component),gr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={apis:{}},a.togglePopovers=function(e){var t=a.state.skillsEditPopover;"skills"===e&&a.setState({skillsEditPopover:!t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.updateNav,e.next=3,se.scope("Mentee");case 3:a=e.sent,this.setState({apis:a}),t({schema:"sideNav",data:{name:"Profile"}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.account,a=e.database,n=e.deleteDatabaseSchema,r=e.updateDatabaseSchema,i=e.addDatabaseSchema,o=this.state.apis;if(!t.user)return c.a.createElement("div",null);var s=t.user,l={};return Object.values(a.UserDetail.byId).map(function(e){e.userId===s.id&&(l=e)}),c.a.createElement("div",{className:"profile bro-right"},c.a.createElement(pr,{account:t,userDetail:l,apis:o,updateDatabaseSchema:r,addDatabaseSchema:i}),c.a.createElement(br,{account:t,apis:o,userDetail:l,updateDatabaseSchema:r,addDatabaseSchema:i}),c.a.createElement("div",{className:"top-details"},c.a.createElement("span",{className:"name"},s.middleName?"".concat(s.firstName," ").concat(s.middleName," ").concat(s.lastName):"".concat(s.firstName," ").concat(s.lastName)),c.a.createElement("br",null),c.a.createElement("span",{className:"designation"},"Software Engineer at Somewhere"),c.a.createElement("br",null),c.a.createElement(J.a,{icon:"locate"}),c.a.createElement("span",{className:"country"}," Nepal")),c.a.createElement(ur,{account:t,apis:o,database:a,updateDatabaseSchema:r,addDatabaseSchema:i,deleteDatabaseSchema:n}),c.a.createElement(rr,{apis:o,database:a,account:t}),c.a.createElement(or,{apis:o,database:a,account:t}),c.a.createElement(vr,{account:t,apis:o,skills:a.UserSkill,updateDatabaseSchema:r,addDatabaseSchema:i}))}}]),t}(r.Component),Er=Object(p.b)(function(e){return e},Object(g.a)({},n))(gr),Ar=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).submitForm=function(e){},a.onClassChange=function(e){var t=a.props.database,n=[];Object.values(t.BoardColumnCard.byId).map(function(a){Object.values(t.BoardColumn.byId).map(function(t){t.boardId===parseInt(e.target.value,10)&&t.id===a.boardColumnId&&n.push(a)})}),a.setState({classVal:e.target.value,taskOptions:n.map(function(e){return{label:e.name.substring(0,50),value:e.id}}),taskVal:n[0]&&n[0].id})},a.onTaskChange=function(e){a.setState({taskVal:e.target.value})};var n=a.props.database,r=Object.values(n.Board.byId),c=[];return Object.values(n.BoardColumnCard.byId).map(function(e){Object.values(n.BoardColumn.byId).map(function(t){t.boardId===r[0].id&&t.id===e.boardColumnId&&c.push(e)})}),a.state={classVal:r[0].id,classeOptions:r.map(function(e){return{label:e.name.substring(0,50),value:e.id}}),taskOptions:c.map(function(e){return{label:e.name.substring(0,50),value:e.id}}),taskVal:c[0]&&c[0].id},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.classeOptions,a=e.taskOptions,n=e.taskVal,r=e.classVal;return c.a.createElement("div",{style:{padding:"10px"}},c.a.createElement("div",{style:{padding:"5px"}},c.a.createElement("span",{style:{fontSize:"18px",fontWeight:"bold"}},"Choose a Target Card")),c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement("div",{style:{padding:"10px"}},c.a.createElement("p",{style:{fontSize:"16px"}},"Class"),c.a.createElement(xe.a,{options:t,onChange:this.onClassChange,value:r})),c.a.createElement("div",{style:{padding:"10px",marginBottom:"10px"}},c.a.createElement("p",{style:{fontSize:"16px"}},"Task"),c.a.createElement(xe.a,{options:a,onChange:this.onTaskChange,value:n})),c.a.createElement(we.b,{text:"Submit",onClick:this.submitForm,intent:"primary",large:!0})))}}]),t}(c.a.Component),yr=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).uploadImage=function(){a.fileInputRef.current.click()},a.saveImage=function(){for(var e=a.props.canvas.toDataURL({format:"jpeg",quality:1}).split(","),t=e[0].match(/:(.*?);/)[1],n=window.atob(e[1]),r=n.length,c=new Uint8Array(r);r;)c[r-=1]=n.charCodeAt(r);new File([c],"canvas-shot.jpeg",{type:t})},a.state={},a.fileInputRef=c.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.draw,a=e.drawActive,n=e.clear,r=e.addText,i=e.anyObjectActive,o=e.onDelete,s=e.color,l=e.colorChange,u=e.fileUpload,d=e.database,m=e.account;return c.a.createElement("div",{className:"draw-tools"},c.a.createElement("div",{className:"tool-label"},c.a.createElement("span",null,"Tools")),c.a.createElement("div",{className:"tool-container"},c.a.createElement(we.b,{intent:"default",onClick:this.uploadImage,icon:"media",className:"i-tool"}),c.a.createElement("input",{ref:this.fileInputRef,type:"file",style:{display:"none"},onChange:u}),c.a.createElement(we.b,{intent:"default",onClick:r,icon:"new-text-box",className:"i-tool"}),c.a.createElement(we.b,{icon:"draw",onClick:t,className:"i-tool",intent:!0===a?"primary":"default"}),c.a.createElement(xe.a,{className:"i-tool",value:s,options:[{label:"Black",value:"black"},{label:"Red",value:"red"},{label:"Blue",value:"blue"}],onChange:l}),c.a.createElement(we.b,{className:"i-tool",text:"clear",onClick:n}),c.a.createElement(we.b,{disabled:!i,onClick:o,intent:"danger",icon:"trash",className:"i-tool"})),c.a.createElement("div",{className:"save-wrapper"},c.a.createElement(Z.a,{content:c.a.createElement(Ar,{account:m,database:d})},c.a.createElement(we.b,{text:"save",large:!0,onClick:this.saveImage,intent:"success"}))))}}]),t}(c.a.Component),wr=a(303),Or=a(311),Cr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={apis:{},canvas:{},anyObjectActive:!1,color:"black"},a.draw=function(){var e=a.state,t=e.canvas,n=e.draw;t.isDrawingMode=!n,a.setState({canvas:t,draw:!n})},a.colorChange=function(e){var t=a.state.canvas;t.freeDrawingBrush.color=e.target.value,a.setState({canvas:t,color:e.target.value})},a.clearCanvas=function(){var e=a.state.canvas;e.clear(),a.setState({canvas:e})},a.onCanvasClick=function(){var e=a.state,t=e.canvas;!e.anyObjectActive&&t.getActiveObject()?a.setState({anyObjectActive:!0}):t.getActiveObject()||a.setState({anyObjectActive:!1})},a.deleteObject=function(){var e=a.state.canvas;e.remove(e.getActiveObject()),e.requestRenderAll(),a.setState({canvas:e,anyObjectActive:!1})},a.addText=function(){var e=a.state,t=e.canvas,n=e.color,r=new wr.fabric.IText("Enter Text",{left:50,top:50,fontSize:18,cacheKey:"text",fill:n});t.add(r).setActiveObject(r),t.isDrawingMode=!1,a.setState({draw:!1,canvas:t,anyObjectActive:!0})},a.fileUpload=function(e){var t=a.state.canvas,n=e.target.files[0];e.target.value="";var r=new FileReader;r.onloadend=function(){var e=new Image;e.onload=function(){var n=1;n=e.height>e.width?t.height/2/e.height:t.width/2/e.width;var r=new wr.fabric.Image(e,{top:t.height/2,left:t.width/2,scaleX:n,scaleY:n,originX:"center",originY:"center",cacheKey:"image"});t.add(r),t.requestRenderAll(),a.setState({canvas:t})},e.src=r.result},n&&r.readAsDataURL(n)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.updateNav,e.next=3,se.scope("Mentee");case 3:a=e.sent,this.setState({apis:a}),t({schema:"sideNav",data:{name:"Drawing Board"}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=new wr.fabric.Canvas("mainCanvas",{preserveObjectStacking:!0,selection:!1,backgroundColor:"white"});t.freeDrawingBrush.width=2,t.on("mouse:down",function(){e.onCanvasClick()}),this.setState({canvas:t})}},{key:"render",value:function(){var e=this.state,t=e.draw,a=e.anyObjectActive,n=e.color,r=e.canvas,i=this.props,o=i.database,s=i.account;return c.a.createElement("div",{className:"drawing-board bro-right"},c.a.createElement("div",{className:"draw-title"},c.a.createElement("span",null,"White Board")),c.a.createElement(yr,{draw:this.draw,drawActive:t,colorChange:this.colorChange,clear:this.clearCanvas,anyObjectActive:a,onDelete:this.deleteObject,addText:this.addText,color:n,account:s,database:o,fileUpload:this.fileUpload,canvas:r}),c.a.createElement("div",{className:"draw-canvas"},c.a.createElement("canvas",{id:"mainCanvas",height:"500px",width:"1000px",style:{cursor:"url(".concat(Or,"), auto")}})))}}]),t}(r.Component),jr=Object(p.b)(function(e){return e},Object(g.a)({},n))(Cr),kr=a(60),xr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.database,n=a.User.byId[t];return Object.values(a.UserDetail.byId).map(function(e){t===e.userId&&e}),c.a.createElement("div",{className:"i-result"},c.a.createElement("div",{className:"img-con"},c.a.createElement("img",{alt:"profile thumnail",src:kr})),c.a.createElement("div",{className:"desc-con"},c.a.createElement("p",{className:"name"},c.a.createElement(X.a,{to:"/user/".concat(n.id,"/")},"".concat(n.firstName," ").concat(n.lastName))),c.a.createElement("p",null,"Software Engineer"),c.a.createElement("p",{className:"location"},"Nepal")))}}]),t}(c.a.Component),Ir=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.getConnections=function(){var e=a.props,t=e.database,n=e.account.user.id,r=[];return Object.values(t.UserConnection.byId).map(function(e){r.push(e.userId===n?e.mId:e.userId)}),r},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.updateNav)({schema:"sideNav",data:{name:"Connections"}});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.database;if(!e.account.user)return c.a.createElement("div",null);var a=this.getConnections();return c.a.createElement("div",{className:"connection bro-right"},c.a.createElement("div",{className:"header"},c.a.createElement("div",null,c.a.createElement("span",{className:"title"},"Connections "),c.a.createElement("small",null,"Mange your connections"))),c.a.createElement("div",{className:"con-list"},a.map(function(e){return c.a.createElement(xr,{key:e,id:e,database:t})})))}}]),t}(c.a.Component),Nr=Object(p.b)(function(e){return e},Object(g.a)({},n))(Ir),Sr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.updateNav)({schema:"sideNav",data:{name:"Messages"}});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"message bro-right"},"Hello Messages")}}]),t}(c.a.Component),Dr=Object(p.b)(function(e){return e},Object(g.a)({},n))(Sr),Br=a(375),Rr=function(e){var t=e.name,a=e.active,n=e.match,r=e.url;return c.a.createElement(X.a,{to:"".concat(n.url,"/").concat(r),className:a?"sideNavElement active":"sideNavElement"},c.a.createElement("span",null,"\xa0\xa0",t))};Rr.defaultProps={active:!1};var Pr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.toggleMenu=function(){var e=a.state.open;a.setState({open:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.open,t=this.props,a=t.navigate,n=t.match;return c.a.createElement("div",{className:"pc-small-screen-sidenav"},c.a.createElement("div",null,c.a.createElement(we.b,{onClick:this.toggleMenu,className:"nav-button",text:a.sideNav.name,fill:!0,large:!0,rightIcon:e?"chevron-up":"chevron-down",alignText:"left"})),c.a.createElement(Br.a,{isOpen:e,keepChildrenMounted:!0},c.a.createElement("div",{className:"pc-collapse-menu"},[{name:"Profile",url:"profile"},{name:"Classes",url:"classes"},{name:"Blog",url:"blog"},{name:"Settings",url:"settings"},{name:"Drawing Board",url:"drawing-board"},{name:"Messages",url:"messages"},{name:"Connections",url:"connection"}].map(function(e){return c.a.createElement(Rr,{match:n,url:e.url,name:e.name,key:e.name,iconName:e.iconName,active:a.sideNav.name===e.name})}))))}}]),t}(c.a.Component),Mr=Object(p.b)(function(e){return e})(Pr),Tr=function(){var e=Object(H.a)(T.a.mark(function e(t,a){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.title.replace(/\s/g,"").length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t(a);case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}(),Hr=function(){var e=Object(H.a)(T.a.mark(function e(t,a){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a[0].title.replace(/\s/g,"").length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t(a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t,a){return e.apply(this,arguments)}}(),Ur=function(e){var t=e.imgName,a=e.callback;return c.a.createElement("div",{style:{padding:"5px"}},c.a.createElement(Te.a,{text:t,onInputChange:a,large:!0}))},Lr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={bold:!1,italic:!1,underline:!1,publish:"draft",apis:{},title:"",description:"",blogId:"",imageSource:"Choose a picture..."},a.observeMutation=function(e){for(var t=[],n=0;n<e.length;n+=1)for(var r=e[n].removedNodes,c=0;c<r.length;c+=1)if("img"===r[c].localName){var i=r[c].src.split("/");t.push(i[i.length-1])}0!==t.length&&a.deleteFileHandler(t)},a.onChangeDesc=function(e){a.setState({description:e.target.innerHTML})},a.onChangeTitle=function(e){a.setState({title:e.target.value})},a.onEditorFocus=function(){var e,t=!1,n=!1,r=!1;if(window.getSelection){if(!(e=window.getSelection()).focusNode)return;var c=e.focusNode.parentElement;if(e.rangeCount)for(;"div"!==c.localName;){switch(c.localName){case"u":r=!0;break;case"b":t=!0;break;case"i":n=!0;break;default:return}c=c.parentElement}}a.setState({bold:t,italic:n,underline:r})},a.onClick=function(e,t){document.execCommand(e,!1,t),document.getElementById("editor").focus()},a.toggleButtons=function(e){var t=a.state,n=t.bold,r=t.italic,c=t.underline,i=t.h2;switch(e){case"bold":n=!n;break;case"italic":r=!r;break;case"underline":c=!c;break;case"h2":i=!i;break;default:return}a.setState({bold:n,italic:r,underline:c,h2:i})},a.contentChange=function(e){if((!0===e.ctrlKey||!0===e.metaKey)&&83===e.keyCode)return e.preventDefault(),void a.saveBlog();if(46===e.keyCode&&8===e.keyCode){var t=e.target.innerText;"\n"!==t&&""!==t||(e.target.innerHTML="")}},a.onkeyUp=function(e){a.contentChange(e),a.onEditorFocus()},a.createMarkup=function(e){return{__html:e}},a.saveBlog=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s,l,u,d,m;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.apis,r=t.title,c=t.description,i=t.blogId,o=t.publish,s=a.props,l=s.account,u=s.addDatabaseSchema,d=s.updateDatabaseSchema,""!==i){e.next=9;break}return e.next=5,Tr(n.addBlog,{userId:l.user.id,timeStamp:Date.now(),saveStatus:"draft",title:r,content:c});case 5:return m=e.sent,a.setState({blogId:m,publish:"draft"}),u("Blog",{id:Date.now(),userId:l.user.id,timeStamp:Date.now(),saveStatus:"draft",title:r,content:c}),e.abrupt("return");case 9:return e.next=11,Hr(n.updateBlog,[{title:r,content:c,saveStatus:o},{id:i}]);case 11:d("Blog",{id:i,saveStatus:"draft",title:r,content:c});case 12:case"end":return e.stop()}},e)})),a.publish=function(){var e=Object(H.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""!==a.state.blogId&&(a.setState({publish:t.target.checked?"publish":"draft"}),a.saveBlog());case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.uploadImg=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.account,a.setState({imageSource:t.target.files[0].name}),e.prev=2,(r=new FormData).append("data",JSON.stringify({token:n.sessionId,fileType:"image",content:"blog"})),r.append("image",t.target.files[0]),e.next=8,L()({config:{headers:{"Content-Type":"multipart/form-data"}},method:"post",url:"".concat(ne,"/web/upload-file"),data:r});case 8:200===(c=e.sent).status&&(document.getElementById("editor").focus(),document.execCommand("insertImage",!1,"".concat(ne,"/user/").concat(1e7+parseInt(n.user.id,10),"/blog/").concat(c.data)),a.saveBlog()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("update profile error",e.t0);case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),a.deleteFileHandler=function(){var e=Object(H.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.account,e.prev=1,e.next=4,L.a.post("".concat(ne,"/web/delete-file"),{token:n.sessionId,content:"blog",fileName:t});case 4:a.saveBlog(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.scope("Mentor");case 2:t=e.sent,this.setState({apis:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.database;t.params.blogId&&(document.getElementById("editor").innerHTML=a.Blog.byId[parseInt(t.params.blogId,10)].content,this.setState({blogId:t.params.blogId,publish:a.Blog.byId[t.params.blogId].saveStatus,title:a.Blog.byId[t.params.blogId].title,description:a.Blog.byId[parseInt(t.params.blogId,10)].content}));var n=document.getElementById("editor");new MutationObserver(this.observeMutation).observe(n,{attributes:!0,childList:!0,subtree:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.bold,n=t.italic,r=t.underline,i=t.title,o=t.imageSource,s=t.publish;return c.a.createElement("div",null,c.a.createElement(Kt,null),c.a.createElement("div",{className:"create-blog"},c.a.createElement("div",{className:"blog-top"},c.a.createElement("span",null,"Proper Blogging Experience")),c.a.createElement("div",{className:"toolbar"},c.a.createElement("div",{className:"left"},c.a.createElement(nn.a,{innerLabel:"Draft",innerLabelChecked:"Live",alignIndicator:"right",large:!0,label:"Status",checked:"publish"===s,className:"switch",onChange:this.publish})),c.a.createElement("div",{className:"center"},c.a.createElement(xe.a,{options:[{label:"Normal",value:"p"},{value:"h1",label:"Heading 1"},{value:"h2",label:"Heading 2"},{value:"h3",label:"Heading 3"},{label:"Code",value:"pre"}],onChange:function(t){return e.onClick("formatBlock",t.target.value)}}),c.a.createElement(we.b,{type:"button",icon:"bold",intent:a?V.a.PRIMARY:null,onClick:function(){return e.onClick("bold","")}}),c.a.createElement(we.b,{type:"button",icon:"italic",intent:n?V.a.PRIMARY:null,onClick:function(){return e.onClick("italic","")}}),c.a.createElement(we.b,{type:"button",icon:"underline",intent:r?V.a.PRIMARY:null,onClick:function(){return e.onClick("underline","")}}),c.a.createElement(we.b,{type:"button",icon:"align-left",onClick:function(){return e.onClick("justifyLeft","")}}),c.a.createElement(we.b,{type:"button",icon:"align-center",onClick:function(){return e.onClick("justifyCenter","")}}),c.a.createElement(we.b,{type:"button",icon:"align-right",onClick:function(){return e.onClick("justifyRight","")}}),c.a.createElement(Z.a,{content:c.a.createElement(Ur,{imgName:o,callback:this.uploadImg})},c.a.createElement(we.b,{type:"button",icon:"media"}))),c.a.createElement("div",{className:"right"},c.a.createElement(we.b,{type:"button",intent:"success",text:"save",onClick:this.saveBlog}))),c.a.createElement("div",{className:"title"},c.a.createElement(Re.a,{fill:!0,placeholder:"Header...*",maxLength:"150",rows:"1",onChange:this.onChangeTitle,value:i,intent:0===i.replace(/\s/g,"").length?"danger":"none",style:{resize:"none",overflowX:"hidden",overflowWrap:"break-word",maxHeight:"97px"}})),c.a.createElement("div",{className:"editor-container"},c.a.createElement("div",{id:"editor",role:"textbox",tabIndex:0,contentEditable:!0,datatext:"Start Writing ...",style:{content:"attr(placeholder)"},onKeyUp:this.onkeyUp,onKeyDown:this.contentChange,onFocus:this.onEditorFocus,onClick:this.onEditorFocus,onInput:this.onChangeDesc}))))}}]),t}(r.Component),Qr=Object(p.b)(function(e){return{account:e.account,database:e.database}},Object(g.a)({},n))(Lr),Yr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={createBlog:!1,editBlog:!1,deletePopOverIsOpen:!1,blogId:null,apis:{}},a.deleteBlog=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=n.apis,c=n.blogId,"confirm"!==t){e.next=6;break}return e.next=4,r.deleteBlog({id:c});case 4:return a.setState({deletePopOverIsOpen:!1,blogId:""}),e.abrupt("return");case 6:a.setState({deletePopOverIsOpen:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onMore=function(e,t){"delete"===e?a.setState({deletePopOverIsOpen:!0,blogId:t}):"edit"===e&&a.setState({editBlog:!0,blogId:t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.updateNav,e.next=3,se.scope("Mentor");case 3:a=e.sent,this.setState({apis:a}),t({schema:"sideNav",data:{name:"Blog"}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.createBlog,n=t.deletePopOverIsOpen,r=t.blogId,i=t.editBlog,o=this.props.account,s=this.props.database;return c.a.createElement("div",{className:"blogs bro-right"},a&&c.a.createElement(z.a,{push:!0,to:"/create-blog/".concat(o.sessionId)}),r&&i&&c.a.createElement(z.a,{push:!0,to:"/edit-blog/".concat(o.sessionId,"/").concat(r)}),c.a.createElement(Ye,{isOpen:n,action:this.deleteBlog,name:r?s.Blog.byId[r].title:""}),c.a.createElement("div",{className:"header"},c.a.createElement("div",null,c.a.createElement("span",{className:"title"},"Blogs "),c.a.createElement("small",null,"Manage your blogs here")),c.a.createElement("div",null,c.a.createElement(we.b,{className:"create-btn",text:"Create Blog",intent:"success",onClick:function(){return e.setState({createBlog:!a})}}))),c.a.createElement("div",{className:"blog-list"},s.Blog.allIds.map(function(t,a){return c.a.createElement("div",{className:"blog-container",key:a},c.a.createElement("div",{className:"img-container"},c.a.createElement(Ut,{onMore:e.onMore,id:t}),c.a.createElement("img",{alt:"test",src:"https://images.unsplash.com/photo-1425082661705-1834bfd09dca?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2555&q=80"})),c.a.createElement("div",{className:"detail-container"},c.a.createElement("div",{className:"blog-title"},c.a.createElement("p",{className:"title"},s.Blog.byId[t].title),c.a.createElement("p",{style:{textAlign:"right",width:"100%"}},c.a.createElement("span",{className:"pc-date"},new Date(s.Blog.byId[t].timeStamp).toDateString()))),c.a.createElement("div",{className:"blog-author"},c.a.createElement(X.a,{to:"#"},s.User.byId[s.Blog.byId[t].userId].middleName?"".concat(s.User.byId[s.Blog.byId[t].userId].firstName," ").concat(s.User.byId[s.Blog.byId[t].userId].middleName," ").concat(s.User.byId[s.Blog.byId[t].userId].lastName):"".concat(s.User.byId[s.Blog.byId[t].userId].firstName," ").concat(s.User.byId[s.Blog.byId[t].userId].lastName)))))})))}}]),t}(r.Component),Gr=Object(p.b)(function(e){return e},Object(g.a)({},n))(Yr),Wr=a(60),Fr=function(e){var t=e.comment,a=e.users;return c.a.createElement("div",{className:"i-response"},c.a.createElement("img",{alt:"profile comment author",src:Wr,height:"64px",style:{borderRadius:"50%"}}),c.a.createElement("div",{className:"comment-content"},c.a.createElement("div",null,a.map(function(e){if(e.user.id===t.userId){var a=e.user;return a.middleName?c.a.createElement(X.a,{to:"/user/".concat(a.id,"/"),key:"user-".concat(e.id)},"".concat(a.firstName," ").concat(a.middleName," ").concat(a.lastName," ")):c.a.createElement(X.a,{to:"/user/".concat(a.id,"/"),key:"user-".concat(e.id)},"".concat(a.firstName," ").concat(a.lastName," "))}}),c.a.createElement("small",null,c.a.createElement(_e.a,{style:{fontSize:12,color:"#757575"},format:"YYYY-MM-DD hh:mm"},t.timeStamp))),c.a.createElement("p",null,t.comment)))},zr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={comment:"",liked:null,allComments:[],allLikes:[]},a.componentDidMount=function(){var e=a.props,t=e.likes,n=e.account,r=e.comments;a.setState({allComments:r,allLikes:t}),n.user&&t.filter(function(e){e.userId===n.user.id&&a.setState({liked:e.id})})},a.setComment=function(e){a.setState({comment:e.target.value})},a.submitComment=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s,l,u;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.comment,r=t.allComments,c=a.props,i=c.apis,o=c.blogId,s=c.account,e.prev=2,l={userId:s.user.id,comment:n,timeStamp:Date.now(),blogId:o,broadCastId:"Blog-".concat(o)},e.next=6,i.addBlogComment(l);case 6:u=e.sent,a.setState({allComments:[].concat(Object(h.a)(r),[Object(g.a)({},l,{id:u})]),comment:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error",e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])})),a.likeBlog=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.liked,r=t.allLikes,c=a.props,i=c.apis,o=c.account,s=c.blogId,!n){e.next=8;break}return e.next=5,i.deleteBlogLike({id:n,broadCastId:"Blog-".concat(s)});case 5:a.setState({allLikes:r.filter(function(e){return e.id!==n}),liked:null}),e.next=12;break;case 8:return l={blogId:s,userId:o.user.id,timeStamp:Date.now(),likeType:"like"},e.next=11,i.addBlogLike(Object(g.a)({},l,{broadCastId:"Blog-".concat(s)}));case 11:a.setState({liked:Date.now(),allLikes:[].concat(Object(h.a)(r),[Object(g.a)({},l,{id:Date.now()})])});case 12:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.comment,a=e.liked,n=e.allComments,r=e.allLikes,i=this.props,o=i.users,s=i.account;return c.a.createElement("div",{className:"response"},c.a.createElement("div",{className:"left"}),c.a.createElement("div",{className:"comment-section"},c.a.createElement("div",null,s.user&&c.a.createElement(we.b,{intent:a?"primary":"none",text:"Like",icon:"thumbs-up",onClick:this.likeBlog}),c.a.createElement("span",null," ".concat(r.length," Likes"))),c.a.createElement("div",{className:"top-label"},c.a.createElement("h1",null,"Comment here")),s.user&&c.a.createElement("div",{className:"comment-area"},c.a.createElement(Re.a,{placeholder:"put a comment in here",onChange:this.setComment,value:t}),c.a.createElement(we.b,{text:"Submit",intent:"success",fill:!0,onClick:this.submitComment})),c.a.createElement("div",{className:"responses"},c.a.createElement("div",{className:"res-label"},c.a.createElement("h3",null,"Responses")),n.sort(We).map(function(e){return c.a.createElement(Fr,{users:o,comment:e,key:e.id})}))),c.a.createElement("div",{className:"right"}))}}]),t}(c.a.Component),Xr=a(60),Kr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={blogId:null,apis:{},data:{},loading:!0},a.createMarkup=function(e){return{__html:e}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t,a,n,r,c;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.account,n=t.match,e.prev=1,r={},!a.user){e.next=7;break}return e.next=6,se.scope("Mentee");case 6:r=e.sent;case 7:return e.next=9,L.a.get("".concat(ne,"/web/get-blog?blogId=").concat(n.params.blogId,"&userId=").concat(n.params.userId));case 9:c=e.sent,this.setState({data:c.data,apis:r,blogId:parseInt(n.params.blogId,10),loading:!1}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error",e.t0);case 16:case"end":return e.stop()}},e,this,[[1,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(H.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.account.user===t.account.user){e.next=12;break}return e.prev=2,e.next=5,se.scope("Mentee");case 5:a=e.sent,this.setState({apis:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error",e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.blogId,a=e.apis,n=e.data;if(e.loading)return c.a.createElement(Bt,null);var r=this.props.account,i=n.blog.userId,o=n.userDetails;return c.a.createElement("div",null,c.a.createElement(Kt,null),c.a.createElement("div",{className:"public-blog"},c.a.createElement("div",{className:"public-blog-title"},c.a.createElement("p",null,n.blog.title),c.a.createElement("div",{className:"author-user"},c.a.createElement("div",{className:"auth-con"},c.a.createElement("img",{style:{borderRadius:"50%"},height:"64px",src:Xr,alt:"author blank"}),c.a.createElement("div",{className:"author-detail"},c.a.createElement(X.a,{to:"/user/".concat(i,"/")},o.map(function(e){if(e.user.id===i)return"".concat(e.user.firstName," ").concat(e.user.middleName?"".concat(e.user.middleName," "):"").concat(e.user.lastName)})),c.a.createElement("span",null,new Date(n.blog.timeStamp).toDateString()))))),c.a.createElement("div",{className:"public-blog-content"},c.a.createElement("div",{className:"left"}),c.a.createElement("div",{id:"blogContent",dangerouslySetInnerHTML:this.createMarkup(n.blog.content)}),c.a.createElement("div",{className:"right"})),c.a.createElement(zr,{account:r,apis:a,users:o,comments:n.blogComment,likes:n.blogLike,blogId:t})),c.a.createElement(qt,null))}}]),t}(c.a.Component),qr=Object(p.b)(function(e){return e})(Kr),Vr=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.account;e.match.params.id!==t.sessionId&&this.setState({error:!0})}},{key:"render",value:function(){var e=this.state.error,t=this.props,a=t.account,n=t.match;return e?c.a.createElement(z.a,{push:!0,to:"/"}):c.a.createElement("div",null,a.online?c.a.createElement(Kt,null):c.a.createElement(z.a,{to:"/"}),c.a.createElement("div",{className:"broWrapper"},c.a.createElement(Mr,{match:n}),c.a.createElement(qa,{match:n}),c.a.createElement("div",{className:"fake-side-nav"}),c.a.createElement(P.a,{exact:!0,path:"".concat(n.path,"/profile"),component:Er}),c.a.createElement(P.a,{exact:!0,path:"".concat(n.path,"/classes"),component:Za}),c.a.createElement(P.a,{exact:!0,path:"".concat(n.path,"/blog"),component:Gr}),c.a.createElement(P.a,{exact:!0,path:"".concat(n.path,"/settings"),component:on}),c.a.createElement(P.a,{exact:!0,path:"".concat(n.path,"/drawing-board"),component:jr}),c.a.createElement(P.a,{exact:!0,path:"".concat(n.path,"/connection"),component:Nr}),c.a.createElement(P.a,{exact:!0,path:"".concat(n.path,"/messages"),component:Dr})))}}]),t}(r.Component),Jr=Object(p.b)(function(e,t){return Object(g.a)({},e,t)})(Vr),Zr=a(55),_r=a(218),$r=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onClick=function(){var e=a.props;(0,e.onClick)(e.task.id)};var n=a.props,r=n.tags,c=n.task,i=Object.values(r.byId).filter(function(e){if(c.id===e.boardColumnCardId)return e});return a.state={allTags:i},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.tags,n=t.task;if(a.allIds!==e.tags.allIds){var r=Object.values(a.byId).filter(function(e){if(n.id===e.boardColumnCardId)return e});this.setState({allTags:r})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.task,n=t.index,r=this.state.allTags;return c.a.createElement(Zr.b,{draggableId:"task".concat(a.id),index:n},function(t){return c.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{className:"task-container",onClick:e.onClick,onKeyDown:e.onClick,role:"menuitem",tabIndex:0}),c.a.createElement("div",{className:"pc-task-flag"},c.a.createElement("div",{className:"pc-tag-view"},r.map(function(e,t){return c.a.createElement(_r.a,{key:t,intent:e.tag,style:{marginRight:"5px"}})})),c.a.createElement("div",{className:"pc-deadline-view"},a.Deadline&&c.a.createElement("p",{className:a.Deadline<new Date?"expire":"no-expire"},de()(a.Deadline).format("YYYY-MM-DD")))),c.a.createElement("p",{className:"pc-task-name"},a.name))})}}]),t}(r.Component),ec=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={popOpen:!1,api:{}},a.handlePopOverForm=function(){var e=a.state.popOpen;e||Va.map(function(e){"name"===e.id&&(e.val="")}),a.setState({popOpen:!e})},a.addNewTask=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l,u,d;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.columnId,c=n.account,i=n.boardId,o=n.database,s=n.addDatabaseSchema,l=a.state.api,u=Object.keys(o.BoardColumnCard.byId).reduce(function(e,t){return o.BoardColumnCard.byId[t].boardColumnId===r&&(e+=16384),e},16384),e.next=5,l.addBoardColumnCard({userId:c.user.id,timeStamp:Date.now(),name:t.name,position:u,boardColumnId:r,broadCastId:"Board-".concat(i)});case 5:if(!(d=e.sent)){e.next=10;break}return s("BoardColumnCard",{id:d,userId:c.user.id,timeStamp:Date.now(),name:t.name,position:u,boardColumnId:r}),a.handlePopOverForm(),e.abrupt("return",{response:200});case 10:return e.abrupt("return",{response:404});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.scope("Mentee");case 2:t=e.sent,this.setState({api:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.popOpen;return c.a.createElement("div",null,c.a.createElement(Tt,{isOpen:e,onClose:this.handlePopOverForm,callback:this.addNewTask,structure:Va}),c.a.createElement("div",{className:"column-footer",role:"button",tabIndex:0,onKeyDown:this.handlePopOverForm,onClick:this.handlePopOverForm},"+ New Task"))}}]),t}(r.Component),tc=Object(p.b)(function(e){return e},Object(g.a)({},n))(ec),ac=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={columnDeletePopOver:!1,id:"",columnEditPopOver:!1},a.onMore=function(){var e=Object(H.a)(T.a.mark(function e(t,n){var r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.column,"delete"===t&&a.setState({id:n,columnDeletePopOver:!0}),"edit"===t&&(Va.map(function(e){"name"===e.id&&(e.val=r.name)}),a.setState({id:n,columnEditPopOver:!0}));case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.deleteColumn=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.api,c=n.deleteDatabaseSchema,i=n.boardId,o=a.state.id,"confirm"!==t){e.next=6;break}return e.next=5,r.deleteBoardColumn({id:o,boardId:i});case 5:c("BoardColumn",{id:o});case 6:a.setState({id:"",columnDeletePopOver:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateColumnName=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.api,c=n.updateDatabaseSchema,i=n.boardId,o=a.state.id,e.next=4,r.updateBoardColumn([Object(g.a)({},t,{boardId:i}),{id:o}]);case 4:return c("BoardColumn",Object(g.a)({id:o},t)),a.setState({id:"",columnEditPopOver:!1}),e.abrupt("return",{response:200});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.closeUpdatePopOver=function(){var e=a.state.columnEditPopOver;a.setState({columnEditPopOver:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.column,n=t.columnId,r=t.index,i=t.onTaskClick,o=t.boardId,s=t.tags,l=this.state,u=l.columnDeletePopOver,d=l.columnEditPopOver;return c.a.createElement(Zr.b,{draggableId:"column".concat(a.id),index:r},function(t){return c.a.createElement("div",Object.assign({className:"column-container",ref:t.innerRef},t.draggableProps),c.a.createElement("div",{className:"column-inner-container"},c.a.createElement(Tt,{onClose:e.closeUpdatePopOver,callback:e.updateColumnName,isOpen:d,structure:Va}),c.a.createElement(Ye,{isOpen:u,action:e.deleteColumn,name:a.name}),c.a.createElement("div",Object.assign({className:"column-title"},t.dragHandleProps),c.a.createElement(Ut,{id:n,onMore:e.onMore}),c.a.createElement("span",null,a.name)),c.a.createElement(Zr.c,{droppableId:"".concat(a.id),type:"task"},function(e){return c.a.createElement("div",Object.assign({className:"task-list",ref:e.innerRef},e.droppableProps),a.tasks.map(function(e,t){var a=e;return c.a.createElement($r,{key:"task".concat(a.id),task:a,index:t,tags:s,onClick:i})}),e.placeholder)}),t.placeholder,c.a.createElement(tc,{columnId:a.id,boardId:o})))})}}]),t}(r.Component),nc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={popOpen:!1,api:{}},a.handlePopOverForm=function(){var e=a.state.popOpen;Va.map(function(e){"name"===e.id&&(e.val="")}),a.setState({popOpen:!e})},a.addNewColumn=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l,u;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.classId,c=n.account,i=n.database,o=n.addDatabaseSchema,s=a.state.api,l=Object.keys(i.BoardColumn.byId).reduce(function(e,t){return i.BoardColumn.byId[t].boardId===r&&(e+=16384),e},16384),e.next=5,s.addBoardColumn({userId:c.user.id,timeStamp:Date.now(),name:t.name,position:l,boardId:r,broadCastId:"Board-".concat(r)});case 5:if(!(u=e.sent)){e.next=10;break}return o("BoardColumn",{id:u,userId:c.user.id,timeStamp:Date.now(),name:t.name,position:l,boardId:r}),a.handlePopOverForm(),e.abrupt("return",{response:200});case 10:return e.abrupt("return",{response:404});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.scope("Mentee");case 2:t=e.sent,this.setState({api:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.popOpen;return c.a.createElement("div",{className:"add-new-column"},c.a.createElement(Tt,{isOpen:e,onClose:this.handlePopOverForm,callback:this.addNewColumn,structure:Va}),c.a.createElement("div",{role:"button",tabIndex:0,onKeyDown:this.handlePopOverForm,className:"title",onClick:this.handlePopOverForm},c.a.createElement("span",null,"+ New Column")))}}]),t}(r.Component);nc.defaultProps={classId:""};var rc=Object(p.b)(function(e){return e},Object(g.a)({},n))(nc),cc=a(60),ic=function(e){var t=e.comment,a=/(\s@\w+\s)|(^@\w+\s)|(^@\w+$)|(\s@\w+$)/,n=t.split(a);return c.a.createElement("div",null,n.map(function(e,t){return e&&e.match(a)?c.a.createElement("span",{key:t,style:{fontWeight:"bold",color:"rgba(19, 124, 189, 1)"}},e):e}))},oc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.editComment=function(){},a.replyComment=function(){},a.delteComment=function(){},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.userList,n=t.comments;return c.a.createElement("div",{className:"comments"},c.a.createElement("h3",null,"History"),n.map(function(t){return c.a.createElement("div",{className:"s-comment",key:t.id},c.a.createElement("div",null,c.a.createElement("img",{src:cc,height:"45px",alt:"profile or blank profile"})),c.a.createElement("div",{className:"com-con"},c.a.createElement("div",{className:"com-auth"},c.a.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},Object.values(a.byId).map(function(e){if(e.id===t.userId)return"".concat(e.firstName," ").concat(e.lastName)})),c.a.createElement("small",null,new Date(t.timeStamp).toDateString())),c.a.createElement("div",{className:"com-desc"},c.a.createElement(ic,{comment:t.comment})),c.a.createElement("div",{className:"com-config"},c.a.createElement("small",{className:"primary",onClick:function(){return e.replyComment(t.id)}},c.a.createElement("u",null,"Reply")),c.a.createElement("small",{className:"primary",onClick:function(){return e.editComment(t.id)}},c.a.createElement("u",null,"Edit")),c.a.createElement("small",{className:"danger",onClick:function(){return e.delteComment(t.id)}},c.a.createElement("u",null,"Delete")))))}))}}]),t}(c.a.Component),sc=function(e){var t=e.callback;return c.a.createElement("div",{style:{padding:"5px",minWidth:"300px"}},c.a.createElement(Ue,{onChange:t,value:{},data:{id:"file",required:!0,name:"Attachment",placeholder:"Choose an Image"}}))},lc=function(e){var t=e.tags,a=e.addTag;return c.a.createElement("div",{style:{padding:"5px",minWidth:"250px"}},c.a.createElement("div",{style:{padding:"5px",textAlign:"center",fontSize:"15px",fontWeight:"bold"}},c.a.createElement("span",null,"Select Tags")),c.a.createElement("div",null,["primary","warning","success","danger"].map(function(e,n){var r=!1;return t.map(function(t){t.tag===e&&(r=!0)}),c.a.createElement(_r.a,{key:n,onClick:function(){return a(e,r)},fill:!0,large:!0,intent:e,interactive:!0,style:{margin:"5px 0px"},icon:r?"tick":null})})))},uc=function(e){var t=e.callback;return c.a.createElement("div",{style:{padding:"5px",minWidth:"300px"}},c.a.createElement(Qe,{callback:t,data:[{id:"deadline",fieldtype:"date",name:"Deadline"},{id:"submit",fieldtype:"button",type:"submit",text:"ADD",fill:"fill",intent:"success",large:"large"}]}))},dc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={deleteCardPopover:!1},a.uploadAttachment=function(e,t){},a.uploadDeadLine=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.apis,c=n.task,i=n.updateDatabaseSchema,o=n.boardId,s=new Date(t.deadline).getTime(),e.next=4,r.updateBoardColumnCard([{Deadline:s,broadCastId:"Board-".concat(o)},{id:c.id}]);case 4:return i("BoardColumnCard",{id:c.id,Deadline:s}),e.abrupt("return",{response:200,message:"Deadline added"});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.addTag=function(){var e=Object(H.a)(T.a.mark(function e(t,n){var r,c,i,o,s,l,u,d,m;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props,c=r.task,i=r.apis,o=r.tags,s=r.addDatabaseSchema,l=r.deleteDatabaseSchema,u=r.boardId,!n){e.next=7;break}return o.map(function(e){e.tag===t&&(d=e)}),e.next=5,i.deleteBoardColumnCardTag({broadCastId:"Board-".concat(u),id:d.id});case 5:return l("BoardColumnCardTag",{id:d.id}),e.abrupt("return");case 7:return e.next=9,i.addBoardColumnCardTag({broadCastId:"Board-".concat(u),boardColumnCardId:c.id,tag:t});case 9:m=e.sent,s("BoardColumnCardTag",{id:m,tag:t,boardColumnCardId:c.id});case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.deleteCard=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.apis,c=n.deleteDatabaseSchema,i=n.boardId,o=n.task,s=n.onClose,"confirm"!==t){e.next=9;break}return a.toggleDeleteCard(),e.next=5,r.deleteBoardColumnCard({id:o.id,broadCastId:"Board-".concat(i)});case 5:c("BoardColumnCard",{id:o.id}),s(),e.next=10;break;case 9:a.toggleDeleteCard();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.toggleDeleteCard=function(){var e=a.state.deleteCardPopover;a.setState({deleteCardPopover:!e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.deleteCardPopover,t=this.props,a=t.task,n=t.tags;return c.a.createElement("div",{className:"right"},c.a.createElement("div",{className:"rt-in"},c.a.createElement("div",{style:{padding:"5px"}},c.a.createElement("span",{style:{color:"#696969"}},"Tools")),c.a.createElement("div",{className:"rt-tools"},c.a.createElement(Z.a,{content:c.a.createElement(lc,{addTag:this.addTag,tags:n}),position:"left-top"},c.a.createElement(we.b,{alignText:"left",icon:"tag",text:"Tag"})),c.a.createElement(Z.a,{content:c.a.createElement(uc,{callback:this.uploadDeadLine}),position:"left-top"},c.a.createElement(we.b,{alignText:"left",icon:"outdated",text:"Deadline"})),c.a.createElement(Z.a,{content:c.a.createElement(sc,{callback:this.uploadAttachment}),position:"left-top"},c.a.createElement(we.b,{alignText:"left",icon:"paperclip",text:"Attachment"}))),c.a.createElement("div",{style:{padding:"5px"}},c.a.createElement("span",{style:{color:"#696969"}},"Actions")),c.a.createElement("div",{className:"rt-actions"},c.a.createElement(we.b,{alignText:"left",icon:"move",text:"Copy"}),c.a.createElement(we.b,{alignText:"left",icon:"trash",text:"delete",onClick:this.toggleDeleteCard}),c.a.createElement(Ye,{isOpen:e,action:this.deleteCard,name:a.name}))))}}]),t}(c.a.Component),mc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={editHead:!1,editDesc:!1,task:{},comments:[],description:{},attachments:[],tags:[],title:"",desc:"",comment:""},a.onClose=function(){var e=a.props;(0,e.onClose)(e.taskId),a.setState({editHead:!1,editDesc:!1,comment:""})},a.toggleElemTitle=function(){var e=a.state.editHead;a.setState({editHead:!e})},a.titleChange=function(e){a.setState({title:e.target.value})},a.saveTitle=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.apis,r=t.boardId,c=t.updateDatabaseSchema,i=a.state,o=i.task,s=i.title,e.next=4,n.updateBoardColumnCard([{name:s,broadCastId:"Board-".concat(r)},{id:o.id}]);case 4:c("BoardColumnCard",{id:o.id,name:s}),a.toggleElemTitle();case 6:case"end":return e.stop()}},e)})),a.toggleElemDesc=function(){var e=a.state.editDesc;a.setState({editDesc:!e})},a.descChange=function(e){a.setState({desc:e.target.value})},a.saveDesc=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s,l,u;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.apis,r=t.account,c=t.boardId,i=t.addDatabaseSchema,o=a.state,s=o.task,l=o.desc,e.next=4,n.addBoardColumnCardDescription({boardColumnCardId:s.id,title:l,timeStamp:Date.now(),userId:r.user.id,broadCastId:"Board-".concat(c)});case 4:u=e.sent,i("BoardColumnCardDescription",{boardColumnCardId:s.id,title:l,timeStamp:Date.now(),userId:r.user.id,id:u}),a.toggleElemDesc();case 7:case"end":return e.stop()}},e)})),a.commentChange=function(e){a.setState({comment:e.target.value})},a.saveComment=Object(H.a)(T.a.mark(function e(){var t,n,r,c,i,o,s,l;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.comment,r=t.task,c=a.props,i=c.apis,o=c.account,s=c.boardId,l=c.addDatabaseSchema,e.next=4,i.addBoardColumnCardComment({boardColumnCardId:r.id,comment:n,timeStamp:Date.now(),userId:o.user.id,broadCastId:"Board-".concat(s)});case 4:l("BoardColumnCardComment",{id:Date.now(),boardColumnCardId:r.id,comment:n,timeStamp:Date.now(),userId:o.user.id}),a.setState({comment:""});case 6:case"end":return e.stop()}},e)})),a.getTags=function(){var e=a.props.tags,t=a.state.task;return t.id?Object.values(e.byId).filter(function(e){if(e.boardColumnCardId===t.id)return e}):[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.taskId,n=e.tasks,r=e.comments,c=e.attachments,i=e.descriptions,o=e.tags,s=r.filter(function(e){if(a===e.boardColumnCardId)return e}),l=c.filter(function(e){if(a===e.boardColumnCardId)return e}),u=i.filter(function(e){if(a===e.boardColumnCardId)return e}).sort(We)[0],d=Object.values(o.byId).filter(function(e){if(a===e.boardColumnCardId)return e}),m="";u&&(m=u.title),n.map(function(e){e.id===a&&t.setState({comments:s,attachments:l,task:e,tags:d,description:u,title:e.name,desc:m})})}},{key:"render",value:function(){var e=this,t=this.props.isOpen,a=this.state,n=a.editHead,r=a.editDesc,i=a.task,o=a.comments,s=a.title,l=a.description,u=a.desc,d=a.comment,m=a.tags,p=this.props,f=p.userList,b=p.apis,h=p.boardId,v=p.onClose,g=p.deleteDatabaseSchema,E=p.updateDatabaseSchema,A=p.addDatabaseSchema;return c.a.createElement(be.a,{isOpen:t,onClose:this.onClose,className:"overlay-container",style:{width:"800px"}},c.a.createElement("div",{className:"task-detail-overlay"},c.a.createElement("div",{className:"overlay-title"},c.a.createElement("div",{className:"head"},n?c.a.createElement(Re.a,{value:s,onChange:function(t){return e.titleChange(t)}}):c.a.createElement("span",{className:"title"},i.name),n?c.a.createElement("div",{className:"buttons-group"},c.a.createElement(we.b,{icon:"tick",intent:"success",onClick:this.saveTitle}),c.a.createElement(we.b,{icon:"cross",onClick:this.toggleElemTitle})):c.a.createElement("div",{className:"buttons-group"},c.a.createElement(J.a,{className:"edit-title",icon:"edit",onClick:this.toggleElemTitle}))),c.a.createElement(we.b,{icon:"cross",style:{float:"right"},minimal:!0,onClick:this.onClose})),c.a.createElement("div",{className:"overlay-body"},c.a.createElement("div",{className:"left"},c.a.createElement("div",{className:"pc-tags-and-deadline"},c.a.createElement("div",{className:"pc-tag-view"},this.getTags().map(function(e,t){return c.a.createElement(_r.a,{key:t,large:!0,intent:e.tag,style:{margin:"5px"}})})),c.a.createElement("div",{className:"pc-deadline-view"},i.Deadline&&c.a.createElement("p",{className:i.Deadline<new Date?"expire":"no-expire"},"Deadline: ".concat(de()(i.Deadline).format("YYYY-MM-DD"))))),c.a.createElement("div",{className:"overlay-description"},c.a.createElement("div",{className:"desc-head"},c.a.createElement("u",null,"Description"),r?c.a.createElement("span",{className:"buttons-group"},c.a.createElement(we.b,{icon:"tick",onClick:this.saveDesc,intent:"success",small:!0,className:"edit-button"}),c.a.createElement(we.b,{icon:"cross",onClick:this.toggleElemDesc,small:!0,className:"edit-button"})):c.a.createElement(J.a,{icon:"edit",onClick:this.toggleElemDesc,className:"edit-button"})),c.a.createElement("div",{className:"desc"},r?c.a.createElement(Re.a,{value:u,onChange:this.descChange}):c.a.createElement("span",null,l&&l.title))),c.a.createElement("div",{className:"attach-container"},c.a.createElement("u",null,"Attachments"),c.a.createElement("div",{className:"attach-list"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("div",{className:"file-type"},c.a.createElement("span",null,"txt")),c.a.createElement("div",{className:"file-detail"},c.a.createElement("span",{className:"attach-title"},"Project Report.pdf"),c.a.createElement("span",null,"oct 27 2019 -",c.a.createElement(X.a,{to:""}," Nabin Bhusal"))))))),c.a.createElement("div",{className:"comment-container"},c.a.createElement(Re.a,{fill:!0,placeholder:"Put your comments.",value:d,onChange:function(t){return e.commentChange(t)}}),c.a.createElement(we.b,{style:{marginLeft:"5px"},text:"submit",intent:V.a.PRIMARY,onClick:this.saveComment})),c.a.createElement(oc,{comments:o,userList:f})),c.a.createElement(dc,{tags:m,onClose:v,boardId:h,task:i,apis:b,deleteDatabaseSchema:g,updateDatabaseSchema:E,addDatabaseSchema:A}))))}}]),t}(r.Component),pc=Object(p.b)(function(e){var t=e.database,a=e.account;return{userList:t.User,account:a}})(mc),fc=a(376),bc=function(){return c.a.createElement("span",{style:{padding:"5px",borderRadius:"50%",background:"#0F9960"}},c.a.createElement(J.a,{icon:"phone",iconSize:20,color:"white"}))},hc=function(){return c.a.createElement("span",{style:{padding:"5px",borderRadius:"50%",background:"#0F9960"}},c.a.createElement(J.a,{icon:"mobile-video",iconSize:20,color:"white"}))},vc=function(e){var t=e.detail;return c.a.createElement("div",{style:{padding:"10px 5px 5px 5px"}},c.a.createElement("div",{style:{fontWeight:600,padding:"2px"}},"".concat(t.firstName," ").concat(t.lastName)),c.a.createElement("div",{style:{padding:"5px",display:"flex",justifyContent:"space-around"}},c.a.createElement(bc,null),c.a.createElement(hc,null)))},gc=function(e){var t=e.userList,a=e.boardMembers,n=e.boardId;return c.a.createElement("div",{style:{padding:"10px 5px 5px 10px",display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement("div",{style:{fontWeight:600,padding:"2px"}},c.a.createElement("u",null,"Class Members")),c.a.createElement("div",{style:{padding:"5px"}},Object.values(a.byId).map(function(e){if(e.boardId===n)return c.a.createElement("div",{style:{padding:"10px"}},c.a.createElement("span",null,"".concat(t.byId[e.tuserId].firstName," ").concat(t.byId[e.tuserId].lastName)),c.a.createElement(bc,null),c.a.createElement(hc,null))})))},Ec=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userList,a=e.boardMembers,n=e.boardId;return c.a.createElement("div",{className:"each-item user-list"},Object.values(a.byId).map(function(e,a){if(e.boardId===n)return c.a.createElement(Z.a,{position:"bottom",content:c.a.createElement(vc,{detail:t.byId[e.tuserId]}),key:a},c.a.createElement("div",{className:"i-user"},t.byId[e.tuserId].firstName[0].toUpperCase(),t.byId[e.tuserId].lastName[0].toUpperCase(),t.byId[e.tuserId].activeStatus&&c.a.createElement("span",{className:"green-dot"})))}),c.a.createElement(Z.a,{position:"right-top",content:c.a.createElement(gc,{userList:t,boardMembers:a,boardId:n})},c.a.createElement("div",{className:"i-user"},"...")))}}]),t}(c.a.Component),Ac=[{id:"email",fieldtype:"input",name:"Email",placeholder:"Example: nabin@properclass.com"},{id:"submit",fieldtype:"button",text:"Send Request",fill:"fill",intent:"success",large:"large"}],yc=function(e){var t=e.callback;return c.a.createElement("div",{style:{padding:"5px",minWidth:"300px"}},c.a.createElement(Qe,{data:Ac,callback:t}))},wc=function(e){var t=function(){var t=Object(H.a)(T.a.mark(function t(a){var n,r,c,i,o;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.apis,r=e.boardId,c=e.account,i=Object(g.a)({},a,{joinStatus:!0,userType:"normal",fuserId:c.user.id,boardId:r,timeStamp:Date.now()}),t.prev=2,t.next=5,n.addBoardMember(i);case 5:if(200!==(o=t.sent).status){t.next=8;break}return t.abrupt("return",{response:200,message:"Congratulations! You have added a new user"});case 8:return t.abrupt("return",{response:201,error:o.message});case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",{response:400,error:"Network Error"});case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(Z.a,{content:c.a.createElement(yc,{callback:t})},c.a.createElement(we.b,{minimal:!0,text:"Add user +"}))},Oc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.toggleAddUser=function(){var e=a.state.addUser;a.setState({addUser:!e})},a.onChat=function(){var e=a.props,t=e.updateWebRtc;t("showCommunication",e.boardId),t("peerType","board"),t("communicationContainer","history")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.boards,a=e.boardId,n=e.users,r=e.boardMembers,i=e.account,o=e.apis;return c.a.createElement("div",{className:"tool-bar"},c.a.createElement("div",{className:"toolbar-container"},c.a.createElement("div",{className:"left-tools"},c.a.createElement("div",{className:"class-name each-item"},t.allIds.map(function(e){if(e===a)return t.byId[e].name})),c.a.createElement(fc.a,null),c.a.createElement(Ec,{userList:n,boardId:a,boardMembers:r})),c.a.createElement("div",{className:"right-tools"},c.a.createElement(we.b,{minimal:!0,icon:"chat",onClick:this.onChat}),c.a.createElement(wc,{apis:o,account:i,boardId:a}))))}}]),t}(c.a.Component),Cc=Object(p.b)(function(e){var t=e.database,a=e.account;return{boards:t.Board,users:t.User,boardMembers:t.BoardMember,account:a}},Object(g.a)({},n))(Oc),jc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={redirectionError:!1,api:{},classId:0,columns:[],tasks:[],comments:[],attachments:[],descriptions:[],taskOverlayIsOpen:!1,taskIdInOverlay:0},a.onDragEnd=function(){var e=Object(H.a)(T.a.mark(function e(t){var n,r,c,i,o,s,l,u,d,m,p,f,b,h,v,g,E,A,y,w,O,C,j,k,x,I,N,S;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.source,r=t.destination,c=t.draggableId,i=t.type,o=a.state,s=o.api,l=o.columns,r){e.next=4;break}return e.abrupt("return");case 4:if("column"!==i){e.next=18;break}if(n.index!==r.index){e.next=7;break}return e.abrupt("return");case 7:return u=Number(c.split("column")[1]),d=l,m={},l.map(function(e){e.id===u&&(m=e)}),0===r.index?m.position=l[0].position/2:r.index===l.length-1?m.position=l[r.index].position+16384:(n.index>r.index&&(m.position=(l[r.index-1].position+l[r.index].position)/2),n.index<r.index&&(m.position=(l[r.index].position+l[r.index+1].position)/2)),d.splice(n.index,1),d.splice(r.index,0,m),a.setState({columns:d}),e.next=17,s.updateBoardColumn([{position:m.position,timeStamp:Date.now()},{id:u}]);case 17:return e.abrupt("return");case 18:if(n.droppableId!==r.droppableId){e.next=37;break}return p=Number(n.droppableId),f=Number(c.split("task")[1]),b=l,v={},g=[],l.map(function(e,t){e.id===p&&(v=e,g=e.tasks,h=t)}),E={},g.map(function(e){e.id===f&&(E=e)}),0===r.index?E.position=g[0].position/2:r.index===g.length-1?E.position=g[r.index].position+16384:(n.index>r.index&&(E.position=(g[r.index-1].position+g[r.index].position)/2),n.index<r.index&&(E.position=(g[r.index].position+g[r.index+1].position)/2)),g.splice(n.index,1),g.splice(r.index,0,E),v.tasks=g,b.splice(h,1),b.splice(h,0,v),a.setState({columns:b}),e.next=36,s.updateBoardColumnCard([{position:E.position,timestamp:Date.now()},{id:f}]);case 36:return e.abrupt("return");case 37:return A=Number(n.droppableId),y=Number(r.droppableId),w=Number(c.split("task")[1]),k={},x={},(O=l).map(function(e,t){e.id===A&&(k=e,C=t),e.id===y&&(x=e,j=t)}),I=k.tasks,N=x.tasks,I.map(function(e){e.id===w&&(S=e)}),I.splice(n.index,1),0===r.index?0!==N.length?S.position=N[0].position/2:S.position=16384:r.index===N.length?S.position=N[r.index-1].position+16384:S.position=(N[r.index-1].position+N[r.index].position)/2,N.splice(r.index,0,S),x.tasks=N,k.tasks=I,O.splice(C,1),O.splice(C,0,k),O.splice(j,1),O.splice(j,0,x),a.setState({columns:O}),e.next=59,s.updateBoardColumnCard([{position:S.position,timeStamp:Date.now(),boardColumnId:y},{id:w}]);case 59:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.toggleTaskOverlay=function(e){var t=a.state.taskOverlayIsOpen;a.setState({taskIdInOverlay:e,taskOverlayIsOpen:!t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.account,n=t.match;se.scope("Mentee").then(function(t){n.params.id===a.sessionId?(e.setState({api:t,classId:parseInt(n.params.classId,10)}),e.componentWillReceiveProps(e.props)):e.setState({redirectionError:!0})})}},{key:"componentWillReceiveProps",value:function(e){var t=e.tasks,a=e.columns,n=e.comments,r=e.attachments,c=e.descriptions,i=e.match,o=[];Object.values(a.byId).map(function(e){if(e.boardId===Number(i.params.classId)){var a=Object(g.a)({},e),n=[];Object.values(t.byId).map(function(t){t.boardColumnId===e.id&&n.push(t)}),n.sort(Ge),a.tasks=n,o.push(a)}}),this.setState({tasks:Object.values(t.byId),columns:o.sort(Ge),comments:Object.values(n.byId).sort(We),attachments:Object.values(r.byId),descriptions:Object.values(c.byId)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.classId,n=t.columns,r=t.tasks,i=t.redirectionError,o=t.api,s=t.taskIdInOverlay,l=t.taskOverlayIsOpen,u=t.comments,d=t.attachments,m=t.descriptions,p=this.props,f=p.addDatabaseSchema,b=p.tags,h=p.updateDatabaseSchema,v=p.deleteDatabaseSchema;return c.a.createElement("div",{style:{position:"relative"}},i&&c.a.createElement(z.a,{to:"/"}),c.a.createElement(Kt,{className:"pcm-nav"}),c.a.createElement(Cc,{boardId:a,apis:o}),c.a.createElement("div",{className:"class-wrapper",style:{height:window.innerHeight}},c.a.createElement(Zr.a,{onDragEnd:this.onDragEnd},c.a.createElement(Zr.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},function(t){return c.a.createElement("div",Object.assign({className:"columns"},t.droppableProps,{ref:t.innerRef}),n.map(function(t,n){if(t.boardId===a)return c.a.createElement(ac,{key:"column".concat(t.id),column:t,columnId:t.id,index:n,api:o,tags:b,boardId:a,addDatabaseSchema:f,updateDatabaseSchema:h,deleteDatabaseSchema:v,onTaskClick:e.toggleTaskOverlay})}),t.placeholder,c.a.createElement(rc,{classId:a}))}))),c.a.createElement(pc,{apis:o,isOpen:l,taskId:s,tasks:r,onClose:this.toggleTaskOverlay,comments:u,attachments:d,descriptions:m,boardId:a,tags:b,addDatabaseSchema:f,updateDatabaseSchema:h,deleteDatabaseSchema:v}))}}]),t}(r.Component),kc=Object(p.b)(function(e){var t=e.database;return{account:e.account,columns:t.BoardColumn,tasks:t.BoardColumnCard,comments:t.BoardColumnCardComment,descriptions:t.BoardColumnCardDescription,attachments:t.BoardColumnCardAttachment,boardUsers:t.User,tags:t.BoardColumnCardTag}},Object(g.a)({},n))(jc),xc=[{id:"email",fieldtype:"input",name:"Email",placeholder:"Eg, alex@gmail.com",required:!0},{id:"submit",fieldtype:"button",type:"submit",text:"Submit",fill:"fill",intent:"primary",large:"large"}],Ic=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(Qe,{data:xc,callback:ka})}}]),t}(r.Component),Nc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"o-log-or-reg"},c.a.createElement("div",{className:"log-or-reg"},c.a.createElement("div",{className:"reg-box-header"},c.a.createElement("p",null,"Recover your password"),c.a.createElement(X.a,{to:"/login"},c.a.createElement("u",null,"or login to your account"))),c.a.createElement(Ic,null)))}}]),t}(r.Component),Sc=[{id:"newPassword",fieldtype:"input",hidden:!0,name:"New Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"}},{id:"confirmPassword",fieldtype:"input",hidden:!0,name:"Confirm Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"}},{id:"submit",type:"submit",fieldtype:"button",text:"Submit",fill:"fill",intent:"primary",large:"large"}],Dc=[{id:"oldPassword",fieldtype:"input",hidden:!0,name:"Old Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"}},{id:"newPassword",fieldtype:"input",hidden:!0,name:"New Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"}},{id:"confirmPassword",fieldtype:"input",hidden:!0,name:"Confirm Password",placeholder:"Eg, ........",icon:{side:"right",name:"eye-open"}},{id:"submit",fieldtype:"button",type:"submit",text:"Submit",fill:"fill",intent:"primary",large:"large"}],Bc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.pForm;return c.a.createElement(Qe,{data:e,callback:Ia})}}]),t}(r.Component),Rc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.type;return c.a.createElement("div",{className:"o-log-or-reg"},c.a.createElement("div",{className:"log-or-reg"},c.a.createElement("div",{className:"reg-box-header"},c.a.createElement("p",null," Reset your password ")),c.a.createElement(Bc,{pForm:"change"===e?Dc:Sc})))}}]),t}(r.Component),Pc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={emailVerification:null,loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(H.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,e.prev=1,e.next=4,L.a.get("".concat(ne,"/auth/email-verification?token=").concat(t.params.token));case 4:200===e.sent.status&&this.setState({emailVerification:!0,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({emailVerification:!1,loading:!1});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.emailVerification,a=e.loading;return c.a.createElement("div",null,a?c.a.createElement(ye.a,{size:30}):c.a.createElement("div",null,c.a.createElement(Ta,{message:t?"You have been verified":"Verification failed",intent:t?"success":"danger"}),c.a.createElement("div",{style:{marginTop:50}},t&&c.a.createElement(Ra,null))))}}]),t}(c.a.Component),Mc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.updateNav)({schema:"mainNav",data:{name:"tour"}})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(Kt,null),c.a.createElement("div",{className:"take-tour"},c.a.createElement("iframe",{width:"600",height:"600",src:"https://www.youtube.com/embed/tgbNymZ7vqY"})))}}]),t}(c.a.Component),Tc=Object(p.b)(function(e){return e},Object(g.a)({},n))(Mc),Hc=function(){return c.a.createElement(B.a,null,c.a.createElement("div",{className:"home-screen"},c.a.createElement(R.a,null,c.a.createElement(P.a,{exact:!0,path:"/archive",component:Zn}),c.a.createElement(P.a,{exact:!0,path:"/take-a-tour",component:Tc}),c.a.createElement(P.a,{path:"/login",component:Ra}),c.a.createElement(P.a,{path:"/register",component:Fa}),c.a.createElement(P.a,{path:"/forgot-password",component:Nc}),c.a.createElement(P.a,{path:"/class-work/:id/:classId",component:kc}),c.a.createElement(P.a,{path:"/edit-blog/:id/:blogId",component:Qr}),c.a.createElement(P.a,{path:"/create-blog/:id",component:Qr}),c.a.createElement(P.a,{exact:!0,path:"/reset/:token",component:Rc}),c.a.createElement(P.a,{exact:!0,path:"/email-verification/:token",component:Pc}),c.a.createElement(P.a,{path:"/archive/:blogId/:userId",component:qr}),c.a.createElement(P.a,{path:"/user/:userId",component:ta}),c.a.createElement(P.a,{path:"/search/key=:searchKey",component:la}),c.a.createElement(P.a,{path:"/:id",component:Jr}),c.a.createElement(P.a,{exact:!0,path:"/",component:Oa})),c.a.createElement(Nt,null)))},Uc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(p.a,{store:D},c.a.createElement(Hc,null))}}]),t}(r.Component);a(346),a(348),a(350),a(352),a(354);o.a.render(c.a.createElement(Uc,null),document.getElementById("root"))},52:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(177)),r=u(a(178)),c=u(a(179)),i=u(a(180)),o=u(a(181)),s=u(a(182)),l=u(a(183));function u(e){return e&&e.__esModule?e:{default:e}}t.default={init:n.default,add:r.default,remove:c.default,update:i.default,map:s.default,all:o.default,get:l.default}},60:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAKeAAACngG20ANEAAAEU0lEQVR4nO1aO2zUWBT138/2jKALVBRAQ0JmgCw0QaKCAAVCCNGChEQRGgqkFAgUihUSsFXoKNBWu1okOgQdElAAIeMJCQWCgg4qEmZsv3n+oRtiacjOMJ/cZ08yc0p/zr33+P187xXjOBb6GVJfRz8QYCDAQICBAD3gQ6YYCNADPmSKvhdAycLowsLCDkWWT9dfC8Lw0cjIyOe0fUntKLz4/v05RunZMAjGgzAcqlH6y32dEEGR5a+yorzQCPlveM+ef9Pwi7sAi4uL49R1Z1zXLURR1NY7kiQJpmmWiWleHh4efsHTP64ClG17xnGcSZ+xrt5XNU2wLOteoVi8jO7cKrgJMDc7+6RSqRzD4Mrn80/3j41NYHCtBZddADN4AHABJxZfPdAFgGGPGXwC4ARubF7UKQAL3vLS0vNu53wrwJqwZevWw5gLI+oIgNWeV/AA4AYbmJxoAsA+D1sdFl8zgA2whcWHJkDNdS+0u8+vB2ADbGHxoQkQRtE4FleatlAEgCFJPc/C4GoHYAtrGqAIEPrBvjSGfwKwBTYxuFAEiKJgGwZPFjb7Ph8wEKAHfMgUKAKIolRNOwgsmygC6Lr+EYMnC5toP0NvXr2KXddF4WoF0zSFPw4dEjG40NYAWZZfYnGlaQtNAI0QLgkL3rZQ8wGzr19/cRxnCI2wASzL+jp28CDawQt1G9QJuQYZXV4AbrCBSY+eFMXOB9aDR3IU/XNphFwyDOMDNi9wAjc2L7oAUN4yc7mjmCIAF3DyKJ1xmbCJCPl8ft3bFXDwCh7AvTQ2X56/5bnOJKU018l7hJCqYVr3RgujU/y8S6k4CtXgMAiuBj6bqDF/Z7PMMaS9dU39pKjaE1lRbqdRLU69URJqB3EcHwl8tqv+uqJqH0VRfMa7GLoWfd8pyr1BApKXcRTtTr54GITFZs+KoliVZGnlL48Qww6jaHbDlcchYL9Gj0OgURQVKKVCtwlTWBNUVXVkSbJlRbEVVf0HWxAUAeq7PzzPG+KVIa5fJLHEWJcAsMX5rDbRSfcHFkAMoutPVU17uHd09H63tF0JAIGzGj3P+8+vHSTtNJquz3QjREcCvJufv8hqdKpadXYix7FugBCWZb3UDWOqk6nRlgBwkPEZu1utVM6kPdQ7haZpFdOy/m63r6ilAGXbPkEpvU89b3sG8XSNXC5X1g3jVKvT5G8FKM29ve55dJpn0wNPwP8EMYxzhWLxcTMzTQUozc093AhDvhVgShCD3Nm3/8DNRo82FIBnVicLwAKZy+duNBLhf/mAzRa8sFpOr1aq0zCl1977RQBeLW69gEQE2MobCmCXSle+Ly9PbsbgE/wUofIX/JIn11YEgAue605v9AWvHTDG8tR1HiSPrggAvXdwo5cdxwScZGGXA0rRLpVmlr5929RDvxFWO9FPSoyx873nHn/A4S7w/T8lIY5Ta2/rNUDCpu9bZBRN13vAjWyg6brwAzLER5MVJ3BoAAAAAElFTkSuQmCC"},80:function(e,t,a){"use strict";var n;function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.PKT_RPC_REQUEST=function(e,t,a,n){return JSON.stringify([c,e,t,a,n])},t.PKT_RPC_RESPONSE=function(e,t,a){return JSON.stringify([i,e,t,a])},t.PKT_EVENT=function(e,t){return JSON.stringify([o,e,t])},t.PKT_ACTION=function(e){return JSON.stringify([s,e])},t.PKT_SCOPE_REQUEST=function(e,t,a){return JSON.stringify([l,e,t,a])},t.PKT_SCOPE_RESPONSE=function(e,t,a){return JSON.stringify([u,e,t,a])},t.PKT_CALL=function(e,t,a){return JSON.stringify([d,e,t,a])},t.createParser=function(){var e={parse:function(t){try{var a=JSON.parse(t);if(!Array.isArray(a))throw new Error("Invalid message format");var n=(o=a,Array.isArray(o)?o:Array.from(o)),r=n[0],c=n.slice(1),i=m[r];if(!i)throw new Error("Unknown message type - "+r);if(!e[i])throw new Error("No parser defined for - "+i);try{e[i].apply(null,c)}catch(s){throw new Error("Error executing parser - "+i+" - "+s.message)}}catch(s){e.onError?e.onError(s):console.error("Error parsing message",s)}var o}};return e};var c=1,i=2,o=3,s=4,l=5,u=6,d=7,m=(r(n={},c,"onRpcRequest"),r(n,i,"onRpcResponse"),r(n,o,"onEvent"),r(n,s,"onAction"),r(n,l,"onScopeRequest"),r(n,u,"onScopeResponse"),r(n,d,"onCall"),n)},88:function(e,t,a){e.exports=a.p+"static/media/ringtone.da570d5f.mp3"},99:function(e,t,a){e.exports=a.p+"static/media/uploadicon512.d4c77ff2.png"}},[[168,2,1]]]);