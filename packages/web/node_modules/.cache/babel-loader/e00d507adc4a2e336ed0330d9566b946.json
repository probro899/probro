{"ast":null,"code":"import _defineProperty from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Nabin/workspace/probro/packages/web/src/common/FileInput.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon, Intent } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\n\nvar FileInput =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FileInput, _React$Component);\n\n  function FileInput(props) {\n    var _this;\n\n    _classCallCheck(this, FileInput);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FileInput).call(this, props));\n\n    _this.onChange = function (e) {\n      var _this$props = _this.props,\n          _action = _this$props._action,\n          schema = _this$props.schema,\n          field = _this$props.field,\n          lastAction = _this$props.lastAction;\n\n      _action(schema, _defineProperty({}, field, e.target.files[0]));\n\n      lastAction();\n    };\n\n    _this.onClick = function () {\n      _this.fileInputRef.current.click();\n    };\n\n    _this.changeStyle = function (e) {\n      e.target.style.cursor = 'pointer';\n    };\n\n    _this.state = {};\n    _this.fileInputRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(FileInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return (// eslint-disable-next-line jsx-a11y/interactive-supports-focus\n        React.createElement(\"div\", {\n          onClick: this.onClick // tabIndex=\"0\"\n          ,\n          onKeyDown: this.onClick,\n          role: \"button\",\n          onMouseOver: function onMouseOver(e) {\n            return _this2.changeStyle(e);\n          },\n          onFocus: function onFocus(e) {\n            return _this2.changeStyle(e);\n          },\n          className: \"image-upload-icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: IconNames.PLUS,\n          intent: Intent.PRIMARY,\n          iconSize: \"30\",\n          color: \"white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          ref: this.fileInputRef,\n          type: \"file\",\n          style: {\n            display: 'none'\n          },\n          onChange: function onChange(e) {\n            return _this2.onChange(e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }))\n      );\n    }\n  }]);\n\n  return FileInput;\n}(React.Component);\n\nFileInput.defaultProps = {\n  lastAction: null\n};\nFileInput.propTypes = {\n  field: PropTypes.string.isRequired,\n  schema: PropTypes.string.isRequired,\n  lastAction: PropTypes.func,\n  _action: PropTypes.func.isRequired\n};\nexport default FileInput;","map":{"version":3,"sources":["/Users/Nabin/workspace/probro/packages/web/src/common/FileInput.js"],"names":["React","PropTypes","Icon","Intent","IconNames","FileInput","props","onChange","e","_action","schema","field","lastAction","target","files","onClick","fileInputRef","current","click","changeStyle","style","cursor","state","createRef","PLUS","PRIMARY","display","Component","defaultProps","propTypes","string","isRequired","func"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,mBAA7B;AACA,SAASC,SAAT,QAA0B,oBAA1B;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UAMnBC,QANmB,GAMR,UAACC,CAAD,EAAO;AAAA,wBAC+B,MAAKF,KADpC;AAAA,UACRG,OADQ,eACRA,OADQ;AAAA,UACCC,MADD,eACCA,MADD;AAAA,UACSC,KADT,eACSA,KADT;AAAA,UACgBC,UADhB,eACgBA,UADhB;;AAEhBH,MAAAA,OAAO,CAACC,MAAD,sBAAYC,KAAZ,EAAoBH,CAAC,CAACK,MAAF,CAASC,KAAT,CAAe,CAAf,CAApB,EAAP;;AACAF,MAAAA,UAAU;AACX,KAVkB;;AAAA,UAYnBG,OAZmB,GAYT,YAAM;AACd,YAAKC,YAAL,CAAkBC,OAAlB,CAA0BC,KAA1B;AACD,KAdkB;;AAAA,UAgBnBC,WAhBmB,GAgBL,UAACX,CAAD,EAAO;AACnBA,MAAAA,CAAC,CAACK,MAAF,CAASO,KAAT,CAAeC,MAAf,GAAwB,SAAxB;AACD,KAlBkB;;AAEjB,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKN,YAAL,GAAoBhB,KAAK,CAACuB,SAAN,EAApB;AAHiB;AAIlB;;;;6BAgBQ;AAAA;;AACP,aACE;AACA;AACE,UAAA,OAAO,EAAE,KAAKR,OADhB,CAEE;AAFF;AAGE,UAAA,SAAS,EAAE,KAAKA,OAHlB;AAIE,UAAA,IAAI,EAAC,QAJP;AAKE,UAAA,WAAW,EAAE,qBAAAP,CAAC;AAAA,mBAAI,MAAI,CAACW,WAAL,CAAiBX,CAAjB,CAAJ;AAAA,WALhB;AAME,UAAA,OAAO,EAAE,iBAAAA,CAAC;AAAA,mBAAI,MAAI,CAACW,WAAL,CAAiBX,CAAjB,CAAJ;AAAA,WANZ;AAOE,UAAA,SAAS,EAAC,mBAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASE,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAEJ,SAAS,CAACoB,IAAtB;AAA4B,UAAA,MAAM,EAAErB,MAAM,CAACsB,OAA3C;AAAoD,UAAA,QAAQ,EAAC,IAA7D;AAAkE,UAAA,KAAK,EAAC,OAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATF,EAUE;AACE,UAAA,GAAG,EAAE,KAAKT,YADZ;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,KAAK,EAAE;AAAEU,YAAAA,OAAO,EAAE;AAAX,WAHT;AAIE,UAAA,QAAQ,EAAE,kBAAAlB,CAAC;AAAA,mBAAI,MAAI,CAACD,QAAL,CAAcC,CAAd,CAAJ;AAAA,WAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAVF;AAFF;AAoBD;;;;EA1CqBR,KAAK,CAAC2B,S;;AA6C9BtB,SAAS,CAACuB,YAAV,GAAyB;AACvBhB,EAAAA,UAAU,EAAE;AADW,CAAzB;AAIAP,SAAS,CAACwB,SAAV,GAAsB;AACpBlB,EAAAA,KAAK,EAAEV,SAAS,CAAC6B,MAAV,CAAiBC,UADJ;AAEpBrB,EAAAA,MAAM,EAAET,SAAS,CAAC6B,MAAV,CAAiBC,UAFL;AAGpBnB,EAAAA,UAAU,EAAEX,SAAS,CAAC+B,IAHF;AAIpBvB,EAAAA,OAAO,EAAER,SAAS,CAAC+B,IAAV,CAAeD;AAJJ,CAAtB;AAOA,eAAe1B,SAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon, Intent } from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\n\nclass FileInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.fileInputRef = React.createRef();\n  }\n\n  onChange = (e) => {\n    const { _action, schema, field, lastAction } = this.props;\n    _action(schema, { [field]: e.target.files[0] });\n    lastAction();\n  };\n\n  onClick = () => {\n    this.fileInputRef.current.click();\n  };\n\n  changeStyle = (e) => {\n    e.target.style.cursor = 'pointer';\n  }\n\n  render() {\n    return (\n      // eslint-disable-next-line jsx-a11y/interactive-supports-focus\n      <div\n        onClick={this.onClick}\n        // tabIndex=\"0\"\n        onKeyDown={this.onClick}\n        role=\"button\"\n        onMouseOver={e => this.changeStyle(e)}\n        onFocus={e => this.changeStyle(e)}\n        className=\"image-upload-icon\"\n      >\n        <Icon icon={IconNames.PLUS} intent={Intent.PRIMARY} iconSize=\"30\" color=\"white\" />\n        <input\n          ref={this.fileInputRef}\n          type=\"file\"\n          style={{ display: 'none' }}\n          onChange={e => this.onChange(e)}\n        />\n      </div>\n    );\n  }\n}\n\nFileInput.defaultProps = {\n  lastAction: null,\n};\n\nFileInput.propTypes = {\n  field: PropTypes.string.isRequired,\n  schema: PropTypes.string.isRequired,\n  lastAction: PropTypes.func,\n  _action: PropTypes.func.isRequired,\n};\n\nexport default FileInput;\n"]},"metadata":{},"sourceType":"module"}