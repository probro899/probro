{"ast":null,"code":"import _defineProperty from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Nabin/workspace/probro/packages/web/src/common/ClassComponents/TaskOverlay.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Dialog, Button, TextArea, Intent } from '@blueprintjs/core';\nimport PropTypes from 'prop-types';\n\nvar profileIcon = require('../../assets/imageUploadIcon.png');\n\nvar TaskOverlay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TaskOverlay, _Component);\n\n  function TaskOverlay() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TaskOverlay);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TaskOverlay)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      editHead: false,\n      editDesc: false,\n      commentText: '',\n      task: {}\n    };\n\n    _this.onClose = function () {\n      var _this$props = _this.props,\n          onClose = _this$props.onClose,\n          taskId = _this$props.taskId;\n      onClose(taskId);\n\n      _this.setState({\n        editHead: false,\n        editDesc: false,\n        commentText: ''\n      });\n    };\n\n    _this.toggleElemTitle = function () {\n      var editHead = _this.state.editHead;\n      var _this$props2 = _this.props,\n          _class = _this$props2._class,\n          updateClassValue = _this$props2.updateClassValue;\n\n      if (editHead && _class.overLayContent.taskTitle !== '') {\n        var newTasks = _objectSpread({}, _class.tasks);\n\n        newTasks[_class.overLayContent.taskId] = {\n          id: _class.overLayContent.taskId,\n          title: _class.overLayContent.taskTitle,\n          description: _class.overLayContent.taskDescription,\n          comments: _class.overLayContent.comments\n        };\n        updateClassValue('tasks', _objectSpread({}, newTasks));\n      }\n\n      _this.setState({\n        editHead: !editHead\n      });\n    };\n\n    _this.toggleElemDesc = function () {\n      var editDesc = _this.state.editDesc;\n      var _this$props3 = _this.props,\n          _class = _this$props3._class,\n          updateClassValue = _this$props3.updateClassValue;\n\n      if (editDesc && _class.overLayContent.taskTitle !== '') {\n        var newTasks = _objectSpread({}, _class.tasks);\n\n        newTasks[_class.overLayContent.taskId] = {\n          id: _class.overLayContent.taskId,\n          title: _class.overLayContent.taskTitle,\n          description: _class.overLayContent.taskDescription,\n          comments: _class.overLayContent.comments\n        };\n        updateClassValue('tasks', _objectSpread({}, newTasks));\n      }\n\n      _this.setState({\n        editDesc: !editDesc\n      });\n    };\n\n    _this.titleChange = function (e) {\n      var _this$props4 = _this.props,\n          _class = _this$props4._class,\n          updateClassValue = _this$props4.updateClassValue;\n      var _class$overLayContent = _class.overLayContent,\n          isOpen = _class$overLayContent.isOpen,\n          taskId = _class$overLayContent.taskId,\n          taskDescription = _class$overLayContent.taskDescription,\n          comments = _class$overLayContent.comments;\n      updateClassValue('overLayContent', {\n        isOpen: isOpen,\n        taskId: taskId,\n        taskTitle: e.target.value,\n        taskDescription: taskDescription,\n        comments: comments\n      });\n    };\n\n    _this.descChange = function (e) {\n      var _this$props5 = _this.props,\n          _class = _this$props5._class,\n          updateClassValue = _this$props5.updateClassValue;\n      var _class$overLayContent2 = _class.overLayContent,\n          isOpen = _class$overLayContent2.isOpen,\n          taskId = _class$overLayContent2.taskId,\n          taskTitle = _class$overLayContent2.taskTitle,\n          comments = _class$overLayContent2.comments;\n      updateClassValue('overLayContent', {\n        isOpen: isOpen,\n        taskId: taskId,\n        taskTitle: taskTitle,\n        taskDescription: e.target.value,\n        comments: comments\n      });\n    };\n\n    _this.putComment = function (e) {\n      _this.setState({\n        commentText: e.target.value\n      });\n    };\n\n    _this.submitComment = function () {\n      var commentText = _this.state.commentText;\n\n      if (commentText !== '') {\n        var _this$props6 = _this.props,\n            _class = _this$props6._class,\n            main = _this$props6.main,\n            updateClassValue = _this$props6.updateClassValue;\n        var _class$overLayContent3 = _class.overLayContent,\n            isOpen = _class$overLayContent3.isOpen,\n            taskId = _class$overLayContent3.taskId,\n            taskTitle = _class$overLayContent3.taskTitle,\n            taskDescription = _class$overLayContent3.taskDescription,\n            comments = _class$overLayContent3.comments;\n        var newComment = [{\n          commentId: Math.random().toString(36).substring(7),\n          user: {\n            userId: main.user.id,\n            userName: \"\".concat(main.user.firstName, \" \").concat(main.user.middleName, \" \").concat(main.user.lastName),\n            profilePic: 'www.google.com'\n          },\n          text: commentText,\n          timestamp: Date.now()\n        }].concat(_toConsumableArray(comments));\n        updateClassValue('overLayContent', {\n          isOpen: isOpen,\n          taskId: taskId,\n          taskTitle: taskTitle,\n          taskDescription: taskDescription,\n          comments: newComment\n        });\n        updateClassValue('tasks', _objectSpread({}, _class.tasks, _defineProperty({}, taskId, _objectSpread({}, _class.tasks[taskId], {\n          comments: newComment\n        }))));\n\n        _this.setState({\n          commentText: ''\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(TaskOverlay, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var _this$props7 = this.props,\n          taskId = _this$props7.taskId,\n          tasks = _this$props7.tasks;\n      tasks.map(function (obj) {\n        if (obj.id === taskId) {\n          _this2.setState({\n            task: obj\n          });\n        }\n      });\n    } // on overlay close\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          isOpen = _this$props8.isOpen,\n          taskId = _this$props8.taskId,\n          tasks = _this$props8.tasks,\n          _class = _this$props8._class;\n      var _class$overLayContent4 = _class.overLayContent,\n          taskTitle = _class$overLayContent4.taskTitle,\n          taskDescription = _class$overLayContent4.taskDescription,\n          comments = _class$overLayContent4.comments;\n      var _this$state = this.state,\n          editHead = _this$state.editHead,\n          editDesc = _this$state.editDesc,\n          commentText = _this$state.commentText,\n          task = _this$state.task;\n      return React.createElement(Dialog, {\n        isOpen: isOpen,\n        onClose: this.onClose,\n        className: \"overlay-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"task-detail-overlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"overlay-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, editHead ? React.createElement(TextArea, {\n        value: taskTitle,\n        onChange: function onChange(e) {\n          return _this3.titleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, taskTitle)), editHead ? React.createElement(Button, {\n        text: \"Save\",\n        onClick: this.toggleElemTitle,\n        className: \"edit-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }) : React.createElement(Button, {\n        text: \"Edit\",\n        onClick: this.toggleElemTitle,\n        className: \"edit-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(Button, {\n        icon: \"cross\",\n        style: {\n          float: 'right'\n        },\n        minimal: true,\n        onClick: this.onClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"overlay-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"desc-head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"u\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Description\"), editDesc ? React.createElement(Button, {\n        text: \"Save\",\n        onClick: this.toggleElemDesc,\n        small: true,\n        className: \"edit-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }) : React.createElement(Button, {\n        text: \"Edit\",\n        onClick: this.toggleElemDesc,\n        small: true,\n        className: \"edit-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, editDesc ? React.createElement(TextArea, {\n        value: taskDescription,\n        onChange: this.descChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, taskDescription))), React.createElement(\"div\", {\n        className: \"comment-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(TextArea, {\n        fill: true,\n        placeholder: \"Put your comments.\",\n        value: commentText,\n        onChange: function onChange(e) {\n          return _this3.putComment(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), React.createElement(Button, {\n        style: {\n          marginLeft: '5px'\n        },\n        text: \"Submit\",\n        intent: Intent.PRIMARY,\n        onClick: this.submitComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"comments\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"History\"), comments.map(function (comment) {\n        return React.createElement(\"div\", {\n          className: \"s-comment\",\n          key: comment.commentId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: profileIcon,\n          height: \"45px\",\n          alt: \"profile or blank profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"com-con\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"com-auth\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          style: {\n            fontSize: '16px',\n            fontWeight: 'bold',\n            padding: '3px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, comment.user.userName), React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, comment.timestamp)), React.createElement(\"div\", {\n          className: \"com-desc\",\n          style: {\n            padding: '3px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        }, comment.text)));\n      }))), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Hello\")));\n    }\n  }]);\n\n  return TaskOverlay;\n}(Component);\n\nTaskOverlay.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  taskId: PropTypes.number.isRequired,\n  tasks: PropTypes.objectOf(PropTypes.any).isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(TaskOverlay);","map":{"version":3,"sources":["/Users/Nabin/workspace/probro/packages/web/src/common/ClassComponents/TaskOverlay.js"],"names":["React","Component","connect","Dialog","Button","TextArea","Intent","PropTypes","profileIcon","require","TaskOverlay","state","editHead","editDesc","commentText","task","onClose","props","taskId","setState","toggleElemTitle","_class","updateClassValue","overLayContent","taskTitle","newTasks","tasks","id","title","description","taskDescription","comments","toggleElemDesc","titleChange","e","isOpen","target","value","descChange","putComment","submitComment","main","newComment","commentId","Math","random","toString","substring","user","userId","userName","firstName","middleName","lastName","profilePic","text","timestamp","Date","now","map","obj","float","marginLeft","PRIMARY","comment","fontSize","fontWeight","padding","propTypes","func","isRequired","bool","number","objectOf","any","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Dialog, Button, TextArea, Intent } from '@blueprintjs/core';\nimport PropTypes from 'prop-types';\n\nconst profileIcon = require('../../assets/imageUploadIcon.png');\n\nclass TaskOverlay extends Component {\n  state = {\n    editHead: false,\n    editDesc: false,\n    commentText: '',\n    task: { },\n  };\n\n  componentWillMount() {\n    const { taskId, tasks } = this.props;\n    tasks.map((obj) => {\n      if (obj.id === taskId) {\n        this.setState({\n          task: obj,\n        });\n      }\n    });\n  }\n\n  // on overlay close\n  onClose = () => {\n    const { onClose, taskId } = this.props;\n    onClose(taskId);\n    this.setState({\n      editHead: false,\n      editDesc: false,\n      commentText: '',\n    });\n  };\n\n  // toggle between the element of title\n  toggleElemTitle = () => {\n    const { editHead } = this.state;\n    const { _class, updateClassValue } = this.props;\n    if (editHead && _class.overLayContent.taskTitle !== '') {\n      const newTasks = { ..._class.tasks };\n      newTasks[_class.overLayContent.taskId] = {\n        id: _class.overLayContent.taskId,\n        title: _class.overLayContent.taskTitle,\n        description: _class.overLayContent.taskDescription,\n        comments: _class.overLayContent.comments,\n      };\n      updateClassValue('tasks', {\n        ...newTasks,\n      });\n    }\n    this.setState({ editHead: !editHead });\n  };\n\n  // toggle between the element of description\n  toggleElemDesc = () => {\n    const { editDesc } = this.state;\n    const { _class, updateClassValue } = this.props;\n    if (editDesc && _class.overLayContent.taskTitle !== '') {\n      const newTasks = { ..._class.tasks };\n      newTasks[_class.overLayContent.taskId] = {\n        id: _class.overLayContent.taskId,\n        title: _class.overLayContent.taskTitle,\n        description: _class.overLayContent.taskDescription,\n        comments: _class.overLayContent.comments,\n      };\n      updateClassValue('tasks', {\n        ...newTasks,\n      });\n    }\n    this.setState({ editDesc: !editDesc });\n  };\n\n  // changing title of the task\n  titleChange = (e) => {\n    const { _class, updateClassValue } = this.props;\n    const {\n      isOpen, taskId, taskDescription, comments,\n    } = _class.overLayContent;\n    updateClassValue('overLayContent', {\n      isOpen,\n      taskId,\n      taskTitle: e.target.value,\n      taskDescription,\n      comments,\n    });\n  }\n\n  // description change of the task\n  descChange = (e) => {\n    const { _class, updateClassValue } = this.props;\n    const {\n      isOpen, taskId, taskTitle, comments,\n    } = _class.overLayContent;\n    updateClassValue('overLayContent', {\n      isOpen,\n      taskId,\n      taskTitle,\n      taskDescription: e.target.value,\n      comments,\n    });\n  }\n\n  putComment = (e) => {\n    this.setState({ commentText: e.target.value });\n  }\n\n  // submitting comment here and change the state in both overlaycontent and in the task\n  // in stores\n  submitComment = () => {\n    const { commentText } = this.state;\n    if (commentText !== '') {\n      const { _class, main, updateClassValue } = this.props;\n      const {\n        isOpen, taskId, taskTitle, taskDescription, comments,\n      } = _class.overLayContent;\n      const newComment = [{\n        commentId: Math.random().toString(36).substring(7),\n        user: {\n          userId: main.user.id,\n          userName: `${main.user.firstName} ${main.user.middleName} ${main.user.lastName}`,\n          profilePic: 'www.google.com',\n        },\n        text: commentText,\n        timestamp: Date.now(),\n      }, ...comments];\n      updateClassValue('overLayContent', {\n        isOpen,\n        taskId,\n        taskTitle,\n        taskDescription,\n        comments: newComment,\n      });\n      updateClassValue('tasks', {\n        ..._class.tasks,\n        [taskId]: {\n          ..._class.tasks[taskId],\n          comments: newComment,\n        },\n      });\n      this.setState({ commentText: '' });\n    }\n  }\n\n  render() {\n    const { isOpen, taskId, tasks, _class } = this.props;\n    const { taskTitle, taskDescription, comments } = _class.overLayContent;\n    const { editHead, editDesc, commentText, task } = this.state;\n    return (\n      <Dialog\n        isOpen={isOpen}\n        onClose={this.onClose}\n        className=\"overlay-container\"\n      >\n        <div className=\"task-detail-overlay\">\n          <div className=\"overlay-title\">\n            {editHead ? <TextArea value={taskTitle} onChange={e => this.titleChange(e)} />\n              : (\n                <div className=\"head\">\n                  <span className=\"title\">\n                    {taskTitle}\n                  </span>\n                </div>\n              )\n            }\n            {editHead\n              ? (\n                <Button\n                  text=\"Save\"\n                  onClick={this.toggleElemTitle}\n                  className=\"edit-button\"\n                />\n              )\n              : (\n                <Button\n                  text=\"Edit\"\n                  onClick={this.toggleElemTitle}\n                  className=\"edit-button\"\n                />\n              )\n            }\n            <Button\n              icon=\"cross\"\n              style={{ float: 'right' }}\n              minimal\n              onClick={this.onClose}\n            />\n          </div>\n          <div className=\"left\">\n            <div className=\"overlay-description\">\n              <div className=\"desc-head\">\n                <u>Description</u>\n                {editDesc\n                  ? (\n                    <Button\n                      text=\"Save\"\n                      onClick={this.toggleElemDesc}\n                      small\n                      className=\"edit-button\"\n                    />\n                  )\n                  : (\n                    <Button\n                      text=\"Edit\"\n                      onClick={this.toggleElemDesc}\n                      small\n                      className=\"edit-button\"\n                    />\n                  )\n                }\n              </div>\n              <div className=\"desc\">\n                {editDesc ? <TextArea value={taskDescription} onChange={this.descChange} /> : <span>{taskDescription}</span>}\n              </div>\n            </div>\n            <div className=\"comment-container\">\n              <TextArea\n                fill\n                placeholder=\"Put your comments.\"\n                value={commentText}\n                onChange={e => this.putComment(e)}\n              />\n              <Button\n                style={{ marginLeft: '5px' }}\n                text=\"Submit\"\n                intent={Intent.PRIMARY}\n                onClick={this.submitComment}\n              />\n            </div>\n            <div className=\"comments\">\n              <h3>History</h3>\n              {comments.map((comment) => {\n                return (\n                  <div className=\"s-comment\" key={comment.commentId}>\n                    <div>\n                      <img\n                        src={profileIcon}\n                        height=\"45px\"\n                        alt=\"profile or blank profile\"\n                      />\n                    </div>\n                    <div className=\"com-con\">\n                      <div className=\"com-auth\">\n                        <span style={{ fontSize: '16px', fontWeight: 'bold', padding: '3px' }}>{comment.user.userName}</span>\n                        <small>{comment.timestamp}</small>\n                      </div>\n                      <div className=\"com-desc\" style={{ padding: '3px' }}>\n                        {comment.text}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"right\">\n              Hello\n          </div>\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nTaskOverlay.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  taskId: PropTypes.number.isRequired,\n  tasks: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nconst mapStateToProps = state => state;\nexport default connect(mapStateToProps)(TaskOverlay);\n"]},"metadata":{},"sourceType":"module"}