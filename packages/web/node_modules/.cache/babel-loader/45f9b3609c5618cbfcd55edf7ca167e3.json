{"ast":null,"code":"import _defineProperty from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Nabin/workspace/probro/packages/web/src/screens/users/bro/ClassManager.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport { Column, NewColumn } from '../../../common/ClassComponents';\nimport { Navbar } from '../../home/component';\nvar initialData = {\n  tasks: {\n    'task-1': {\n      id: 'task-1',\n      content: 'Take out the garbage'\n    },\n    'task-2': {\n      id: 'task-2',\n      content: 'Wash clothes'\n    },\n    'task-3': {\n      id: 'task-3',\n      content: 'Cook your food'\n    },\n    'task-4': {\n      id: 'task-4',\n      content: 'Do proper class in a proper way'\n    },\n    'task-5': {\n      id: 'task-5',\n      content: 'Deadline is coming'\n    }\n  },\n  columns: {\n    'column-1': {\n      id: 'column-1',\n      title: 'todo',\n      taskIds: ['task-1', 'task-4']\n    },\n    'column-2': {\n      id: 'column-2',\n      title: 'Progress',\n      taskIds: ['task-2', 'task-3']\n    },\n    'column-3': {\n      id: 'column-3',\n      title: 'Done',\n      taskIds: ['task-5']\n    }\n  },\n  columnOrder: ['column-1', 'column-2', 'column-3']\n};\n\nvar Classes =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Classes, _Component);\n\n  function Classes() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Classes);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Classes)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = initialData;\n\n    _this.onDragEnd = function (result) {\n      var _objectSpread3;\n\n      var source = result.source,\n          destination = result.destination,\n          draggableId = result.draggableId,\n          type = result.type;\n      var _class = _this.props._class;\n      var columns = _class.columns,\n          columnOrder = _class.columnOrder;\n\n      if (!destination) {\n        return;\n      } // column moving around\n\n\n      if (type === 'column') {\n        var newColumnOrder = Array.from(columnOrder);\n        newColumnOrder.splice(source.index, 1);\n        newColumnOrder.splice(destination.index, 0, draggableId);\n\n        var _newState = _objectSpread({}, _this.state, {\n          columnOrder: newColumnOrder\n        });\n\n        _this.setState(_newState);\n\n        return;\n      }\n\n      var start = columns[source.droppableId];\n      var finish = columns[destination.droppableId];\n\n      if (start === finish) {\n        var newTaskIds = Array.from(start.taskIds);\n        newTaskIds.splice(source.index, 1);\n        newTaskIds.splice(destination.index, 0, draggableId);\n\n        var newColumn = _objectSpread({}, start, {\n          taskIds: newTaskIds\n        });\n\n        var _newState2 = _objectSpread({}, _this.state, {\n          columns: _objectSpread({}, columns, _defineProperty({}, newColumn.id, newColumn))\n        });\n\n        _this.setState(_newState2);\n\n        return;\n      } // moving from one column to another\n\n\n      var startTaskIds = Array.from(start.taskIds);\n      var finishTaskIds = Array.from(finish.taskIds);\n      startTaskIds.splice(source.index, 1);\n\n      var newStart = _objectSpread({}, start, {\n        taskIds: startTaskIds\n      });\n\n      finishTaskIds.splice(destination.index, 0, draggableId);\n\n      var newFinish = _objectSpread({}, finish, {\n        taskIds: finishTaskIds\n      });\n\n      var newState = _objectSpread({}, _this.state, {\n        columns: _objectSpread({}, columns, (_objectSpread3 = {}, _defineProperty(_objectSpread3, newStart.id, newStart), _defineProperty(_objectSpread3, newFinish.id, newFinish), _objectSpread3))\n      });\n\n      _this.setState(newState);\n    };\n\n    return _this;\n  }\n\n  _createClass(Classes, [{\n    key: \"render\",\n    value: function render() {\n      var _class = this.props._class;\n      var tasks = _class.tasks,\n          columns = _class.columns,\n          columnOrder = _class.columnOrder;\n      console.log(this.props);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"classWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(DragDropContext, {\n        onDragEnd: this.onDragEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Droppable, {\n        droppableId: \"all-columns\",\n        direction: \"horizontal\",\n        type: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, function (provided) {\n        return React.createElement(\"div\", Object.assign({\n          className: \"columns\"\n        }, provided.droppableProps, {\n          ref: provided.innerRef,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }), columnOrder.map(function (columnId, index) {\n          var column = columns[columnId];\n          var allTask = column.taskIds.map(function (taskId) {\n            return tasks[taskId];\n          });\n          return React.createElement(Column, {\n            key: column.id,\n            column: column,\n            tasks: allTask,\n            index: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          });\n        }), provided.placeholder, React.createElement(NewColumn, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }));\n      }))));\n    }\n  }]);\n\n  return Classes;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, ownprops) {\n  return _objectSpread({}, state, ownprops);\n};\n\nexport default connect(mapStateToProps)(Classes);","map":{"version":3,"sources":["/Users/Nabin/workspace/probro/packages/web/src/screens/users/bro/ClassManager.js"],"names":["React","Component","connect","DragDropContext","Droppable","Column","NewColumn","Navbar","initialData","tasks","id","content","columns","title","taskIds","columnOrder","Classes","state","onDragEnd","result","source","destination","draggableId","type","_class","props","newColumnOrder","Array","from","splice","index","newState","setState","start","droppableId","finish","newTaskIds","newColumn","startTaskIds","finishTaskIds","newStart","newFinish","console","log","provided","droppableProps","innerRef","map","columnId","column","allTask","taskId","placeholder","mapStateToProps","ownprops"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport { Column, NewColumn } from '../../../common/ClassComponents';\nimport { Navbar } from '../../home/component';\n\nconst initialData = {\n  tasks: {\n    'task-1': { id: 'task-1', content: 'Take out the garbage' },\n    'task-2': { id: 'task-2', content: 'Wash clothes' },\n    'task-3': { id: 'task-3', content: 'Cook your food' },\n    'task-4': { id: 'task-4', content: 'Do proper class in a proper way' },\n    'task-5': { id: 'task-5', content: 'Deadline is coming' },\n  },\n  columns: {\n    'column-1': {\n      id: 'column-1',\n      title: 'todo',\n      taskIds: ['task-1', 'task-4'],\n    },\n    'column-2': {\n      id: 'column-2',\n      title: 'Progress',\n      taskIds: ['task-2', 'task-3'],\n    },\n    'column-3': {\n      id: 'column-3',\n      title: 'Done',\n      taskIds: ['task-5'],\n    },\n  },\n  columnOrder: ['column-1', 'column-2', 'column-3'],\n};\n\nclass Classes extends Component {\n  state = initialData;\n\n  onDragEnd = (result) => {\n    const { source, destination, draggableId, type } = result;\n    const { _class } = this.props;\n    const { columns, columnOrder } = _class;\n    if (!destination) {\n      return;\n    }\n    // column moving around\n    if (type === 'column') {\n      const newColumnOrder = Array.from(columnOrder);\n      newColumnOrder.splice(source.index, 1);\n      newColumnOrder.splice(destination.index, 0, draggableId);\n      const newState = {\n        ...this.state,\n        columnOrder: newColumnOrder,\n      };\n      this.setState(newState);\n      return;\n    }\n    const start = columns[source.droppableId];\n    const finish = columns[destination.droppableId];\n\n    if (start === finish) {\n      const newTaskIds = Array.from(start.taskIds);\n      newTaskIds.splice(source.index, 1);\n      newTaskIds.splice(destination.index, 0, draggableId);\n      const newColumn = {\n        ...start,\n        taskIds: newTaskIds,\n      };\n      const newState = {\n        ...this.state,\n        columns: {\n          ...columns,\n          [newColumn.id]: newColumn,\n        },\n      };\n      this.setState(newState);\n      return;\n    }\n    // moving from one column to another\n    const startTaskIds = Array.from(start.taskIds);\n    const finishTaskIds = Array.from(finish.taskIds);\n    startTaskIds.splice(source.index, 1);\n    const newStart = {\n      ...start,\n      taskIds: startTaskIds,\n    };\n    finishTaskIds.splice(destination.index, 0, draggableId);\n    const newFinish = {\n      ...finish,\n      taskIds: finishTaskIds,\n    };\n    const newState = {\n      ...this.state,\n      columns: {\n        ...columns,\n        [newStart.id]: newStart,\n        [newFinish.id]: newFinish,\n      },\n    };\n    this.setState(newState);\n  }\n\n  render() {\n    const { _class } = this.props;\n    const { tasks, columns, columnOrder } = _class;\n    console.log(this.props);\n    return (\n      <div>\n        <Navbar />\n        <div className=\"classWrapper\">\n          <DragDropContext\n            onDragEnd={this.onDragEnd}\n          >\n            <Droppable\n              droppableId=\"all-columns\"\n              direction=\"horizontal\"\n              type=\"column\"\n            >\n              { provided => (\n                <div\n                  className=\"columns\"\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                >\n                  {\n                    columnOrder.map((columnId, index) => {\n                      const column = columns[columnId];\n                      const allTask = column.taskIds.map(taskId => tasks[taskId]);\n                      return (\n                        <Column\n                          key={column.id}\n                          column={column}\n                          tasks={allTask}\n                          index={index}\n                        />\n                      );\n                    })\n                  }\n                  {provided.placeholder}\n                  <NewColumn />\n                </div>\n              )}\n            </Droppable>\n          </DragDropContext>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownprops) => ({ ...state, ...ownprops });\nexport default connect(mapStateToProps)(Classes);\n"]},"metadata":{},"sourceType":"module"}