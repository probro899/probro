{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Nabin/workspace/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { updateFormValue } from '../index';\nimport { ENDPOINT } from '../../config';\nexport default\n/*#__PURE__*/\n(function () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(dispatch, getState) {\n    var _getState, form, token, _form$advancedForm, experience, products, onlinePortals, res, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            dispatch(updateFormValue('advancedForm', {\n              loading: true,\n              error: null,\n              success: null\n            }));\n            _getState = getState(), form = _getState.form;\n            token = sessionStorage.getItem('SESSION_ID');\n            _form$advancedForm = form.advancedForm, experience = _form$advancedForm.experience, products = _form$advancedForm.products, onlinePortals = _form$advancedForm.onlinePortals;\n            _context.prev = 4;\n            _context.next = 7;\n            return axios.post(\"\".concat(ENDPOINT, \"/web/update-user-details\"), {\n              token: token,\n              experience: experience,\n              products: products,\n              onlinePortals: onlinePortals\n            });\n\n          case 7:\n            res = _context.sent;\n            data = res.data;\n\n            if (res.status === 200 && data.token) {\n              dispatch(updateFormValue('advancedForm', {\n                loading: false,\n                error: null,\n                success: true\n              }));\n            }\n\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](4);\n            dispatch(updateFormValue('advancedForm', {\n              loading: false,\n              error: 'Error to be handled.'\n            }));\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 12]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})();","map":{"version":3,"sources":["/Users/Nabin/workspace/probro/packages/web/src/actions/helper-functions/advancedFormHandler.js"],"names":["axios","updateFormValue","ENDPOINT","dispatch","getState","loading","error","success","form","token","sessionStorage","getItem","advancedForm","experience","products","onlinePortals","post","res","data","status"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,UAAhC;AACA,SAASC,QAAT,QAAyB,cAAzB;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAe,iBAAOC,QAAP,EAAiBC,QAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACbD,YAAAA,QAAQ,CAACF,eAAe,CAAC,cAAD,EAAiB;AAAEI,cAAAA,OAAO,EAAE,IAAX;AAAiBC,cAAAA,KAAK,EAAE,IAAxB;AAA8BC,cAAAA,OAAO,EAAE;AAAvC,aAAjB,CAAhB,CAAR;AADa,wBAEIH,QAAQ,EAFZ,EAELI,IAFK,aAELA,IAFK;AAGPC,YAAAA,KAHO,GAGCC,cAAc,CAACC,OAAf,CAAuB,YAAvB,CAHD;AAAA,iCAMTH,IAAI,CAACI,YANI,EAKXC,UALW,sBAKXA,UALW,EAKCC,QALD,sBAKCA,QALD,EAKWC,aALX,sBAKWA,aALX;AAAA;AAAA;AAAA,mBAQOf,KAAK,CAACgB,IAAN,WAAcd,QAAd,+BAAkD;AAClEO,cAAAA,KAAK,EAALA,KADkE;AAC3DI,cAAAA,UAAU,EAAVA,UAD2D;AAC/CC,cAAAA,QAAQ,EAARA,QAD+C;AACrCC,cAAAA,aAAa,EAAbA;AADqC,aAAlD,CARP;;AAAA;AAQLE,YAAAA,GARK;AAWHC,YAAAA,IAXG,GAWMD,GAXN,CAWHC,IAXG;;AAYX,gBAAID,GAAG,CAACE,MAAJ,KAAe,GAAf,IAAsBD,IAAI,CAACT,KAA/B,EAAsC;AACpCN,cAAAA,QAAQ,CAACF,eAAe,CAAC,cAAD,EAAiB;AACvCI,gBAAAA,OAAO,EAAE,KAD8B;AAEvCC,gBAAAA,KAAK,EAAE,IAFgC;AAGvCC,gBAAAA,OAAO,EAAE;AAH8B,eAAjB,CAAhB,CAAR;AAKD;;AAlBU;AAAA;;AAAA;AAAA;AAAA;AAoBXJ,YAAAA,QAAQ,CAACF,eAAe,CAAC,cAAD,EAAiB;AAAEI,cAAAA,OAAO,EAAE,KAAX;AAAkBC,cAAAA,KAAK,EAAE;AAAzB,aAAjB,CAAhB,CAAR;;AApBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import axios from 'axios';\nimport { updateFormValue } from '../index';\nimport { ENDPOINT } from '../../config';\n\nexport default async (dispatch, getState) => {\n  dispatch(updateFormValue('advancedForm', { loading: true, error: null, success: null }));\n  const { form } = getState();\n  const token = sessionStorage.getItem('SESSION_ID');\n  const {\n    experience, products, onlinePortals,\n  } = form.advancedForm;\n  try {\n    const res = await axios.post(`${ENDPOINT}/web/update-user-details`, {\n      token, experience, products, onlinePortals,\n    });\n    const { data } = res;\n    if (res.status === 200 && data.token) {\n      dispatch(updateFormValue('advancedForm', {\n        loading: false,\n        error: null,\n        success: true,\n      }));\n    }\n  } catch {\n    dispatch(updateFormValue('advancedForm', { loading: false, error: 'Error to be handled.' }));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}