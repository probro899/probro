{"ast":null,"code":"import _regeneratorRuntime from \"/home/bhagya/workspace/reactjs/projects/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/bhagya/workspace/reactjs/projects/probro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { updateFormValue } from '../index';\nimport { ENDPOINT } from '../../config';\nexport default\n/*#__PURE__*/\n(function () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(dispatch, getState, apis) {\n    var _getState, form, token, _form$additionalForm, phoneNumber, degree, gender, field, profilePicture, skills;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            dispatch(updateFormValue('additionalForm', {\n              loading: true,\n              error: null,\n              success: null\n            }));\n            _getState = getState(), form = _getState.form;\n            token = sessionStorage.getItem('SESSION_ID');\n            _form$additionalForm = form.additionalForm, phoneNumber = _form$additionalForm.phoneNumber, degree = _form$additionalForm.degree, gender = _form$additionalForm.gender, field = _form$additionalForm.field, profilePicture = _form$additionalForm.profilePicture, skills = _form$additionalForm.skills;\n\n            try {\n              // const res = await axios.post(`${ENDPOINT}/web/update-user-details`, {\n              //   token, phoneNumber, degree, gender, field, profilePicture, skills,\n              // });\n              apis.updateUserDetails({\n                token: token,\n                phoneNumber: phoneNumber,\n                degree: degree,\n                gender: gender,\n                field: field,\n                profilePicture: profilePicture,\n                skills: skills\n              }).catch(function (e) {\n                console.log('eeror in catch', e);\n              });\n              dispatch(updateFormValue('additionalForm', {\n                loading: false,\n                error: 'Error to be handled.'\n              })); // const { data } = res;\n              // if (res.status === 200 && data.token) {\n              //   dispatch(updateFormValue('additionalForm', {\n              //     loading: false,\n              //     error: null,\n              //     success: true,\n              //   }));\n              // }\n            } catch (e) {\n              console.log('error in addAdditional data', e);\n              dispatch(updateFormValue('additionalForm', {\n                loading: false,\n                error: 'Error to be handled.'\n              }));\n            }\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})();","map":{"version":3,"sources":["/home/bhagya/workspace/reactjs/projects/probro/packages/web/src/actions/helper-functions/additionalFormHandler.js"],"names":["axios","updateFormValue","ENDPOINT","dispatch","getState","apis","loading","error","success","form","token","sessionStorage","getItem","additionalForm","phoneNumber","degree","gender","field","profilePicture","skills","updateUserDetails","catch","e","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,UAAhC;AACA,SAASC,QAAT,QAAyB,cAAzB;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAe,iBAAOC,QAAP,EAAiBC,QAAjB,EAA2BC,IAA3B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACbF,YAAAA,QAAQ,CAACF,eAAe,CAAC,gBAAD,EAAmB;AAAEK,cAAAA,OAAO,EAAE,IAAX;AAAiBC,cAAAA,KAAK,EAAE,IAAxB;AAA8BC,cAAAA,OAAO,EAAE;AAAvC,aAAnB,CAAhB,CAAR;AADa,wBAEIJ,QAAQ,EAFZ,EAELK,IAFK,aAELA,IAFK;AAGPC,YAAAA,KAHO,GAGCC,cAAc,CAACC,OAAf,CAAuB,YAAvB,CAHD;AAAA,mCAMTH,IAAI,CAACI,cANI,EAKXC,WALW,wBAKXA,WALW,EAKEC,MALF,wBAKEA,MALF,EAKUC,MALV,wBAKUA,MALV,EAKkBC,KALlB,wBAKkBA,KALlB,EAKyBC,cALzB,wBAKyBA,cALzB,EAKyCC,MALzC,wBAKyCA,MALzC;;AAOb,gBAAI;AACF;AACA;AACA;AACAd,cAAAA,IAAI,CAACe,iBAAL,CAAuB;AAAEV,gBAAAA,KAAK,EAALA,KAAF;AAASI,gBAAAA,WAAW,EAAXA,WAAT;AAAsBC,gBAAAA,MAAM,EAANA,MAAtB;AAA8BC,gBAAAA,MAAM,EAANA,MAA9B;AAAsCC,gBAAAA,KAAK,EAALA,KAAtC;AAA6CC,gBAAAA,cAAc,EAAdA,cAA7C;AAA6DC,gBAAAA,MAAM,EAANA;AAA7D,eAAvB,EAA8FE,KAA9F,CAAoG,UAACC,CAAD,EAAO;AACzGC,gBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,CAA9B;AACD,eAFD;AAGAnB,cAAAA,QAAQ,CAACF,eAAe,CAAC,gBAAD,EAAmB;AAAEK,gBAAAA,OAAO,EAAE,KAAX;AAAkBC,gBAAAA,KAAK,EAAE;AAAzB,eAAnB,CAAhB,CAAR,CAPE,CAQF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,aAhBD,CAgBE,OAAOe,CAAP,EAAU;AACVC,cAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,CAA3C;AACAnB,cAAAA,QAAQ,CAACF,eAAe,CAAC,gBAAD,EAAmB;AAAEK,gBAAAA,OAAO,EAAE,KAAX;AAAkBC,gBAAAA,KAAK,EAAE;AAAzB,eAAnB,CAAhB,CAAR;AACD;;AA1BY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import axios from 'axios';\nimport { updateFormValue } from '../index';\nimport { ENDPOINT } from '../../config';\n\nexport default async (dispatch, getState, apis) => {\n  dispatch(updateFormValue('additionalForm', { loading: true, error: null, success: null }));\n  const { form } = getState();\n  const token = sessionStorage.getItem('SESSION_ID');\n  const {\n    phoneNumber, degree, gender, field, profilePicture, skills,\n  } = form.additionalForm;\n  try {\n    // const res = await axios.post(`${ENDPOINT}/web/update-user-details`, {\n    //   token, phoneNumber, degree, gender, field, profilePicture, skills,\n    // });\n    apis.updateUserDetails({ token, phoneNumber, degree, gender, field, profilePicture, skills }).catch((e) => {\n      console.log('eeror in catch', e);\n    });\n    dispatch(updateFormValue('additionalForm', { loading: false, error: 'Error to be handled.' }));\n    // const { data } = res;\n    // if (res.status === 200 && data.token) {\n    //   dispatch(updateFormValue('additionalForm', {\n    //     loading: false,\n    //     error: null,\n    //     success: true,\n    //   }));\n    // }\n  } catch (e) {\n    console.log('error in addAdditional data', e);\n    dispatch(updateFormValue('additionalForm', { loading: false, error: 'Error to be handled.' }));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}